/*! For license information please see 227.547c2bad4fde4e74488a.js.LICENSE.txt */
"use strict";(self.webpackChunk_duckdb_duckdb_wasm_shell=self.webpackChunk_duckdb_duckdb_wasm_shell||[]).push([[227],{2434:(e,t,r)=>{r.d(t,{Z:()=>i});const i={root:"frHF8OmxPSbO9CJJjVzS",header:"lsHoSoWXtbJfZdvxKr2w",header_title:"c5IX2RKyY8u7dvmt6pdd",close:"zeZnGth9eL9shpw4kmqO",file_list:"Q48sP2Baf4AtCXddqoBI",file_list_entry:"NjTTbjfS5etLNbXpka7l",file_list_entry_name:"HlvtXaLuymnVNdMnGzYJ",file_list_entry_size:"jxkuBzPeGKuTv3dvmMVg",file_list_entry_action:"GujT0AdcOh01Nv9S8rAp",file_list_entry_action_toggled:"qtTKyHDqqE7QO0vZAjvf",no_files:"BG8WtWSHA92zxo1y78JS",footer_actions:"UTwrqNXkIimFNwvLN8Qj",footer_label:"eptYHfFHZogdvnHWiggA",footer_action:"d73Xb3ycAZSVp8ooMliu"}},5073:(e,t,r)=>{r.d(t,{Z:()=>i});const i={root:"EjwxHylAFWvFF5SjNC3S",resizer:"wNomJ8DzdMHJMuW9szPK",term_container:"pmw_E9qL2vscQDnXR34u"}},7178:()=>{},227:(e,t,r)=>{r.a(e,(async e=>{var t=r(2784),i=r(8316),n=r(1960),s=r(3194),a=r(6215),o=r(2833),l=r(289),c=r(6068),u=r(7352),d=(r(7178),r(5098),r(7265)),h=r(9117),f=r(6795),p=r(5079),y=e([n,a]);[n,a]=y.then?await y:y;var b={mvp:{mainModule:h,mainWorker:new URL(r(949),r.b).toString()},next:{mainModule:f,mainWorker:new URL(r(4012),r.b).toString()},nextCOI:{mainModule:p,mainWorker:new URL(r(3609),r.b).toString(),pthreadWorker:new URL(r(9003),r.b).toString()}};function m(){return e=this,t=void 0,i=function(){var e,t,r,i;return function(e,t){var r,i,n,s,a={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return s={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function o(s){return function(o){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,i&&(n=2&s[0]?i.return:s[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,s[1])).done)return n;switch(i=0,n&&(s=[2&s[0],n.value]),s[0]){case 0:case 1:n=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,i=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((n=(n=a.trys).length>0&&n[n.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!n||s[1]>n[0]&&s[1]<n[3])){a.label=s[1];break}if(6===s[0]&&a.label<n[1]){a.label=n[1],n=s;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(s);break}n[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],i=0}finally{r=n=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,o])}}}(this,(function(n){switch(n.label){case 0:return[4,d.Dn(b)];case 1:return e=n.sent(),t=new Worker(e.mainWorker),r=new d.kw,[4,(i=new d.ak(r,t)).instantiate(e.mainModule,e.pthreadWorker)];case 2:return n.sent(),[2,i]}}))},new((r=void 0)||(r=Promise))((function(n,s){function a(e){try{l(i.next(e))}catch(e){s(e)}}function o(e){try{l(i.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,o)}l((i=i.apply(e,t||[])).next())}));var e,t,r,i}var _=(0,c.c)((0,u.F)((function(){return t.createElement(a.N,{resolveDatabase:m,padding:[16,0,0,20],backgroundColor:"#333"})}))),g=(0,c.c)((function(){return t.createElement(s.e,null)})),v=document.getElementById("root");i.render(t.createElement(n.nI,null,t.createElement(n.on,null,t.createElement(o.VK,null,t.createElement(l.Z5,null,t.createElement(l.AW,{path:"/versus",element:t.createElement(g,null)}),t.createElement(l.AW,{path:"/",element:t.createElement(_,null)}),t.createElement(l.AW,{path:"*",element:t.createElement(l.Fg,{to:"/"})}))))),v)}))},7352:(e,t,r)=>{r.d(t,{F:()=>a});var i=r(2784);var n=function(){return n=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},n.apply(this,arguments)},s=function(e){return i.createElement("div",{className:"Rzidb1JwPa8fIIeb7Se3"},i.createElement("span",{className:"cnQ_ITeZlNNh3zKAVkwr"},"CAUTION:"),i.createElement("span",{className:"fCYMHWyQYecesbNT_MlS"},"Alpha-quality software in the wild! Talk to us"),i.createElement("a",{className:"R77G2ohZ1V0XW1lWPFgw",target:"_blank",href:"https://github.com/duckdb/duckdb-wasm/discussions",rel:"noreferrer"},"here"))};function a(e){return function(t){return i.createElement("div",{className:"hRcUI6d8SOyzYqKboXV0"},i.createElement(s,null),i.createElement("div",{className:"qanajNFCe8AqssRmf42Q"},i.createElement(e,n({},t))))}}},7959:(e,t,r)=>{r.a(e,(async e=>{r.d(t,{e:()=>y});var i=r(1960),n=r(1978),s=r(8516),a=r(2784),o=r(2779),l=r.n(o),c=r(2434),u=r(3239),d=r(4734),h=r(526),f=r(329),p=e([i,n]);[i,n]=p.then?await p:p;var y=function(e){var t=a.useRef(null),r=i.Md(),o=i.qj(),p=function(){return r({type:i.U_,data:null})};return a.createElement("div",{className:c.Z.root},a.createElement("div",{className:c.Z.header},a.createElement("div",{className:c.Z.header_title},"Files"),a.createElement("div",{className:c.Z.close,onClick:p},a.createElement("svg",{width:"20px",height:"20px"},a.createElement("use",{xlinkHref:"".concat(d,"#sym")})))),a.createElement("div",{className:c.Z.file_list},o.files.toArray().map((function(e){return t=e[1],a.createElement("div",{key:t.name,className:c.Z.file_list_entry},a.createElement("div",{className:c.Z.file_list_entry_name},t.name),a.createElement("div",{className:c.Z.file_list_entry_size},(0,u.td)(t.size||0)),a.createElement("div",{className:l()((r={},r[c.Z.file_list_entry_action]=!t.fileStatsEnabled,r[c.Z.file_list_entry_action_toggled]=t.fileStatsEnabled,r)),onClick:function(){return n.Gu(t.name,!t.fileStatsEnabled)}},a.createElement("svg",{width:"18px",height:"18px"},a.createElement("use",{xlinkHref:"".concat(h,"#sym")}))),a.createElement("div",{className:c.Z.file_list_entry_action},a.createElement("svg",{width:"20px",height:"20px"},a.createElement("use",{xlinkHref:"".concat(f,"#sym")}))));var t,r})),0==o.files.size&&a.createElement("div",{className:c.Z.no_files},"No files registered")),a.createElement("div",{className:c.Z.footer_actions},a.createElement(s.Z,{className:c.Z.footer_action,variant:"primary",size:"sm",onClick:function(){var e;return null===(e=t.current)||void 0===e?void 0:e.click()}},a.createElement("input",{ref:t,onChange:function(t){e.addLocalFiles(t.target.files)},type:"file",style:{display:"none"}}),"Local File"),a.createElement(s.Z,{className:c.Z.footer_action,variant:"primary",size:"sm",onClick:p,disabled:!0},"HTTP File")))}}))},6068:(e,t,r)=>{r.d(t,{c:()=>y});var i=r(2784),n=r(2779),s=r.n(n),a=r(2833),o=r(289);const l={container:"MgE8UmO_jho2r_HikcFG",navbar:"Ik38kjC8InfXiyMIklkB",tabs:"bm9W3OhPnGkKhLwJ516g",logo:"Pr00W8Wp3LmJVbOJUr0W",tabNavbar:"iJCjJPuh9KQo8iwCNd16",tab:"yzjBuH6YN7NFao36gSMl",tabButton:"SCfU8XvxNRkZroE_3kvE",tabTextIcon:"UI3cWVGIxV4XnPJcJcDQ",active:"YnI4T386XnxghA5ap8dg"};var c=r(6513),u=r(9643),d=r(2593),h=function(){return h=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},h.apply(this,arguments)},f=function(e){var t;return i.createElement("div",{key:e.route,className:s()(l.tab,(t={},t[l.active]=e.location==e.route,t))},e.external?i.createElement("a",{href:e.route,target:"blank"},i.createElement("div",{className:l.tabButton},e.text?i.createElement("div",{className:l.tabTextIcon},e.text):i.createElement("svg",{className:l.tabIcon,width:"18px",height:"18px"},i.createElement("use",{xlinkHref:"".concat(e.icon,"#sym")})))):i.createElement(a.rU,{to:e.route},i.createElement("div",{className:l.tabButton},e.text?i.createElement("div",{className:l.tabTextIcon},e.text):i.createElement("svg",{className:l.tabIcon,width:"18px",height:"18px"},i.createElement("use",{xlinkHref:"".concat(e.icon,"#sym")})))))},p=function(e){var t=(0,o.TH)();return i.createElement("div",{className:l.navbar},i.createElement("div",{className:l.logo},i.createElement("svg",{width:"32px",height:"32px"},i.createElement("use",{xlinkHref:"".concat(c,"#sym")}))),i.createElement("div",{className:l.tabs},i.createElement(f,{route:"/",location:t.pathname,icon:u}),i.createElement(f,{route:"docs/modules/index.html",location:t.pathname,icon:d,external:!0}),i.createElement(f,{route:"/versus",location:t.pathname,text:"vs"})))};function y(e){return function(t){return i.createElement("div",{className:l.container},i.createElement(p,null),i.createElement("div",{className:l.page},i.createElement(e,h({},t))))}}},6237:(e,t,r)=>{r.d(t,{a:()=>a});var i=r(2784);var n=r(2864),s=r(4769),a=function(e){return i.createElement(n.M,null,i.createElement(s.E.div,{className:"D5EnIgUbWdQliwmxn2bQ",initial:{backgroundColor:"rgba(0,0,0,0.2)"},animate:{backgroundColor:"rgba(0,0,0,0.6)"},transition:{duration:.2}},i.createElement(s.E.div,{className:"mY2Df9KpkQQPBtiHn2pg",initial:{translateY:80},animate:{translateY:0},transition:{duration:.2}},e.children)))}},7413:(e,t,r)=>{r.d(t,{sg:()=>o,SI:()=>l,nI:()=>h,qj:()=>f,RI:()=>p});var i=r(2784),n=r(7623),s=function(){return s=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},s.apply(this,arguments)},a={files:n.ZP.Map()},o=Symbol("UPDATE_FILE_INFO"),l=Symbol("REGISTER_FILES"),c=function(e,t){switch(t.type){case o:return s(s({},e),{files:e.files.withMutations((function(e){var r=e.get(t.data.name);r?e.set(t.data.name,s(s({},r),t.data)):e.set(t.data.name,s({url:null,size:null,fileStatsEnabled:!1},t.data))}))});case l:return s(s({},e),{files:e.files.withMutations((function(e){var r,i;try{for(var n=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],i=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(t.data),s=n.next();!s.done;s=n.next()){var a=s.value;e.set(a.name,a)}}catch(e){r={error:e}}finally{try{s&&!s.done&&(i=n.return)&&i.call(n)}finally{if(r)throw r.error}}}))})}},u=i.createContext(a),d=i.createContext((function(){})),h=function(e){var t=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var i,n,s=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(i=s.next()).done;)a.push(i.value)}catch(e){n={error:e}}finally{try{i&&!i.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return a}(i.useReducer(c,a),2),r=t[0],n=t[1];return i.createElement(u.Provider,{value:r},i.createElement(d.Provider,{value:n},e.children))},f=function(){return i.useContext(u)},p=function(){return i.useContext(d)}},1960:(e,t,r)=>{r.a(e,(async e=>{r.d(t,{nI:()=>i.nI,SI:()=>i.SI,sg:()=>i.sg,qj:()=>i.qj,RI:()=>i.RI,U_:()=>n.U_,Q6:()=>n.Q6,Pj:()=>n.Pj,on:()=>n.on,su:()=>n.su,Md:()=>n.Md});var i=r(7413),n=r(1515),s=e([n]);n=(s.then?await s:s)[0]}))},1515:(e,t,r)=>{r.a(e,(async e=>{r.d(t,{Pj:()=>a,Q6:()=>o,U_:()=>l,on:()=>h,su:()=>f,Md:()=>p});var i=r(2784),n=r(1978),s=e([n]);n=(s.then?await s:s)[0];var a;!function(e){e[e.FILE_EXPLORER=0]="FILE_EXPLORER"}(a||(a={}));var o=Symbol("SHOW_OVERLAY"),l=Symbol("CLOSE_OVERLAY"),c=function(e,t){switch(t.type){case o:return t.data;case l:return e===a.FILE_EXPLORER&&n.gy(n.Ve.FileInput),null;default:return e}},u=i.createContext(null),d=i.createContext((function(){})),h=function(e){var t=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var i,n,s=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(i=s.next()).done;)a.push(i.value)}catch(e){n={error:e}}finally{try{i&&!i.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return a}(i.useReducer(c,null),2),r=t[0],n=t[1];return i.createElement(u.Provider,{value:r},i.createElement(d.Provider,{value:n},e.children))},f=function(){return i.useContext(u)},p=function(){return i.useContext(d)}}))},6215:(e,t,r)=>{r.a(e,(async e=>{r.d(t,{N:()=>g});var i=r(1960),n=r(1978),s=r(2784),a=r(7959),o=r(6237),l=r(2515),c=r(6276),u=r(8891),d=r(5073),h=e([a,i,n]);[a,i,n]=h.then?await h:h;var f=function(e,t,r,i){return new(r||(r=Promise))((function(n,s){function a(e){try{l(i.next(e))}catch(e){s(e)}}function o(e){try{l(i.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,o)}l((i=i.apply(e,t||[])).next())}))},p=function(e,t){var r,i,n,s,a={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return s={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function o(s){return function(o){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,i&&(n=2&s[0]?i.return:s[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,s[1])).done)return n;switch(i=0,n&&(s=[2&s[0],n.value]),s[0]){case 0:case 1:n=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,i=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((n=(n=a.trys).length>0&&n[n.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!n||s[1]>n[0]&&s[1]<n[3])){a.label=s[1];break}if(6===s[0]&&a.label<n[1]){a.label=n[1],n=s;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(s);break}n[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],i=0}finally{r=n=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,o])}}},y=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var i,n,s=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(i=s.next()).done;)a.push(i.value)}catch(e){n={error:e}}finally{try{i&&!i.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return a},b=function(){if(u.G)return!1;var e=document.createElement("canvas"),t="probablySupportsContext"in e?"probablySupportsContext":"supportsContext";return t in e?e[t]("webgl2"):"WebGL2RenderingContext"in window},m=function(){function e(e,t,r){this._history=e,this._openFileExplorer=t,this._updateFile=r}return e.prototype.openFileExplorer=function(){this._openFileExplorer()},e.prototype.updateFileInfo=function(e){this._updateFile(JSON.parse(e))},e.prototype.readClipboardText=function(){return f(this,void 0,void 0,(function(){return p(this,(function(e){switch(e.label){case 0:return[4,navigator.clipboard.readText()];case 1:return[2,e.sent()]}}))}))},e.prototype.writeClipboardText=function(e){return f(this,void 0,void 0,(function(){return p(this,(function(t){switch(t.label){case 0:return[4,navigator.clipboard.writeText(e)];case 1:return[2,t.sent()]}}))}))},e.prototype.pushInputToHistory=function(e){return f(this,void 0,void 0,(function(){return p(this,(function(t){return this._history.push(e),[2]}))}))},e}(),_=function(){var e=s.useCallback((function(e,t){n.SI(e||0,t||0)}),[]),t=(0,l.NB)({onResize:e}).ref;return s.createElement("div",{ref:t,className:d.Z.resizer})},g=function(e){var t=s.useRef(null),r=s.useRef(new c.B),l=i.su(),u=i.Md(),h=i.RI(),g=s.useRef(null),v=s.useRef(new m(r.current,(function(){return u({type:i.Q6,data:i.Pj.FILE_EXPLORER})}),(function(e){return h({type:i.sg,data:e})})));s.useEffect((function(){console.assert(null!=t.current),n.$Z(t.current,v.current,{backgroundColor:"#333",withWebGL:b()}),f(void 0,void 0,void 0,(function(){var t;return p(this,(function(i){switch(i.label){case 0:return t=function(e,t){return f(void 0,void 0,void 0,(function(){var r,i;return p(this,(function(s){switch(s.label){case 0:return r="[1m",i="[m",n.NK("".concat(r,"[ RUN   ]").concat(i," ").concat(e)),[4,t()];case 1:return s.sent(),n.NK("".concat(r,"[ OK    ]").concat(i," ").concat(e)),[2]}}))}))},[4,t("Resolving DuckDB Bundle",(function(){return f(void 0,void 0,void 0,(function(){var t;return p(this,(function(r){switch(r.label){case 0:return t=g,[4,e.resolveDatabase()];case 1:return t.current=r.sent(),[2]}}))}))}))];case 1:return i.sent(),[4,t("Loading Shell History",(function(){return f(void 0,void 0,void 0,(function(){var e,t,i;return p(this,(function(s){switch(s.label){case 0:return[4,r.current.open()];case 1:return s.sent(),[4,r.current.load()];case 2:return e=y.apply(void 0,[s.sent(),2]),t=e[0],i=e[1],n.UI(t,i),[2]}}))}))}))];case 2:return i.sent(),[4,t("Attaching Shell",(function(){return f(void 0,void 0,void 0,(function(){return p(this,(function(e){return n.gs(g.current),[2]}))}))}))];case 3:return i.sent(),[2]}}))}))}),[]);var w={padding:e.padding?"".concat(e.padding.map((function(e){return"".concat(e,"px")})).join(" ")):"0px",borderRadius:e.borderRadius?"".concat(e.borderRadius.map((function(e){return"".concat(e,"px")})).join(" ")):"0px",backgroundColor:e.backgroundColor||"transparent"};return s.createElement("div",{className:d.Z.root,style:w},s.createElement(_,null),s.createElement("div",{ref:t,className:d.Z.term_container}),l===i.Pj.FILE_EXPLORER&&s.createElement(o.a,null,s.createElement(a.e,{addLocalFiles:function(e){return f(void 0,void 0,void 0,(function(){var t,r,n,s;return p(this,(function(a){switch(a.label){case 0:if(!g.current)return[2];t=g.current,r=[],n=0,a.label=1;case 1:return n<e.length?(s=e.item(n),[4,t.dropFile(s.name)]):[3,5];case 2:return a.sent(),[4,t.registerFileHandle(s.name,s)];case 3:a.sent(),r.push({name:s.name,url:s.name,size:s.size,fileStatsEnabled:!1}),a.label=4;case 4:return++n,[3,1];case 5:return h({type:i.SI,data:r}),[2]}}))}))}})))}}))},3194:(e,t,r)=>{r.d(t,{e:()=>j});var i=r(8246),n=r(2784);var s=function(e){return n.createElement("div",{className:"BTHdPa9vWKfDLQzn4XBN"},n.createElement("div",{className:"nESJgbxz7VWrbkq8ADKL"},e.children))},a=r(2779),o=r.n(a);var l=function(e){return n.createElement("div",{className:o()("z9qO7Rz9iHz4ZIURSV16",e.className)},n.createElement("div",{className:"Yo0bhG9_TbxiCDQEQ1e7"},n.createElement("div",{className:"FCaVy7r4GQE7QNuK3BEx",style:{width:Math.max(1)*e.value*100+"%"}})))},c=r(5703);const u={table:"Si1pcVcFc1bBLoyu7Y13",table_title:"GVtWUVp5icYbuUbBf2V5",table_anchor:"b5o1oBkF5D33RS149O9A",table_column_header:"VpiuSXx16ER0IcfvYyb2",row_header:"a8lz1N3p9rMKso58LUH1",table_entry_missing:"J2lkQAs6h37305aL4Zsy",table_entry:"RpjmKjCg2GsRi60LoGd2",table_entry_value:"qxhjoYUxCF0uZZFnvbPr",table_entry_bar:"hB2mqCkygKno5tl4DQen",table_entry_icon:"gsizvKUHsRX8HIOjFbb9",table_entry_tooltip:"GK2o1MqwNLJcE3UIeFrR"};var d,h=function(){return h=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},h.apply(this,arguments)},f=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],i=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},p=["duckdb_sync","sqljs","arquero","lovefield"];!function(e){e[e.MEAN_TIME=0]="MEAN_TIME",e[e.FREQUENCY=1]="FREQUENCY"}(d||(d={}));var y=function(e){return n.createElement(n.Fragment,null,n.createElement("div",{className:u.table_title},e.title),n.createElement("div",{className:u.table_anchor}),n.createElement("div",{className:u.table_column_header},"DuckDB-wasm"),n.createElement("div",{className:u.table_column_header},"sql.js"),n.createElement("div",{className:u.table_column_header},"Arquero"),n.createElement("div",{className:u.table_column_header},"Lovefield"))},b=function(e){var t=(0,c.O)(),r=t.getArrowProps,i=t.getTooltipProps,s=t.setTooltipRef,a=t.setTriggerRef,l=t.visible;return n.createElement("div",{ref:a,className:e.className},e.children,l&&n.createElement("div",h({ref:s},i({className:o()("tooltip-container",u.table_entry_tooltip)})),n.createElement("div",h({},r({className:"tooltip-arrow"}))),e.warning))},m=function(e){var t,r,i,s,a=[],o=[],c=[],h=[];if(e.m==d.MEAN_TIME){for(var y=[],m=Number.POSITIVE_INFINITY,_=0,g=0,v=0;v<p.length;++v){var w=p[v],T=(null==(S=e.d.entries.get("".concat(e.bk,"_").concat(w)))?void 0:S.meanTime)||0;y.push(S),m=Math.min(m,(null==S?void 0:S.meanTime)||Number.POSITIVE_INFINITY),_=Math.max(_,(null==S?void 0:S.meanTime)||0),g=Math.max(g,0==T?0:1/T)}try{for(var I=f(y),B=I.next();!B.done;B=I.next())void 0!==(S=B.value)?(c.push((0==(null==S?void 0:S.meanTime)?0:1/(null==S?void 0:S.meanTime))/g),o.push("".concat((S.meanTime/1e3).toFixed(3)," s")),h.push(""==S.warning?null:S.warning)):(c.push(0),o.push(null),h.push(null))}catch(e){t={error:e}}finally{try{B&&!B.done&&(r=I.return)&&r.call(I)}finally{if(t)throw t.error}}}else if(e.m==d.FREQUENCY){for(y=[],g=0,v=0;v<p.length;++v){w=p[v];var S=e.d.entries.get("".concat(e.bk,"_").concat(w));y.push(S),T=(null==S?void 0:S.meanTime)||0,g=Math.max(g,0==T?0:1/T)}try{for(var E=f(y),A=E.next();!A.done;A=E.next())if(void 0!==(S=A.value)){var O=0==S.meanTime?0:1/S.meanTime;c.push(O/g),o.push("".concat(O.toFixed(2)," hz")),h.push(""==S.warning?null:S.warning)}else c.push(0),o.push(null),h.push(null)}catch(e){i={error:e}}finally{try{A&&!A.done&&(s=E.return)&&s.call(E)}finally{if(i)throw i.error}}}for(v=0;v<o.length;++v){var F=e.id*p.length+v,D=c[v],M=o[v],R=h[v];null==M?a.push(n.createElement("div",{key:F,className:u.table_entry_missing},"-")):R?a.push(n.createElement(b,{key:F,className:u.table_entry,warning:R},n.createElement("div",{className:u.table_entry_value},M," *"),n.createElement(l,{className:u.table_entry_bar,value:D}))):a.push(n.createElement("div",{key:F,className:u.table_entry},n.createElement("div",{className:u.table_entry_value},M),n.createElement(l,{className:u.table_entry_bar,value:D})))}return n.createElement(n.Fragment,null,n.createElement("div",{className:u.row_header},e.title),a)},_=function(e){for(var t=e.scaleFactor.toString().replace(/\.|,/,""),r=[],i=1;i<=22;++i)r.push(n.createElement(m,{key:i,id:i,bk:"tpch_".concat(t,"_").concat(i),title:"".concat(i),d:e.data,m:d.MEAN_TIME}));return n.createElement("div",{className:o()(u.table_container,e.className)},n.createElement("div",{className:u.table},n.createElement(y,{key:"tpch_".concat(t),title:"TPCH ".concat(e.scaleFactor)}),r))},g=function(e){return n.createElement("div",{className:o()(u.table_container,e.className)},n.createElement("div",{className:u.table},n.createElement(y,{key:"micro",title:"Micro Benchmarks"}),n.createElement(m,{id:1,bk:"integer_sum_1000_10",title:"sum-i32-1k-1",d:e.data,m:d.FREQUENCY}),n.createElement(m,{id:2,bk:"integer_sum_10000_10",title:"sum-i32-10k-10",d:e.data,m:d.FREQUENCY}),n.createElement(m,{id:3,bk:"integer_sum_100000_10",title:"sum-i32-100k-10",d:e.data,m:d.FREQUENCY}),n.createElement(m,{id:4,bk:"regex_1000_20",title:"regex-1k",d:e.data,m:d.FREQUENCY}),n.createElement(m,{id:5,bk:"regex_10000_20",title:"regex-10k",d:e.data,m:d.FREQUENCY}),n.createElement(m,{id:6,bk:"regex_100000_20",title:"regex-100k",d:e.data,m:d.FREQUENCY}),n.createElement(m,{id:7,bk:"integer_sort_1000_1_1",title:"sort-i32-1k",d:e.data,m:d.FREQUENCY}),n.createElement(m,{id:8,bk:"integer_sort_10000_1_1",title:"sort-i32-10k",d:e.data,m:d.FREQUENCY}),n.createElement(m,{id:9,bk:"integer_sort_100000_1_1",title:"sort-i32-100k",d:e.data,m:d.FREQUENCY}),n.createElement(m,{id:10,bk:"integer_sort_1000_2_2",title:"sort-i32x2-1k",d:e.data,m:d.FREQUENCY}),n.createElement(m,{id:11,bk:"integer_sort_10000_2_2",title:"sort-i32x2-10k",d:e.data,m:d.FREQUENCY}),n.createElement(m,{id:12,bk:"integer_sort_100000_2_2",title:"sort-i32x2-100k",d:e.data,m:d.FREQUENCY}),n.createElement(m,{id:13,bk:"integer_topk_1000_1_1_100",title:"top100-1k",d:e.data,m:d.FREQUENCY}),n.createElement(m,{id:14,bk:"integer_topk_10000_1_1_100",title:"top100-10k",d:e.data,m:d.FREQUENCY}),n.createElement(m,{id:15,bk:"integer_topk_100000_1_1_100",title:"top100-100k",d:e.data,m:d.FREQUENCY}),n.createElement(m,{id:16,bk:"integer_join2_1000_10000_10_100",title:"leftdeep-2-s",d:e.data,m:d.FREQUENCY}),n.createElement(m,{id:17,bk:"integer_join2_10000_100000_10_100",title:"leftdeep-2-m",d:e.data,m:d.FREQUENCY}),n.createElement(m,{id:18,bk:"integer_join2_100000_100000_10_100",title:"leftdeep-2-l",d:e.data,m:d.FREQUENCY}),n.createElement(m,{id:19,bk:"integer_join2_100000_1000000_10_100",title:"leftdeep-2-xl",d:e.data,m:d.FREQUENCY}),n.createElement(m,{id:20,bk:"integer_join3_10_100_1000_10_10_10",title:"leftdeep-3-s",d:e.data,m:d.FREQUENCY}),n.createElement(m,{id:21,bk:"integer_join3_100_1000_10000_10_10_100",title:"leftdeep-3-m",d:e.data,m:d.FREQUENCY}),n.createElement(m,{id:22,bk:"integer_join3_1000_10000_100000_10_10_100",title:"leftdeep-3-l",d:e.data,m:d.FREQUENCY}),n.createElement(m,{id:23,bk:"integer_join3_10000_100000_1000000_10_10_100",title:"leftdeep-3-xl",d:e.data,m:d.FREQUENCY})))};const v={table:"FARfknmJabhyxt4wrJcw",table_title:"E01mXDCZVR60HskVxHuQ",table_anchor:"pvBBGrFxbKJnmC3z0SSl",table_column_header:"acATjL4A722nV0lco42P",table_row_header:"e6DabaPhg9ldIakCh9e1",table_entry:"zTfX0SpyfkIKaWpkBJbV"};var w,T=r(4734),I=r(2073),B=function(){return B=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},B.apply(this,arguments)};!function(e){e[e.LANGUAGE=1]="LANGUAGE",e[e.LICENSE=2]="LICENSE",e[e.BUNDLE_SIZE=15]="BUNDLE_SIZE",e[e.QUERY_INPUT=3]="QUERY_INPUT",e[e.WORKER_OFFLOADING=4]="WORKER_OFFLOADING",e[e.CSV_IMPORT=5]="CSV_IMPORT",e[e.JSON_IMPORT=6]="JSON_IMPORT",e[e.ARROW_IMPORT=7]="ARROW_IMPORT",e[e.PARQUET_IMPORT=8]="PARQUET_IMPORT",e[e.EVALUATION_STRATEGY=9]="EVALUATION_STRATEGY",e[e.NATIVE_COLUMN_ARRAYS=10]="NATIVE_COLUMN_ARRAYS",e[e.LOCAL_FILE_ACCESS=11]="LOCAL_FILE_ACCESS",e[e.REMOTE_FILE_ACCESS=12]="REMOTE_FILE_ACCESS",e[e.PARTIAL_FILE_READING=13]="PARTIAL_FILE_READING"}(w||(w={}));var S=new Map([[w.LANGUAGE,{text:"C++ & TS"}],[w.LICENSE,{text:"MPL-2.0"}],[w.BUNDLE_SIZE,{text:"68 KB + 1.8 MB",restrictions:["Streaming Wasm compilation"]}],[w.EVALUATION_STRATEGY,{text:"Vector at a time"}],[w.QUERY_INPUT,{text:"SQL Text"}],[w.WORKER_OFFLOADING,{available:!0}],[w.CSV_IMPORT,{available:!0}],[w.JSON_IMPORT,{available:!0}],[w.PARQUET_IMPORT,{available:!0}],[w.ARROW_IMPORT,{available:!0}],[w.NATIVE_COLUMN_ARRAYS,{available:!0}],[w.LOCAL_FILE_ACCESS,{available:!0}],[w.REMOTE_FILE_ACCESS,{available:!0}],[w.PARTIAL_FILE_READING,{available:!0}]]),E=new Map([[w.LANGUAGE,{text:"C & JS"}],[w.LICENSE,{text:"MIT"}],[w.BUNDLE_SIZE,{text:"15 KB + 332 KB",restrictions:["Streaming Wasm compilation"]}],[w.EVALUATION_STRATEGY,{text:"Tuple at a time"}],[w.QUERY_INPUT,{text:"SQL Text"}],[w.WORKER_OFFLOADING,{available:!0,restrictions:["Manual message passing"]}],[w.CSV_IMPORT,{available:!1}],[w.JSON_IMPORT,{available:!1}],[w.PARQUET_IMPORT,{available:!1}],[w.ARROW_IMPORT,{available:!1}],[w.NATIVE_COLUMN_ARRAYS,{available:!1}],[w.LOCAL_FILE_ACCESS,{available:!1}],[w.REMOTE_FILE_ACCESS,{available:!1,restrictions:["phiresky/sql.js-httpvfs"]}],[w.PARTIAL_FILE_READING,{available:!1,restrictions:["phiresky/sql.js-httpvfs"]}]]),A=new Map([[w.LANGUAGE,{text:"JS"}],[w.LICENSE,{text:"BSD-3"}],[w.BUNDLE_SIZE,{text:"53 KB"}],[w.EVALUATION_STRATEGY,{text:"Full Materialization"}],[w.QUERY_INPUT,{text:"Query Builder"}],[w.WORKER_OFFLOADING,{available:!0}],[w.CSV_IMPORT,{available:!0}],[w.JSON_IMPORT,{available:!0}],[w.PARQUET_IMPORT,{available:!1}],[w.ARROW_IMPORT,{available:!0}],[w.NATIVE_COLUMN_ARRAYS,{available:!0}],[w.LOCAL_FILE_ACCESS,{available:!1}],[w.REMOTE_FILE_ACCESS,{available:!1}],[w.PARTIAL_FILE_READING,{available:!1}]]),O=new Map([[w.LANGUAGE,{text:"JS"}],[w.LICENSE,{text:"Apache-2"}],[w.BUNDLE_SIZE,{text:"37 KB"}],[w.EVALUATION_STRATEGY,{text:"Full Materialization"}],[w.QUERY_INPUT,{text:"Query Builder"}],[w.WORKER_OFFLOADING,{available:!1}],[w.CSV_IMPORT,{available:!1}],[w.JSON_IMPORT,{available:!1}],[w.PARQUET_IMPORT,{available:!1}],[w.ARROW_IMPORT,{available:!1}],[w.NATIVE_COLUMN_ARRAYS,{available:!1}],[w.LOCAL_FILE_ACCESS,{available:!1}],[w.REMOTE_FILE_ACCESS,{available:!1}],[w.PARTIAL_FILE_READING,{available:!1}]]),F=function(e){var t=(0,c.O)(),r=t.getArrowProps,i=t.getTooltipProps,s=t.setTooltipRef,a=t.setTriggerRef,o=t.visible;return n.createElement(n.Fragment,null,n.createElement("div",{className:v.table_entry,ref:a},void 0!==e.value.available&&(e.value.available?n.createElement("svg",{width:"18px",height:"18px"},n.createElement("use",{xlinkHref:"".concat(I,"#sym")})):n.createElement("svg",{width:"18px",height:"18px"},n.createElement("use",{xlinkHref:"".concat(T,"#sym")}))),e.value.text,e.value.restrictions?" *":""),e.value.restrictions&&o&&n.createElement("div",B({ref:s},i({className:"tooltip-container"})),n.createElement("div",B({},r({className:"tooltip-arrow"}))),e.value.restrictions))},D=function(e){return n.createElement(n.Fragment,null,n.createElement("div",{className:v.table_row_header},e.name),n.createElement(F,{value:S.get(e.feature)}),n.createElement(F,{value:E.get(e.feature)}),n.createElement(F,{value:A.get(e.feature)}),n.createElement(F,{value:O.get(e.feature)}))},M=function(e){return n.createElement("div",{className:o()(v.table_container,e.className)},n.createElement("div",{className:v.table},n.createElement("div",{className:v.table_title},"Features"),n.createElement("div",{className:v.table_anchor}),n.createElement("div",{className:v.table_column_header},"DuckDB-Wasm"),n.createElement("div",{className:v.table_column_header},"sql.js"),n.createElement("div",{className:v.table_column_header},"Arquero"),n.createElement("div",{className:v.table_column_header},"Lovefield"),n.createElement(D,{feature:w.LANGUAGE,name:"Language"}),n.createElement(D,{feature:w.LICENSE,name:"License"}),n.createElement(D,{feature:w.BUNDLE_SIZE,name:"Compressed Size"}),n.createElement(D,{feature:w.EVALUATION_STRATEGY,name:"Evaluation Strategy"}),n.createElement(D,{feature:w.QUERY_INPUT,name:"Query Input"}),n.createElement(D,{feature:w.WORKER_OFFLOADING,name:"Worker Offloading"}),n.createElement(D,{feature:w.CSV_IMPORT,name:"Raw CSV Import"}),n.createElement(D,{feature:w.JSON_IMPORT,name:"Raw JSON Import"}),n.createElement(D,{feature:w.ARROW_IMPORT,name:"Raw Arrow Import"}),n.createElement(D,{feature:w.PARQUET_IMPORT,name:"Raw Parquet Import"}),n.createElement(D,{feature:w.LOCAL_FILE_ACCESS,name:"Local File Access"}),n.createElement(D,{feature:w.REMOTE_FILE_ACCESS,name:"Remote File Access"}),n.createElement(D,{feature:w.PARTIAL_FILE_READING,name:"Partial File Reads"})))};var R=function(e){var t,r,i,s,a,l={backgroundColor:e.color||"rgb(36, 41, 46)"};return n.createElement("div",{className:o()(e.className,"RLN8CrIWLD5kwm_I5618")},n.createElement("div",{className:o()("_UsXG2j5SjlvoT1n6h4i",(t={},t.stvYtirz7_pn4sWRgG7K=e.active,t)),style:l}),n.createElement("div",{className:o()("JwOPtBvuPO3VKaFSrwWT",(r={},r.stvYtirz7_pn4sWRgG7K=e.active,r)),style:l}),n.createElement("div",{className:o()("tn7VTUGimRqCLDv5k05I",(i={},i.stvYtirz7_pn4sWRgG7K=e.active,i)),style:l}),n.createElement("div",{className:o()("vLdGAjfyQaVNyo74Rmfy",(s={},s.stvYtirz7_pn4sWRgG7K=e.active,s)),style:l}),n.createElement("div",{className:o()("T4z7FNZogq54eV3LJlpV",(a={},a.stvYtirz7_pn4sWRgG7K=e.active,a)),style:l}))};const U="eI_uVwwAsBllFU3BdIHN",N="vOFx03_AlqH3wU11jM3H",V="hiA3Fn5y_Y7eQlkA_g7u",P="FjDYWhyO12aKsqon4HhA",L="u8GhOR05HAA1DZUQjmFR";var x,k=function(){return k=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},k.apply(this,arguments)};!function(e){e[e.PENDING=0]="PENDING",e[e.INFLIGHT=1]="INFLIGHT",e[e.FAILED=2]="FAILED",e[e.SUCCEEDED=3]="SUCCEEDED"}(x||(x={}));var j=function(e){var t,r,a,o,l=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var i,n,s=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(i=s.next()).done;)a.push(i.value)}catch(e){n={error:e}}finally{try{i&&!i.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return a}(n.useState({status:x.PENDING,benchmarkTable:null,benchmarks:null}),2),c=l[0],u=l[1];switch(c.status==x.PENDING&&(u((function(e){return k(k({},e),{status:x.INFLIGHT})})),t=void 0,r=void 0,o=function(){var e;return function(e,t){var r,i,n,s,a={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return s={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function o(s){return function(o){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,i&&(n=2&s[0]?i.return:s[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,s[1])).done)return n;switch(i=0,n&&(s=[2&s[0],n.value]),s[0]){case 0:case 1:n=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,i=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((n=(n=a.trys).length>0&&n[n.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!n||s[1]>n[0]&&s[1]<n[3])){a.label=s[1];break}if(6===s[0]&&a.label<n[1]){a.label=n[1],n=s;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(s);break}n[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],i=0}finally{r=n=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,o])}}}(this,(function(t){switch(t.label){case 0:return[4,fetch("https://shell.duckdb.org/data/benchmarks.arrow?35")];case 1:return[4,t.sent().arrayBuffer()];case 2:return e=t.sent(),u((function(t){var r=function(e){for(var t,r=[],i=e.getColumn("timestamp"),n=e.getColumn("name"),s=e.getColumn("benchmark"),a=e.getColumn("system"),o=e.getColumn("tags"),l=e.getColumn("parameters"),c=e.getColumn("cycles"),u=e.getColumn("samples"),d=e.getColumn("mean_time"),h=e.getColumn("standard_deviation"),f=e.getColumn("max_time"),p=e.getColumn("min_time"),y=e.getColumn("run_time"),b=e.getColumn("total_time"),m=e.getColumn("warning"),_=0;_<n.chunks.length;++_)for(var g=i.chunks[_],v=n.chunks[_],w=s.chunks[_],T=a.chunks[_],I=o.chunks[_],B=l.chunks[_],S=c.chunks[_],E=u.chunks[_],A=d.chunks[_],O=h.chunks[_],F=f.chunks[_],D=p.chunks[_],M=y.chunks[_],R=b.chunks[_],U=m.chunks[_],N=0;N<v.length;++N){for(var V=I.get(N),P=[],L=0;L<((null==V?void 0:V.length)||0);++L)P.push((null==V?void 0:V.get(L))||"");var x={key:"",benchmarkKey:"",systemKey:"",timestamp:g.get(N)||0,name:v.get(N)||"",benchmark:w.get(N)||"",parameters:(null===(t=B.get(N))||void 0===t?void 0:t.values)||new Float64Array,system:T.get(N)||"",tags:P,warning:U.get(N)||"",cycles:S.get(N)||0,samples:E.get(N)||0,meanTime:A.get(N)||0,standardDeviation:O.get(N)||0,maxTime:F.get(N)||0,minTime:D.get(N)||0,runTime:M.get(N)||0,totalTime:R.get(N)||0};x.benchmarkKey="".concat(x.benchmark).concat(x.parameters.length>0?"_":"").concat(x.parameters.join("_")).replace(".",""),x.systemKey="".concat(x.system).concat(x.tags.length>0?"_":"").concat(x.tags.join("_")).replace(".",""),x.key="".concat(x.benchmarkKey,"_").concat(x.systemKey),r.push(x)}return r}(i.iA.from(new Uint8Array(e))),n=function(e){var t,r,i={benchmarks:new Map,systems:new Map,entries:new Map};try{for(var n=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],i=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),s=n.next();!s.done;s=n.next()){var a=s.value;i.benchmarks.set(a.benchmarkKey,!0),i.systems.set(a.systemKey,!0),i.entries.set(a.key,a)}}catch(e){t={error:e}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(t)throw t.error}}return i}(r);return console.log(n),k(k({},t),{status:x.SUCCEEDED,table:i.iA.from(new Uint8Array(e)),benchmarks:n})})),[2]}}))},new((a=void 0)||(a=Promise))((function(e,i){function n(e){try{l(o.next(e))}catch(e){i(e)}}function s(e){try{l(o.throw(e))}catch(e){i(e)}}function l(t){var r;t.done?e(t.value):(r=t.value,r instanceof a?r:new a((function(e){e(r)}))).then(n,s)}l((o=o.apply(t,r||[])).next())}))),c.status){case x.PENDING:case x.INFLIGHT:return n.createElement("div",{className:"t2uGP1uugFVJ_32ghQ0w"},n.createElement(R,{active:!0}));case x.FAILED:return n.createElement("div",{className:U},"failed");case x.SUCCEEDED:return n.createElement("div",{className:U},n.createElement("div",{className:"VaXkNqRbA7MGzHjPwtUQ"},n.createElement(s,null,n.createElement("h1",null,"DuckDB-Wasm versus X"),n.createElement("p",{className:"PylUnnbgWmNWDjg2UE3Q"},"TL;DR: Consider ",n.createElement("b",null,"DuckDB-Wasm")," for efficient SQL queries, for file formats such as JSON, CSV, Arrow, Parquet, for partial file reads (locally & remote), for shared SQL queries between client and server and for larger datasets. Consider an alternative for simple queries on <= 10k tuples or if bundle size and cold startup time are more important than query performance."),n.createElement("p",{className:P},"This page outlines advantages and disadvantages of the npm library",n.createElement("a",{className:V,target:"_blank",href:"https://www.npmjs.com/package/@duckdb/duckdb-wasm",rel:"noreferrer"},"@duckdb/duckdb-wasm"),". It compares the library with the projects",n.createElement("a",{className:V,target:"_blank",href:"https://github.com/sql-js/sql.js",rel:"noreferrer"},"sql.js"),",",n.createElement("a",{className:V,target:"_blank",href:"https://github.com/uwdata/arquero",rel:"noreferrer"},"arquero")," and",n.createElement("a",{className:V,target:"_blank",href:"https://github.com/google/lovefield",rel:"noreferrer"},"lovefield")," based on features, several microbenchmarks and the TPC-H benchmark at the scale factors 0.01, 0.1, 0.25 and 0.5. It is meant to guide you through the selection process of your next data processing library for the web. All benchmarks are measured using public GitHub Actions and are therefore affected by fluctuations. Feel free to modify and extend our benchmarks",n.createElement("a",{className:V,target:"_blank",href:"https://github.com/duckdb/duckdb-wasm/tree/master/packages/benchmarks",rel:"noreferrer"},"here"),".")),n.createElement(s,null,n.createElement("h2",{className:N},"General Features"),n.createElement("p",{className:P},"DuckDB-Wasm follows the philosophy of ",n.createElement("i",null,"bundling with batteries included")," to leverage the full potential of WebAssembly as an embedded database. DuckDB-wasm implements many features that are necessary for efficient ad-hoc analytics in the browser such as a full SQL frontend and automatic Web-Worker offloading. It also comes with a powerful virtual filesystem specifically tailored to the browser that allows for partially reading files either through HTTP range requests or the HTML 5 File APIs. Additionally, DuckDB-Wasm supports a variety of file formats out-of-the-box such as CSV, JSON, Arrow and Parquet."),n.createElement("p",{className:P},"The following table provides an overview of key features in DuckDB-Wasm:"),n.createElement(M,{className:"EGnwBGgjLTyDyi3wREEg"}),n.createElement("p",{className:P},"The broad function scope comes at the price of a larger bundle size. When using the synchronous version of DuckDB-Wasm, the database requires approximately 68 KB of compressed Javascript and a 1.8 MB compressed WebAssembly Module. Modern browsers reduce the impact of the large module sizes by instantiating WebAssembly in a streaming fashion. Browsers start compiling WebAssembly modules while downloading them which can reduce the initial startup latency but won't eliminate the bandwidth requirement with cold caches."),n.createElement("p",{className:P},"DuckDB-Wasm can therefore show its strengths in situations where this initial startup latency can be concealed. DuckDB-Wasm might not ",n.createElement("i",null,"yet")," be the right tool for you, if you're aiming for a smallest-possible duration until your website is fully interactive. Reducing this latency is still subject of ongoing research, please share your thoughts with us",n.createElement("a",{className:V,target:"_blank",href:"https://github.com/duckdb/duckdb-wasm/discussions",rel:"noreferrer"},"here"),".")),n.createElement(s,null,n.createElement("h2",{className:N},"TPC-H Benchmarks"),n.createElement("p",{className:P},"The biggest strength of DuckDB-Wasm is its capability to run complex analytical queries in the web browser or in isolated environments such as WebAssembly CDN Workers. In the past, these workloads have usually been pushed to more powerful database servers since the language Javascript is not well equipped to evaluate complex queries efficiently. Today, the WebAssembly MVP has landed in most browsers and serves as a herald for disruptive changes in this traditional client-server world. With WebAssembly, browsers are now capable to perform many tasks themselves which allows for more decentralized data processing."),n.createElement("p",{className:P},"TPC-H is a decision support benchmark that is commonly used to benchmark relational database systems. It contains 22 queries on 8 relations with a schema that can be found",n.createElement("a",{className:V,target:"_blank",href:"https://github.com/duckdb/duckdb/blob/master/tools/rest/frontend/images/tpch-schema.png",rel:"noreferrer"},"here"),". The benchmark can be resized using a single scale factor. A scale factor of 0.1 refers to approximately 100 MB of combined data. Most of the 22 queries in TPC-H go beyond simple scans or filters and introduce the additional challenge of general query optimization."),n.createElement("p",{className:P},"In the following benchmarks, we measure TPC-H queries at the scale factors 0.01, 0.1, 0.25 and 0.5. Sqljs is a WebAssembly version of SQLite and thus supports TPC-H out of the box. Lovefield only supports a custom SQL-like API but optimizes query plans internally. Yet, Lovefield does not support arithmetic operations and nested subqueries within the plan which makes it difficult to run some of the more complex TPC-H queries. Arquero only provides a DataFrame-like API without any upfront optimization. We therefore manually crafted the TPC-H queries in Arquero using the optimized plans produced by the optimizer of a relational database. We include these plans to present the interesting performance characteristics of Arquero and show that optimizing the plans by hand is usually",n.createElement("a",{className:V,target:"_blank",href:"https://github.com/duckdb/duckdb-wasm/blob/master/packages/benchmarks/src/system/arquero_benchmarks.ts",rel:"noreferrer"},"non-trivial"),"."),n.createElement(_,{className:L,data:c.benchmarks,scaleFactor:.5}),n.createElement(_,{className:L,data:c.benchmarks,scaleFactor:.25}),n.createElement(_,{className:L,data:c.benchmarks,scaleFactor:.1}),n.createElement(_,{className:L,data:c.benchmarks,scaleFactor:.01}),n.createElement("p",{className:P},"The benchmarks show that DuckDB-Wasm outperforms the competition by a factor of 10 - 100 on larger data sizes. They also show that this relative speedup shrinks on smaller scale factors. On scale factor 0.01 (10MB), all three alternatives are able to compete for a small subset of the queries. This is caused by the interface design of DuckDB-Wasm that always materializes input and output as Arrow IPC streams. If the query performs only very little work, the overhead through this serialization and copying can outweigh the increased processing efficiency.")),n.createElement(s,null,n.createElement("h2",{className:N},"Microbenchmarks"),n.createElement("p",{className:P},"TPC-H is unrealistically complex, you might say? We'd like to argue that the absence of more demanding analytical processing in the browser is rooted in the ingrained limitations of Javascript that were only lifted very recently. Nevertheless, we want to dedicate this section to a few less complex microbenchmarks that demonstrate pros and cons of the measured systems."),n.createElement("p",{className:P},"The following table lists seven microbenchmarks that were scaled at least three times. We observe consistently accross all of them that DuckDB-Wasm loses against libraries like Arquero if the data contains only 1000 rows. Tasks like adding up a single native integer array are simple enough that the overhead of the WebAssembly interaction will easily eat up any performance benefits. The situation becomes even worse in the regex microbenchmark since WebAssembly additionally has to pay for UTF-8/16 conversions. Sorting and Top-K on the other hand is an interesting case for WebAssembly since sorting fast is",n.createElement("a",{className:V,target:"_blank",href:"https://duckdb.org/2021/08/27/external-sorting.html",rel:"noreferrer"},"non-trivial"),"and arguably better implemented in C++. The last two benchmarks first filter very few integers of a small relation and then join them with either one or two additional slightly larger relations."),n.createElement(g,{className:"YrOyBisKLYQx3zFdjU6q",data:c.benchmarks}),n.createElement("p",{className:P},"These micro benchmarks show that there is also ",n.createElement("i",null,"no such thing as free lunch")," in the browser. We are paying for the increased processing efficiency in WebAssembly with a sightly less efficient evaluation on very small input. Our recommendation is therefore to use DuckDB-Wasm if you need SQL, the features or the raw speed on medium to large data sizes. Stick to existing frameworks if your dataset is very small or if your queries only contain simple scans and filters."))))}}},3239:(e,t,r)=>{r.d(t,{td:()=>n});var i;function n(e,t){void 0===t&&(t=i.SI);var r=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var i,n,s=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(i=s.next()).done;)a.push(i.value)}catch(e){n={error:e}}finally{try{i&&!i.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return a}(t===i.SI?[1e3,"k","B"]:[1024,"K","iB"],3),n=r[0],s=r[1],a=r[2],o=Math.log(e)/Math.log(n)|0,l=Number((e/Math.pow(n,o)).toFixed(2));return"".concat(l," ").concat(o?"".concat(s,"MGTPEZY")[o-1]+a:"byte".concat(1!==l?"s":""))}!function(e){e[e.SI=0]="SI",e[e.IEC=1]="IEC"}(i||(i={}))},6276:(e,t,r)=>{r.d(t,{B:()=>l});var i=function(e,t,r,i){return new(r||(r=Promise))((function(n,s){function a(e){try{l(i.next(e))}catch(e){s(e)}}function o(e){try{l(i.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,o)}l((i=i.apply(e,t||[])).next())}))},n=function(e,t){var r,i,n,s,a={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return s={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function o(s){return function(o){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,i&&(n=2&s[0]?i.return:s[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,s[1])).done)return n;switch(i=0,n&&(s=[2&s[0],n.value]),s[0]){case 0:case 1:n=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,i=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((n=(n=a.trys).length>0&&n[n.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!n||s[1]>n[0]&&s[1]<n[3])){a.label=s[1];break}if(6===s[0]&&a.label<n[1]){a.label=n[1],n=s;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(s);break}n[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],i=0}finally{r=n=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,o])}}},s="DUCKDB_WASM_SHELL_HISTORY",a="LOG_INFO",o="LOG_ENTRIES",l=function(){function e(){this._idbFactory=window.indexedDB,this._idb=null,this._nextEntryKey=0,this._entryCount=0}return e.prototype.load=function(){return i(this,void 0,void 0,(function(){var e,t,r,i=this;return n(this,(function(n){switch(n.label){case 0:return 0==this._entryCount?[2,[[],0]]:(e=this._idb.transaction([o,a],"readwrite"),t=e.objectStore(o),r=t.openCursor(),[4,new Promise((function(e,t){var n=[];r.onsuccess=function(t){var r=t.target;null!=r.result?(n.push(r.result.value.input),r.result.continue()):e([n,i._nextEntryKey])},r.onerror=t}))]);case 1:return[2,n.sent()]}}))}))},e.prototype.open=function(){return i(this,void 0,void 0,(function(){var e,t=this;return n(this,(function(r){switch(r.label){case 0:return e=this,[4,new Promise((function(e,r){var i=t._idbFactory.open(s,4);i.onupgradeneeded=function(i){var n=i.target,s=n.result,a=n.transaction;t.createSchema(s),a.oncomplete=function(){return e(s)},a.onerror=function(e){return r(e)}},i.onsuccess=function(t){var r=i.result;e(r)},i.onerror=function(e){return r(e)}}))];case 1:return e._idb=r.sent(),[4,this.loadMetadata()];case 2:return r.sent(),[2]}}))}))},e.prototype.loadMetadata=function(){return i(this,void 0,void 0,(function(){var e,t=this;return n(this,(function(r){switch(r.label){case 0:return[4,new Promise((function(e,r){var i=t._idb.transaction([a]).objectStore(a).get(0);i.onsuccess=function(t){return e(t.target.result||null)},i.onerror=function(t){console.warn(t),e(null)}}))];case 1:return e=r.sent(),this._nextEntryKey=(null==e?void 0:e.nextEntryKey)||0,this._entryCount=(null==e?void 0:e.entryCount)||0,[2]}}))}))},e.prototype.createSchema=function(e){e.objectStoreNames.contains(a)&&e.deleteObjectStore(a),e.objectStoreNames.contains(o)&&e.deleteObjectStore(o),e.createObjectStore(a,{keyPath:"key"}),e.createObjectStore(o,{keyPath:"key"})},e.prototype.reset=function(){var e;return i(this,void 0,void 0,(function(){return n(this,(function(t){switch(t.label){case 0:return null===(e=this._idb)||void 0===e||e.close(),this._idb=null,this._idbFactory.deleteDatabase(s),[4,this.open()];case 1:return t.sent(),[2]}}))}))},e.prototype.push=function(e){return i(this,void 0,void 0,(function(){var t,r,i,s,l=this;return n(this,(function(n){switch(n.label){case 0:return t=1023&this._nextEntryKey++,this._entryCount=Math.min(this._entryCount+1,1024),r=this._idb.transaction([o,a],"readwrite"),i=r.objectStore(a),s=r.objectStore(o),[4,Promise.all([new Promise((function(r,i){var n=s.put({key:t,when:new Date,input:e});n.onsuccess=r,n.onerror=i})),new Promise((function(e,t){var r=i.put({key:0,nextEntryKey:l._nextEntryKey,entryCount:l._entryCount});r.onsuccess=e,r.onerror=t}))])];case 1:return n.sent(),[2]}}))}))},e}()},8891:(e,t,r)=>{r.d(t,{G:()=>n});var i="undefined"==typeof navigator?"node":navigator.userAgent,n=(i.includes("Firefox"),/^((?!chrome|android).)*safari/i.test(i))},1978:(e,t,r)=>{r.a(e,(async i=>{r.d(t,{$Z:()=>U,NK:()=>N,Gu:()=>V,SI:()=>P,UI:()=>x,gs:()=>k,gy:()=>j,Ve:()=>z,y1:()=>W,fc:()=>Y,Z_:()=>G,ie:()=>H,NP:()=>K,h3:()=>Q,DW:()=>q,bK:()=>$,GR:()=>J,po:()=>Z,R0:()=>X,X3:()=>ee,vq:()=>te,JO:()=>re,Pv:()=>ie,Ub:()=>ne,aU:()=>se,FN:()=>ae,ug:()=>oe,aH:()=>le,oM:()=>ce,gk:()=>ue,VL:()=>de,m_:()=>he,Yr:()=>fe,Mb:()=>pe,jo:()=>ye,KI:()=>be,ly:()=>me,fF:()=>_e,c7:()=>ge,Ou:()=>ve,Wk:()=>we,u4:()=>Te,zd:()=>Ie,wI:()=>Be,PT:()=>Se,z5:()=>Ee,W4:()=>Ae,WY:()=>Oe,if:()=>Fe,MH:()=>De,$M:()=>Me,y2:()=>Re,bL:()=>Ue,Bu:()=>Ne,Am:()=>Ve,PF:()=>Pe,wE:()=>Le,G6:()=>xe,Re:()=>ke,b1:()=>je,f4:()=>Ce,O2:()=>ze,xF:()=>We,u3:()=>Ye,wi:()=>Ge,dJ:()=>He,SO:()=>Ke,Dp:()=>Qe,ZH:()=>qe,Pb:()=>$e,yj:()=>Je,bM:()=>Ze,s8:()=>Xe,pV:()=>et,OK:()=>tt,WD:()=>rt,Q_:()=>it,Gx:()=>nt,mR:()=>st,Zo:()=>at,Fp:()=>ot,qw:()=>lt,V8:()=>ct,MY:()=>ut,UL:()=>dt,tw:()=>ht,xX:()=>ft,Y4:()=>pt,Xb:()=>yt,g1:()=>bt,KA:()=>mt,tS:()=>_t,R$:()=>gt,md:()=>vt,IF:()=>wt,XP:()=>Tt,zP:()=>It,uQ:()=>Bt,td:()=>St,Ct:()=>Et,M1:()=>At,qt:()=>Ot,fY:()=>Ft,Or:()=>Dt,nD:()=>Mt,oH:()=>Rt,jC:()=>Ut,n7:()=>Nt});var n=r(7265),s=r(7289),a=r(8440),o=r(3678),l=r(9358),c=r(8968);e=r.hmd(e);var u=i([c]);c=(u.then?await u:u)[0];const d=new Array(32).fill(void 0);function h(e){return d[e]}d.push(void 0,null,!0,!1);let f=d.length;function p(e){const t=h(e);return function(e){e<36||(d[e]=f,f=e)}(e),t}function y(e){f===d.length&&d.push(d.length+1);const t=f;return f=d[t],d[t]=e,t}function b(e){return null==e}let m=null,_=null;function g(){return null!==_&&_.buffer===c.memory.buffer||(_=new Int32Array(c.memory.buffer)),_}let v=0,w=null;function T(){return null!==w&&w.buffer===c.memory.buffer||(w=new Uint8Array(c.memory.buffer)),w}let I=new("undefined"==typeof TextEncoder?(0,e.require)("util").TextEncoder:TextEncoder)("utf-8");const B="function"==typeof I.encodeInto?function(e,t){return I.encodeInto(e,t)}:function(e,t){const r=I.encode(e);return t.set(r),{read:e.length,written:r.length}};function S(e,t,r){if(void 0===r){const r=I.encode(e),i=t(r.length);return T().subarray(i,i+r.length).set(r),v=r.length,i}let i=e.length,n=t(i);const s=T();let a=0;for(;a<i;a++){const t=e.charCodeAt(a);if(t>127)break;s[n+a]=t}if(a!==i){0!==a&&(e=e.slice(a)),n=r(n,i,i=a+3*e.length);const t=T().subarray(n+a,n+i);a+=B(e,t).written}return v=a,n}function E(e){const t=typeof e;if("number"==t||"boolean"==t||null==e)return`${e}`;if("string"==t)return`"${e}"`;if("symbol"==t){const t=e.description;return null==t?"Symbol":`Symbol(${t})`}if("function"==t){const t=e.name;return"string"==typeof t&&t.length>0?`Function(${t})`:"Function"}if(Array.isArray(e)){const t=e.length;let r="[";t>0&&(r+=E(e[0]));for(let i=1;i<t;i++)r+=", "+E(e[i]);return r+="]",r}const r=/\[object ([^\]]+)\]/.exec(toString.call(e));let i;if(!(r.length>1))return toString.call(e);if(i=r[1],"Object"==i)try{return"Object("+JSON.stringify(e)+")"}catch(e){return"Object"}return e instanceof Error?`${e.name}: ${e.message}\n${e.stack}`:i}let A=new("undefined"==typeof TextDecoder?(0,e.require)("util").TextDecoder:TextDecoder)("utf-8",{ignoreBOM:!0,fatal:!0});function O(e,t){return A.decode(T().subarray(e,e+t))}function F(e,t,r,i){const n={a:e,b:t,cnt:1,dtor:r},s=(...e)=>{n.cnt++;const t=n.a;n.a=0;try{return i(t,n.b,...e)}finally{0==--n.cnt?c.__wbindgen_export_2.get(n.dtor)(t,n.b):n.a=t}};return s.original=n,s}function D(e,t,r){return 0!==c._dyn_core__ops__function__FnMut__A____Output___R_as_wasm_bindgen__closure__WasmClosure___describe__invoke__h4a2e545914235f33(e,t,y(r))}function M(e,t,r){c._dyn_core__ops__function__FnMut__A____Output___R_as_wasm_bindgen__closure__WasmClosure___describe__invoke__hfedc4c8a5e60f8d5(e,t,y(r))}function R(e,t){try{return e.apply(this,t)}catch(e){c.__wbindgen_exn_store(y(e))}}function U(e,t,r){c.embed(y(e),y(t),y(r))}function N(e){var t=S(e,c.__wbindgen_malloc,c.__wbindgen_realloc),r=v;c.writeln(t,r)}function V(e,t){var r=S(e,c.__wbindgen_malloc,c.__wbindgen_realloc),i=v;c.collectFileStatistics(r,i,t)}function P(e,t){c.resize(e,t)}A.decode();let L=32;function x(e,t){try{c.loadHistory(function(e){if(1==L)throw new Error("out of js stack");return d[--L]=e,L}(e),t)}finally{d[L++]=void 0}}function k(e){return p(c.configureDatabase(y(e)))}function j(e){return p(c.resumeAfterInput(e))}let C=null;Object.freeze({Width0:0,0:"Width0",Width1:1,1:"Width1",Width2:2,2:"Width2"});const z=Object.freeze({FileInput:0,0:"FileInput"});function W(e,t){h(e).cursorBlink=0!==t}function Y(e,t){h(e).cursorWidth=t>>>0}function G(e,t){h(e).drawBoldTextInBrightColors=0!==t}function H(e,t){h(e).fontSize=t>>>0}function K(e,t){h(e).rightClickSelectsWord=0!==t}function Q(e,t){h(e).rows=t>>>0}function q(e,t){h(e).theme=h(t)}function $(e,t,r){h(e).foreground=O(t,r)}function J(e,t,r){h(e).background=O(t,r)}function Z(e,t,r){h(e).brightYellow=O(t,r)}function X(e){return y(new s.Terminal(h(e)))}function ee(e){return h(e).cols}function te(e){h(e).focus()}function re(e,t){h(e).open(p(t))}function ie(e,t){h(e).attachCustomKeyEventHandler(h(t))}function ne(e,t,r){h(e).write(O(t,r))}function se(e,t,r,i){h(e).setOption(O(t,r),p(i))}function ae(e,t){h(e).loadAddon(p(t))}function oe(e){p(e)}function le(e){return h(e)instanceof l.WebglAddon}function ce(e,t){var r=S(h(t).backgroundColor,c.__wbindgen_malloc,c.__wbindgen_realloc),i=v;g()[e/4+1]=i,g()[e/4+0]=r}function ue(e){return h(e).withWebGL}function de(e){return y(new l.WebglAddon(16777215===e?void 0:0!==e))}function he(e){return y(h(e))}function fe(e,t,r){return y(new o.WebLinksAddon(h(e),h(t),16777215===r?void 0:0!==r))}function pe(){return y(new a.FitAddon)}function ye(e){return h(e)instanceof o.WebLinksAddon}function be(e){h(e).fit()}function me(){return R((function(){return y((0,n.Tq)())}),arguments)}function _e(e){return h(e).bigInt64Array}function ge(e){return h(e).crossOriginIsolated}function ve(e){return h(e).wasmThreads}function we(e){return h(e).wasmSIMD}function Te(e){return h(e).wasmBulkMemory}function Ie(e){return h(e).wasmExceptions}function Be(){return R((function(e,t,r){return y(h(e).open(O(t,r)))}),arguments)}function Se(){return R((function(e,t,r){return y(h(e).exportFileStatistics(O(t,r)))}),arguments)}function Ee(){return R((function(e,t,r,i){return y(h(e).collectFileStatistics(O(t,r),0!==i))}),arguments)}function Ae(){return R((function(e){return y(h(e).getFeatureFlags())}),arguments)}function Oe(){return R((function(e,t,r){return y(h(e).tokenize(O(t,r)))}),arguments)}function Fe(){return R((function(e){return y(h(e).readClipboardText())}),arguments)}function De(){return R((function(e){return y(h(e).getVersion())}),arguments)}function Me(){return R((function(e,t,r){return y(h(e).pushInputToHistory(O(t,r)))}),arguments)}function Re(){return R((function(e){return y(h(e).connectInternal())}),arguments)}function Ue(){return R((function(e,t){return y(h(e).disconnect(t>>>0))}),arguments)}function Ne(e,t){console.log(O(e,t))}function Ve(e,t){console.error(O(e,t))}function Pe(e,t){console.warn(O(e,t))}function Le(){return R((function(e,t,r,i){return y(h(e).runQuery(t>>>0,O(r,i)))}),arguments)}function xe(e){const t=p(e).original;return 1==t.cnt--&&(t.a=0,!0)}function ke(e){h(e).openFileExplorer()}function je(e,t,r){h(e).updateFileInfo(O(t,r))}function Ce(e,t){var r=function(e,t){const r=t(4*e.length);return(null!==C&&C.buffer===c.memory.buffer||(C=new Uint32Array(c.memory.buffer)),C).set(e,r/4),v=e.length,r}(h(t).offsets,c.__wbindgen_malloc),i=v;g()[e/4+1]=i,g()[e/4+0]=r}function ze(e,t){var r=function(e,t){const r=t(1*e.length);return T().set(e,r/1),v=e.length,r}(h(t).types,c.__wbindgen_malloc),i=v;g()[e/4+1]=i,g()[e/4+0]=r}function We(e){return y(h(e).blockStats)}function Ye(e){return y(h(e).totalFileWrites)}function Ge(e){return y(h(e).totalFileReadsAhead)}function He(e){return y(h(e).totalFileReadsCold)}function Ke(e){return y(h(e).totalFileReadsCached)}function Qe(e){return y(h(e).totalPageAccesses)}function qe(e){return y(h(e).totalPageLoads)}function $e(e){return y(h(e).blockSize)}function Je(e){var t=S(n.dj,c.__wbindgen_malloc,c.__wbindgen_realloc),r=v;g()[e/4+1]=r,g()[e/4+0]=t}function Ze(e){var t=S(n.ll,c.__wbindgen_malloc,c.__wbindgen_realloc),r=v;g()[e/4+1]=r,g()[e/4+0]=t}function Xe(e){return h(e)instanceof Window}function et(e){var t=h(e).performance;return b(t)?0:y(t)}function tt(e){return h(e).now()}function rt(e,t){var r=S(h(t).type,c.__wbindgen_malloc,c.__wbindgen_realloc),i=v;g()[e/4+1]=i,g()[e/4+0]=r}function it(e){return h(e).ctrlKey}function nt(e){return h(e).metaKey}function st(e,t){var r=S(h(t).key,c.__wbindgen_malloc,c.__wbindgen_realloc),i=v;g()[e/4+1]=i,g()[e/4+0]=r}function at(e,t){return y(h(e)[t>>>0])}function ot(e){return h(e).length}function lt(){return R((function(e,t){return y(h(e).call(h(t)))}),arguments)}function ct(e,t){return y(new Error(O(e,t)))}function ut(e){return y(h(e).message)}function dt(e,t){return y(new Function(O(e,t)))}function ht(){return R((function(e,t,r){return y(h(e).call(h(t),h(r)))}),arguments)}function ft(){return y(new Object)}function pt(e,t){try{var r={a:e,b:t},i=new Promise(((e,t)=>{const i=r.a;r.a=0;try{return function(e,t,r,i){c.wasm_bindgen__convert__closures__invoke2_mut__h29f5ad24b3cc00a5(e,t,y(r),y(i))}(i,r.b,e,t)}finally{r.a=i}}));return y(i)}finally{r.a=r.b=0}}function yt(e){return y(Promise.resolve(h(e)))}function bt(e,t){return y(h(e).then(h(t)))}function mt(e,t,r){return y(h(e).then(h(t),h(r)))}function _t(){return R((function(){return y(self.self)}),arguments)}function gt(){return R((function(){return y(window.window)}),arguments)}function vt(){return R((function(){return y(globalThis.globalThis)}),arguments)}function wt(){return R((function(){return y(r.g.global)}),arguments)}function Tt(e){return void 0===h(e)}function It(e){return y(h(e).buffer)}function Bt(e){return h(e).length}function St(e){return y(new Uint8Array(h(e)))}function Et(e,t,r){h(e).set(h(t),r>>>0)}function At(e,t){const r=h(t);var i="number"==typeof r?r:void 0;(null!==m&&m.buffer===c.memory.buffer||(m=new Float64Array(c.memory.buffer)),m)[e/8+1]=b(i)?0:i,g()[e/4+0]=!b(i)}function Ot(e,t){const r=h(t);var i="string"==typeof r?r:void 0,n=b(i)?0:S(i,c.__wbindgen_malloc,c.__wbindgen_realloc),s=v;g()[e/4+1]=s,g()[e/4+0]=n}function Ft(e,t){var r=S(E(h(t)),c.__wbindgen_malloc,c.__wbindgen_realloc),i=v;g()[e/4+1]=i,g()[e/4+0]=r}function Dt(e,t){throw new Error(O(e,t))}function Mt(e){throw p(e)}function Rt(){return y(c.memory)}function Ut(e,t,r){return y(F(e,t,68,D))}function Nt(e,t,r){return y(F(e,t,115,M))}}))},2593:(e,t,r)=>{e.exports=r.p+"static/img/book.cee8d5e89b78252361aa.svg"},2073:(e,t,r)=>{e.exports=r.p+"static/img/check.db971e3b09b309d69a41.svg"},4734:(e,t,r)=>{e.exports=r.p+"static/img/close.eae292d876e449b1e891.svg"},526:(e,t,r)=>{e.exports=r.p+"static/img/data-matrix-scan.ae07a3a496ae265c7b8d.svg"},329:(e,t,r)=>{e.exports=r.p+"static/img/minus.577d461225b9552d4481.svg"},9643:(e,t,r)=>{e.exports=r.p+"static/img/shell.44adb131819504541d01.svg"},6513:(e,t,r)=>{e.exports=r.p+"static/img/duckdb.b70fb6c3629c5061da77.svg"},9003:(e,t,r)=>{e.exports=r.p+"static/assets/duckdb-browser-next-coi.pthread.worker.d83a345428498df4fb4b.js"},3609:(e,t,r)=>{e.exports=r.p+"static/assets/duckdb-browser-next-coi.worker.7a6bb94ea9ef2c7097b3.js"},4012:(e,t,r)=>{e.exports=r.p+"static/assets/duckdb-browser-next.worker.63e99badd74755454f80.js"},949:(e,t,r)=>{e.exports=r.p+"static/assets/duckdb-browser.worker.9083f96a6f7806436999.js"},5079:(e,t,r)=>{e.exports=r.p+"static/wasm/duckdb-next-coi.99836a4d1e57da1b0aec.wasm"},6795:(e,t,r)=>{e.exports=r.p+"static/wasm/duckdb-next.e0b02bd199ff478a9da0.wasm"},9117:(e,t,r)=>{e.exports=r.p+"static/wasm/duckdb.072e20aa2c0c692128b8.wasm"},7265:(e,t,r)=>{r.d(t,{ak:()=>Rt,kw:()=>ft,dj:()=>Nt,ll:()=>Vt,Tq:()=>zt,Dn:()=>Wt});var i,n,s,a=Object.create,o=Object.defineProperty,l=Object.getOwnPropertyDescriptor,c=Object.getOwnPropertyNames,u=Object.getPrototypeOf,d=Object.prototype.hasOwnProperty,h=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),f=(e,t)=>((e,t,r,i)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let r of c(t))!d.call(e,r)&&"default"!==r&&o(e,r,{get:()=>t[r],enumerable:!(i=l(t,r))||i.enumerable});return e})((e=>o(e,"__esModule",{value:!0}))(o(null!=e?a(u(e)):{},"default",!t&&e&&e.__esModule?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e),p=h(((e,t)=>{var r,i,n,s,a,o,l,c,u,d,h,f,p,y,b,m,_,g,v,w,T,I,B,S;!function(e){var r="object"==typeof global?global:"object"==typeof self?self:"object"==typeof this?this:{};function i(e,t){return e!==r&&("function"==typeof Object.create?Object.defineProperty(e,"__esModule",{value:!0}):e.__esModule=!0),function(r,i){return e[r]=t?t(r,i):i}}"function"==typeof define&&define.amd?define("tslib",["exports"],(function(t){e(i(r,i(t)))})):"object"==typeof t&&"object"==typeof t.exports?e(i(r,i(t.exports))):e(i(r))}((function(e){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])};r=function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function i(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)},i=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},n=function(e,t){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(r[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(i=Object.getOwnPropertySymbols(e);n<i.length;n++)t.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(e,i[n])&&(r[i[n]]=e[i[n]])}return r},s=function(e,t,r,i){var n,s=arguments.length,a=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,i);else for(var o=e.length-1;o>=0;o--)(n=e[o])&&(a=(s<3?n(a):s>3?n(t,r,a):n(t,r))||a);return s>3&&a&&Object.defineProperty(t,r,a),a},a=function(e,t){return function(r,i){t(r,i,e)}},o=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=function(e,t,r,i){return new(r||(r=Promise))((function(n,s){function a(e){try{l(i.next(e))}catch(e){s(e)}}function o(e){try{l(i.throw(e))}catch(e){s(e)}}function l(e){e.done?n(e.value):function(e){return e instanceof r?e:new r((function(t){t(e)}))}(e.value).then(a,o)}l((i=i.apply(e,t||[])).next())}))},c=function(e,t){var r,i,n,s,a={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return s={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function o(s){return function(o){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,i&&(n=2&s[0]?i.return:s[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,s[1])).done)return n;switch(i=0,n&&(s=[2&s[0],n.value]),s[0]){case 0:case 1:n=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,i=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(n=(n=a.trys).length>0&&n[n.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!n||s[1]>n[0]&&s[1]<n[3])){a.label=s[1];break}if(6===s[0]&&a.label<n[1]){a.label=n[1],n=s;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(s);break}n[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],i=0}finally{r=n=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,o])}}},u=function(e,t){for(var r in e)"default"!==r&&!Object.prototype.hasOwnProperty.call(t,r)&&S(t,e,r)},S=Object.create?function(e,t,r,i){void 0===i&&(i=r),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]},d=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],i=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},h=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var i,n,s=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(i=s.next()).done;)a.push(i.value)}catch(e){n={error:e}}finally{try{i&&!i.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return a},f=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(h(arguments[t]));return e},p=function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var i=Array(e),n=0;for(t=0;t<r;t++)for(var s=arguments[t],a=0,o=s.length;a<o;a++,n++)i[n]=s[a];return i},y=function(e,t,r){if(r||2===arguments.length)for(var i,n=0,s=t.length;n<s;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))},b=function(e){return this instanceof b?(this.v=e,this):new b(e)},m=function(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,n=r.apply(e,t||[]),s=[];return i={},a("next"),a("throw"),a("return"),i[Symbol.asyncIterator]=function(){return this},i;function a(e){n[e]&&(i[e]=function(t){return new Promise((function(r,i){s.push([e,t,r,i])>1||o(e,t)}))})}function o(e,t){try{!function(e){e.value instanceof b?Promise.resolve(e.value.v).then(l,c):u(s[0][2],e)}(n[e](t))}catch(e){u(s[0][3],e)}}function l(e){o("next",e)}function c(e){o("throw",e)}function u(e,t){e(t),s.shift(),s.length&&o(s[0][0],s[0][1])}},_=function(e){var t,r;return t={},i("next"),i("throw",(function(e){throw e})),i("return"),t[Symbol.iterator]=function(){return this},t;function i(i,n){t[i]=e[i]?function(t){return(r=!r)?{value:b(e[i](t)),done:"return"===i}:n?n(t):t}:n}},g=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e=d(e),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(r){t[r]=e[r]&&function(t){return new Promise((function(i,n){!function(e,t,r,i){Promise.resolve(i).then((function(t){e({value:t,done:r})}),t)}(i,n,(t=e[r](t)).done,t.value)}))}}},v=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};var E=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};w=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&S(t,e,r);return E(t,e),t},T=function(e){return e&&e.__esModule?e:{default:e}},I=function(e,t,r,i){if("a"===r&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?i:"a"===r?i.call(e):i?i.value:t.get(e)},B=function(e,t,r,i,n){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?n.call(e,r):n?n.value=r:t.set(e,r),r},e("__extends",r),e("__assign",i),e("__rest",n),e("__decorate",s),e("__param",a),e("__metadata",o),e("__awaiter",l),e("__generator",c),e("__exportStar",u),e("__createBinding",S),e("__values",d),e("__read",h),e("__spread",f),e("__spreadArrays",p),e("__spreadArray",y),e("__await",b),e("__asyncGenerator",m),e("__asyncDelegator",_),e("__asyncValues",g),e("__makeTemplateObject",v),e("__importStar",w),e("__importDefault",T),e("__classPrivateFieldGet",I),e("__classPrivateFieldSet",B)}))})),y=h((e=>{var t={};t.Offset,t.Table,t.SIZEOF_SHORT=2,t.SIZEOF_INT=4,t.FILE_IDENTIFIER_LENGTH=4,t.SIZE_PREFIX_LENGTH=4,t.Encoding={UTF8_BYTES:1,UTF16_STRING:2},t.int32=new Int32Array(2),t.float32=new Float32Array(t.int32.buffer),t.float64=new Float64Array(t.int32.buffer),t.isLittleEndian=1===new Uint16Array(new Uint8Array([1,0]).buffer)[0],t.Long=function(e,t){this.low=0|e,this.high=0|t},t.Long.create=function(e,r){return 0==e&&0==r?t.Long.ZERO:new t.Long(e,r)},t.Long.prototype.toFloat64=function(){return(this.low>>>0)+4294967296*this.high},t.Long.prototype.equals=function(e){return this.low==e.low&&this.high==e.high},t.Long.ZERO=new t.Long(0,0),t.Builder=function(e){if(e)var r=e;else r=1024;this.bb=t.ByteBuffer.allocate(r),this.space=r,this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1},t.Builder.prototype.clear=function(){this.bb.clear(),this.space=this.bb.capacity(),this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1},t.Builder.prototype.forceDefaults=function(e){this.force_defaults=e},t.Builder.prototype.dataBuffer=function(){return this.bb},t.Builder.prototype.asUint8Array=function(){return this.bb.bytes().subarray(this.bb.position(),this.bb.position()+this.offset())},t.Builder.prototype.prep=function(e,r){e>this.minalign&&(this.minalign=e);for(var i=1+~(this.bb.capacity()-this.space+r)&e-1;this.space<i+e+r;){var n=this.bb.capacity();this.bb=t.Builder.growByteBuffer(this.bb),this.space+=this.bb.capacity()-n}this.pad(i)},t.Builder.prototype.pad=function(e){for(var t=0;t<e;t++)this.bb.writeInt8(--this.space,0)},t.Builder.prototype.writeInt8=function(e){this.bb.writeInt8(this.space-=1,e)},t.Builder.prototype.writeInt16=function(e){this.bb.writeInt16(this.space-=2,e)},t.Builder.prototype.writeInt32=function(e){this.bb.writeInt32(this.space-=4,e)},t.Builder.prototype.writeInt64=function(e){this.bb.writeInt64(this.space-=8,e)},t.Builder.prototype.writeFloat32=function(e){this.bb.writeFloat32(this.space-=4,e)},t.Builder.prototype.writeFloat64=function(e){this.bb.writeFloat64(this.space-=8,e)},t.Builder.prototype.addInt8=function(e){this.prep(1,0),this.writeInt8(e)},t.Builder.prototype.addInt16=function(e){this.prep(2,0),this.writeInt16(e)},t.Builder.prototype.addInt32=function(e){this.prep(4,0),this.writeInt32(e)},t.Builder.prototype.addInt64=function(e){this.prep(8,0),this.writeInt64(e)},t.Builder.prototype.addFloat32=function(e){this.prep(4,0),this.writeFloat32(e)},t.Builder.prototype.addFloat64=function(e){this.prep(8,0),this.writeFloat64(e)},t.Builder.prototype.addFieldInt8=function(e,t,r){(this.force_defaults||t!=r)&&(this.addInt8(t),this.slot(e))},t.Builder.prototype.addFieldInt16=function(e,t,r){(this.force_defaults||t!=r)&&(this.addInt16(t),this.slot(e))},t.Builder.prototype.addFieldInt32=function(e,t,r){(this.force_defaults||t!=r)&&(this.addInt32(t),this.slot(e))},t.Builder.prototype.addFieldInt64=function(e,t,r){(this.force_defaults||!t.equals(r))&&(this.addInt64(t),this.slot(e))},t.Builder.prototype.addFieldFloat32=function(e,t,r){(this.force_defaults||t!=r)&&(this.addFloat32(t),this.slot(e))},t.Builder.prototype.addFieldFloat64=function(e,t,r){(this.force_defaults||t!=r)&&(this.addFloat64(t),this.slot(e))},t.Builder.prototype.addFieldOffset=function(e,t,r){(this.force_defaults||t!=r)&&(this.addOffset(t),this.slot(e))},t.Builder.prototype.addFieldStruct=function(e,t,r){t!=r&&(this.nested(t),this.slot(e))},t.Builder.prototype.nested=function(e){if(e!=this.offset())throw new Error("FlatBuffers: struct must be serialized inline.")},t.Builder.prototype.notNested=function(){if(this.isNested)throw new Error("FlatBuffers: object serialization must not be nested.")},t.Builder.prototype.slot=function(e){this.vtable[e]=this.offset()},t.Builder.prototype.offset=function(){return this.bb.capacity()-this.space},t.Builder.growByteBuffer=function(e){var r=e.capacity();if(3221225472&r)throw new Error("FlatBuffers: cannot grow buffer beyond 2 gigabytes.");var i=r<<1,n=t.ByteBuffer.allocate(i);return n.setPosition(i-r),n.bytes().set(e.bytes(),i-r),n},t.Builder.prototype.addOffset=function(e){this.prep(t.SIZEOF_INT,0),this.writeInt32(this.offset()-e+t.SIZEOF_INT)},t.Builder.prototype.startObject=function(e){this.notNested(),null==this.vtable&&(this.vtable=[]),this.vtable_in_use=e;for(var t=0;t<e;t++)this.vtable[t]=0;this.isNested=!0,this.object_start=this.offset()},t.Builder.prototype.endObject=function(){if(null==this.vtable||!this.isNested)throw new Error("FlatBuffers: endObject called without startObject");this.addInt32(0);for(var e=this.offset(),r=this.vtable_in_use-1;r>=0&&0==this.vtable[r];r--);for(var i=r+1;r>=0;r--)this.addInt16(0!=this.vtable[r]?e-this.vtable[r]:0);this.addInt16(e-this.object_start);var n=(i+2)*t.SIZEOF_SHORT;this.addInt16(n);var s=0,a=this.space;e:for(r=0;r<this.vtables.length;r++){var o=this.bb.capacity()-this.vtables[r];if(n==this.bb.readInt16(o)){for(var l=t.SIZEOF_SHORT;l<n;l+=t.SIZEOF_SHORT)if(this.bb.readInt16(a+l)!=this.bb.readInt16(o+l))continue e;s=this.vtables[r];break}}return s?(this.space=this.bb.capacity()-e,this.bb.writeInt32(this.space,s-e)):(this.vtables.push(this.offset()),this.bb.writeInt32(this.bb.capacity()-e,this.offset()-e)),this.isNested=!1,e},t.Builder.prototype.finish=function(e,r,i){var n=i?t.SIZE_PREFIX_LENGTH:0;if(r){var s=r;if(this.prep(this.minalign,t.SIZEOF_INT+t.FILE_IDENTIFIER_LENGTH+n),s.length!=t.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: file identifier must be length "+t.FILE_IDENTIFIER_LENGTH);for(var a=t.FILE_IDENTIFIER_LENGTH-1;a>=0;a--)this.writeInt8(s.charCodeAt(a))}this.prep(this.minalign,t.SIZEOF_INT+n),this.addOffset(e),n&&this.addInt32(this.bb.capacity()-this.space),this.bb.setPosition(this.space)},t.Builder.prototype.finishSizePrefixed=function(e,t){this.finish(e,t,!0)},t.Builder.prototype.requiredField=function(e,t){var r=this.bb.capacity()-e,i=r-this.bb.readInt32(r);if(0==this.bb.readInt16(i+t))throw new Error("FlatBuffers: field "+t+" must be set")},t.Builder.prototype.startVector=function(e,r,i){this.notNested(),this.vector_num_elems=r,this.prep(t.SIZEOF_INT,e*r),this.prep(i,e*r)},t.Builder.prototype.endVector=function(){return this.writeInt32(this.vector_num_elems),this.offset()},t.Builder.prototype.createString=function(e){if(e instanceof Uint8Array)var t=e;else{t=[];for(var r=0;r<e.length;){var i,n=e.charCodeAt(r++);(i=n<55296||n>=56320?n:(n<<10)+e.charCodeAt(r++)+-56613888)<128?t.push(i):(i<2048?t.push(i>>6&31|192):(i<65536?t.push(i>>12&15|224):t.push(i>>18&7|240,i>>12&63|128),t.push(i>>6&63|128)),t.push(63&i|128))}}this.addInt8(0),this.startVector(1,t.length,1),this.bb.setPosition(this.space-=t.length),r=0;for(var s=this.space,a=this.bb.bytes();r<t.length;r++)a[s++]=t[r];return this.endVector()},t.Builder.prototype.createLong=function(e,r){return t.Long.create(e,r)},t.ByteBuffer=function(e){this.bytes_=e,this.position_=0},t.ByteBuffer.allocate=function(e){return new t.ByteBuffer(new Uint8Array(e))},t.ByteBuffer.prototype.clear=function(){this.position_=0},t.ByteBuffer.prototype.bytes=function(){return this.bytes_},t.ByteBuffer.prototype.position=function(){return this.position_},t.ByteBuffer.prototype.setPosition=function(e){this.position_=e},t.ByteBuffer.prototype.capacity=function(){return this.bytes_.length},t.ByteBuffer.prototype.readInt8=function(e){return this.readUint8(e)<<24>>24},t.ByteBuffer.prototype.readUint8=function(e){return this.bytes_[e]},t.ByteBuffer.prototype.readInt16=function(e){return this.readUint16(e)<<16>>16},t.ByteBuffer.prototype.readUint16=function(e){return this.bytes_[e]|this.bytes_[e+1]<<8},t.ByteBuffer.prototype.readInt32=function(e){return this.bytes_[e]|this.bytes_[e+1]<<8|this.bytes_[e+2]<<16|this.bytes_[e+3]<<24},t.ByteBuffer.prototype.readUint32=function(e){return this.readInt32(e)>>>0},t.ByteBuffer.prototype.readInt64=function(e){return new t.Long(this.readInt32(e),this.readInt32(e+4))},t.ByteBuffer.prototype.readUint64=function(e){return new t.Long(this.readUint32(e),this.readUint32(e+4))},t.ByteBuffer.prototype.readFloat32=function(e){return t.int32[0]=this.readInt32(e),t.float32[0]},t.ByteBuffer.prototype.readFloat64=function(e){return t.int32[t.isLittleEndian?0:1]=this.readInt32(e),t.int32[t.isLittleEndian?1:0]=this.readInt32(e+4),t.float64[0]},t.ByteBuffer.prototype.writeInt8=function(e,t){this.bytes_[e]=t},t.ByteBuffer.prototype.writeUint8=function(e,t){this.bytes_[e]=t},t.ByteBuffer.prototype.writeInt16=function(e,t){this.bytes_[e]=t,this.bytes_[e+1]=t>>8},t.ByteBuffer.prototype.writeUint16=function(e,t){this.bytes_[e]=t,this.bytes_[e+1]=t>>8},t.ByteBuffer.prototype.writeInt32=function(e,t){this.bytes_[e]=t,this.bytes_[e+1]=t>>8,this.bytes_[e+2]=t>>16,this.bytes_[e+3]=t>>24},t.ByteBuffer.prototype.writeUint32=function(e,t){this.bytes_[e]=t,this.bytes_[e+1]=t>>8,this.bytes_[e+2]=t>>16,this.bytes_[e+3]=t>>24},t.ByteBuffer.prototype.writeInt64=function(e,t){this.writeInt32(e,t.low),this.writeInt32(e+4,t.high)},t.ByteBuffer.prototype.writeUint64=function(e,t){this.writeUint32(e,t.low),this.writeUint32(e+4,t.high)},t.ByteBuffer.prototype.writeFloat32=function(e,r){t.float32[0]=r,this.writeInt32(e,t.int32[0])},t.ByteBuffer.prototype.writeFloat64=function(e,r){t.float64[0]=r,this.writeInt32(e,t.int32[t.isLittleEndian?0:1]),this.writeInt32(e+4,t.int32[t.isLittleEndian?1:0])},t.ByteBuffer.prototype.getBufferIdentifier=function(){if(this.bytes_.length<this.position_+t.SIZEOF_INT+t.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: ByteBuffer is too short to contain an identifier.");for(var e="",r=0;r<t.FILE_IDENTIFIER_LENGTH;r++)e+=String.fromCharCode(this.readInt8(this.position_+t.SIZEOF_INT+r));return e},t.ByteBuffer.prototype.__offset=function(e,t){var r=e-this.readInt32(e);return t<this.readInt16(r)?this.readInt16(r+t):0},t.ByteBuffer.prototype.__union=function(e,t){return e.bb_pos=t+this.readInt32(t),e.bb=this,e},t.ByteBuffer.prototype.__string=function(e,r){e+=this.readInt32(e);var i=this.readInt32(e),n="",s=0;if(e+=t.SIZEOF_INT,r===t.Encoding.UTF8_BYTES)return this.bytes_.subarray(e,e+i);for(;s<i;){var a,o=this.readUint8(e+s++);if(o<192)a=o;else{var l=this.readUint8(e+s++);if(o<224)a=(31&o)<<6|63&l;else{var c=this.readUint8(e+s++);a=o<240?(15&o)<<12|(63&l)<<6|63&c:(7&o)<<18|(63&l)<<12|(63&c)<<6|63&this.readUint8(e+s++)}}a<65536?n+=String.fromCharCode(a):(a-=65536,n+=String.fromCharCode(55296+(a>>10),56320+(1023&a)))}return n},t.ByteBuffer.prototype.__indirect=function(e){return e+this.readInt32(e)},t.ByteBuffer.prototype.__vector=function(e){return e+this.readInt32(e)+t.SIZEOF_INT},t.ByteBuffer.prototype.__vector_len=function(e){return this.readInt32(e+this.readInt32(e))},t.ByteBuffer.prototype.__has_identifier=function(e){if(e.length!=t.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: file identifier must be length "+t.FILE_IDENTIFIER_LENGTH);for(var r=0;r<t.FILE_IDENTIFIER_LENGTH;r++)if(e.charCodeAt(r)!=this.readInt8(this.position_+t.SIZEOF_INT+r))return!1;return!0},t.ByteBuffer.prototype.createLong=function(e,r){return t.Long.create(e,r)},e.flatbuffers=t})),b=h((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.encodeUtf8=e.decodeUtf8=void 0;var t=new TextDecoder("utf-8");e.decodeUtf8=e=>t.decode(e);var r=new TextEncoder;e.encodeUtf8=e=>r.encode(e)})),m=h((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.AsyncQueue=e.ReadableInterop=e.ArrowJSON=e.ITERATOR_DONE=void 0;var t=p(),r=v();e.ITERATOR_DONE=Object.freeze({done:!0,value:void 0}),e.ArrowJSON=class{constructor(e){this._json=e}get schema(){return this._json.schema}get batches(){return this._json.batches||[]}get dictionaries(){return this._json.dictionaries||[]}};var i=class{tee(){return this._getDOMStream().tee()}pipe(e,t){return this._getNodeStream().pipe(e,t)}pipeTo(e,t){return this._getDOMStream().pipeTo(e,t)}pipeThrough(e,t){return this._getDOMStream().pipeThrough(e,t)}_getDOMStream(){return this._DOMStream||(this._DOMStream=this.toDOMStream())}_getNodeStream(){return this._nodeStream||(this._nodeStream=this.toNodeStream())}};e.ReadableInterop=i;var n=class extends i{constructor(){super(),this._values=[],this.resolvers=[],this._closedPromise=new Promise((e=>this._closedPromiseResolve=e))}get closed(){return this._closedPromise}cancel(e){return t.__awaiter(this,void 0,void 0,(function*(){yield this.return(e)}))}write(e){this._ensureOpen()&&(this.resolvers.length<=0?this._values.push(e):this.resolvers.shift().resolve({done:!1,value:e}))}abort(e){this._closedPromiseResolve&&(this.resolvers.length<=0?this._error={error:e}:this.resolvers.shift().reject({done:!0,value:e}))}close(){if(this._closedPromiseResolve){let{resolvers:t}=this;for(;t.length>0;)t.shift().resolve(e.ITERATOR_DONE);this._closedPromiseResolve(),this._closedPromiseResolve=void 0}}[Symbol.asyncIterator](){return this}toDOMStream(e){return r.default.toDOMStream(this._closedPromiseResolve||this._error?this:this._values,e)}toNodeStream(e){return r.default.toNodeStream(this._closedPromiseResolve||this._error?this:this._values,e)}throw(r){return t.__awaiter(this,void 0,void 0,(function*(){return yield this.abort(r),e.ITERATOR_DONE}))}return(r){return t.__awaiter(this,void 0,void 0,(function*(){return yield this.close(),e.ITERATOR_DONE}))}read(e){return t.__awaiter(this,void 0,void 0,(function*(){return(yield this.next(e,"read")).value}))}peek(e){return t.__awaiter(this,void 0,void 0,(function*(){return(yield this.next(e,"peek")).value}))}next(...t){return this._values.length>0?Promise.resolve({done:!1,value:this._values.shift()}):this._error?Promise.reject({done:!0,value:this._error.error}):this._closedPromiseResolve?new Promise(((e,t)=>{this.resolvers.push({resolve:e,reject:t})})):Promise.resolve(e.ITERATOR_DONE)}_ensureOpen(){if(this._closedPromiseResolve)return!0;throw new Error("AsyncQueue is closed")}};e.AsyncQueue=n})),_=h((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.isReadableNodeStream=e.isWritableNodeStream=e.isReadableDOMStream=e.isWritableDOMStream=e.isFetchResponse=e.isFSReadStream=e.isFileHandle=e.isUnderlyingSink=e.isIteratorResult=e.isArrayLike=e.isArrowJSON=e.isAsyncIterable=e.isIterable=e.isObservable=e.isPromise=e.isObject=e.BigUint64ArrayAvailable=e.BigUint64Array=e.BigInt64ArrayAvailable=e.BigInt64Array=e.BigIntAvailable=e.BigInt=void 0;var t=m(),[r,i]=(()=>{let e=()=>{throw new Error("BigInt is not available in this environment")};function t(){throw e()}return t.asIntN=()=>{throw e()},t.asUintN=()=>{throw e()},"undefined"!=typeof BigInt?[BigInt,!0]:[t,!1]})();e.BigInt=r,e.BigIntAvailable=i;var[n,s]=(()=>{let e=()=>{throw new Error("BigInt64Array is not available in this environment")};return"undefined"!=typeof BigInt64Array?[BigInt64Array,!0]:[class{static get BYTES_PER_ELEMENT(){return 8}static of(){throw e()}static from(){throw e()}constructor(){throw e()}},!1]})();e.BigInt64Array=n,e.BigInt64ArrayAvailable=s;var[a,o]=(()=>{let e=()=>{throw new Error("BigUint64Array is not available in this environment")};return"undefined"!=typeof BigUint64Array?[BigUint64Array,!0]:[class{static get BYTES_PER_ELEMENT(){return 8}static of(){throw e()}static from(){throw e()}constructor(){throw e()}},!1]})();e.BigUint64Array=a,e.BigUint64ArrayAvailable=o;var l=e=>"number"==typeof e,c=e=>"boolean"==typeof e,u=e=>"function"==typeof e;e.isObject=e=>null!=e&&Object(e)===e,e.isPromise=t=>e.isObject(t)&&u(t.then),e.isObservable=t=>e.isObject(t)&&u(t.subscribe),e.isIterable=t=>e.isObject(t)&&u(t[Symbol.iterator]),e.isAsyncIterable=t=>e.isObject(t)&&u(t[Symbol.asyncIterator]),e.isArrowJSON=t=>e.isObject(t)&&e.isObject(t.schema),e.isArrayLike=t=>e.isObject(t)&&l(t.length),e.isIteratorResult=t=>e.isObject(t)&&"done"in t&&"value"in t,e.isUnderlyingSink=t=>e.isObject(t)&&u(t.abort)&&u(t.close)&&u(t.start)&&u(t.write),e.isFileHandle=t=>e.isObject(t)&&u(t.stat)&&l(t.fd),e.isFSReadStream=t=>e.isReadableNodeStream(t)&&l(t.bytesRead),e.isFetchResponse=t=>e.isObject(t)&&e.isReadableDOMStream(t.body),e.isWritableDOMStream=r=>e.isObject(r)&&u(r.abort)&&u(r.getWriter)&&!(r instanceof t.ReadableInterop),e.isReadableDOMStream=r=>e.isObject(r)&&u(r.cancel)&&u(r.getReader)&&!(r instanceof t.ReadableInterop),e.isWritableNodeStream=r=>e.isObject(r)&&u(r.end)&&u(r.write)&&c(r.writable)&&!(r instanceof t.ReadableInterop),e.isReadableNodeStream=r=>e.isObject(r)&&u(r.read)&&u(r.pipe)&&c(r.readable)&&!(r instanceof t.ReadableInterop)})),g=h((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.compareArrayLike=e.rebaseValueOffsets=e.toUint8ClampedArrayAsyncIterator=e.toFloat64ArrayAsyncIterator=e.toFloat32ArrayAsyncIterator=e.toUint32ArrayAsyncIterator=e.toUint16ArrayAsyncIterator=e.toUint8ArrayAsyncIterator=e.toInt32ArrayAsyncIterator=e.toInt16ArrayAsyncIterator=e.toInt8ArrayAsyncIterator=e.toArrayBufferViewAsyncIterator=e.toUint8ClampedArrayIterator=e.toFloat64ArrayIterator=e.toFloat32ArrayIterator=e.toUint32ArrayIterator=e.toUint16ArrayIterator=e.toUint8ArrayIterator=e.toInt32ArrayIterator=e.toInt16ArrayIterator=e.toInt8ArrayIterator=e.toArrayBufferViewIterator=e.toUint8ClampedArray=e.toFloat64Array=e.toFloat32Array=e.toBigUint64Array=e.toUint32Array=e.toUint16Array=e.toUint8Array=e.toBigInt64Array=e.toInt32Array=e.toInt16Array=e.toInt8Array=e.toArrayBufferView=e.joinUint8Arrays=e.memcpy=void 0;var t=p(),r=y(),i=b(),n=r.flatbuffers.ByteBuffer,s=_(),a="undefined"!=typeof SharedArrayBuffer?SharedArrayBuffer:ArrayBuffer;function o(e,t,r=0,i=t.byteLength){let n=e.byteLength,s=new Uint8Array(e.buffer,e.byteOffset,n),a=new Uint8Array(t.buffer,t.byteOffset,Math.min(i,n));return s.set(a,r),e}function l(e,t){let r=s.isIteratorResult(t)?t.value:t;return r instanceof e?e===Uint8Array?new e(r.buffer,r.byteOffset,r.byteLength):r:r?("string"==typeof r&&(r=i.encodeUtf8(r)),r instanceof ArrayBuffer||r instanceof a?new e(r):r instanceof n?l(e,r.bytes()):ArrayBuffer.isView(r)?r.byteLength<=0?new e(0):new e(r.buffer,r.byteOffset,r.byteLength/e.BYTES_PER_ELEMENT):e.from(r)):new e(0)}e.memcpy=o,e.joinUint8Arrays=function(e,t){let r,i,n,s=function(e){let t,r,i,n,s=e[0]?[e[0]]:[];for(let a,o,l=0,c=0,u=e.length;++l<u;)a=s[c],o=e[l],!a||!o||a.buffer!==o.buffer||o.byteOffset<a.byteOffset?o&&(s[++c]=o):(({byteOffset:t,byteLength:i}=a),({byteOffset:r,byteLength:n}=o),t+i<r||r+n<t?o&&(s[++c]=o):s[c]=new Uint8Array(a.buffer,t,r-t+n));return s}(e),a=s.reduce(((e,t)=>e+t.byteLength),0),l=0,c=-1,u=Math.min(t||1/0,a);for(let e=s.length;++c<e;){if(r=s[c],i=r.subarray(0,Math.min(r.length,u-l)),u<=l+i.length){i.length<r.length?s[c]=r.subarray(i.length):i.length===r.length&&c++,n?o(n,i,l):n=i;break}o(n||(n=new Uint8Array(u)),i,l),l+=i.length}return[n||new Uint8Array(0),s.slice(c),a-(n?n.byteLength:0)]},e.toArrayBufferView=l,e.toInt8Array=e=>l(Int8Array,e),e.toInt16Array=e=>l(Int16Array,e),e.toInt32Array=e=>l(Int32Array,e),e.toBigInt64Array=e=>l(s.BigInt64Array,e),e.toUint8Array=e=>l(Uint8Array,e),e.toUint16Array=e=>l(Uint16Array,e),e.toUint32Array=e=>l(Uint32Array,e),e.toBigUint64Array=e=>l(s.BigUint64Array,e),e.toFloat32Array=e=>l(Float32Array,e),e.toFloat64Array=e=>l(Float64Array,e),e.toUint8ClampedArray=e=>l(Uint8ClampedArray,e);var c=e=>(e.next(),e);function*u(e,t){let r=function*(e){yield e},i="string"==typeof t||ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof a?r(t):s.isIterable(t)?t:r(t);return yield*c(function*(t){let r=null;do{r=t.next(yield l(e,r))}while(!r.done)}(i[Symbol.iterator]())),new e}function d(e,r){return t.__asyncGenerator(this,arguments,(function*(){if(s.isPromise(r))return yield t.__await(yield t.__await(yield*t.__asyncDelegator(t.__asyncValues(d(e,yield t.__await(r))))));let i=function(e){return t.__asyncGenerator(this,arguments,(function*(){yield yield t.__await(yield t.__await(e))}))},n="string"==typeof r||ArrayBuffer.isView(r)||r instanceof ArrayBuffer||r instanceof a?i(r):s.isIterable(r)?function(e){return t.__asyncGenerator(this,arguments,(function*(){yield t.__await(yield*t.__asyncDelegator(t.__asyncValues(c(function*(e){let t=null;do{t=e.next(yield null==t?void 0:t.value)}while(!t.done)}(e[Symbol.iterator]())))))}))}(r):s.isAsyncIterable(r)?r:i(r);return yield t.__await(yield*t.__asyncDelegator(t.__asyncValues(c(function(r){return t.__asyncGenerator(this,arguments,(function*(){let i=null;do{i=yield t.__await(r.next(yield yield t.__await(l(e,i))))}while(!i.done)}))}(n[Symbol.asyncIterator]()))))),yield t.__await(new e)}))}e.toArrayBufferViewIterator=u,e.toInt8ArrayIterator=e=>u(Int8Array,e),e.toInt16ArrayIterator=e=>u(Int16Array,e),e.toInt32ArrayIterator=e=>u(Int32Array,e),e.toUint8ArrayIterator=e=>u(Uint8Array,e),e.toUint16ArrayIterator=e=>u(Uint16Array,e),e.toUint32ArrayIterator=e=>u(Uint32Array,e),e.toFloat32ArrayIterator=e=>u(Float32Array,e),e.toFloat64ArrayIterator=e=>u(Float64Array,e),e.toUint8ClampedArrayIterator=e=>u(Uint8ClampedArray,e),e.toArrayBufferViewAsyncIterator=d,e.toInt8ArrayAsyncIterator=e=>d(Int8Array,e),e.toInt16ArrayAsyncIterator=e=>d(Int16Array,e),e.toInt32ArrayAsyncIterator=e=>d(Int32Array,e),e.toUint8ArrayAsyncIterator=e=>d(Uint8Array,e),e.toUint16ArrayAsyncIterator=e=>d(Uint16Array,e),e.toUint32ArrayAsyncIterator=e=>d(Uint32Array,e),e.toFloat32ArrayAsyncIterator=e=>d(Float32Array,e),e.toFloat64ArrayAsyncIterator=e=>d(Float64Array,e),e.toUint8ClampedArrayAsyncIterator=e=>d(Uint8ClampedArray,e),e.rebaseValueOffsets=function(e,t,r){if(0!==e){r=r.slice(0,t+1);for(let i=-1;++i<=t;)r[i]+=e}return r},e.compareArrayLike=function(e,t){let r=0,i=e.length;if(i!==t.length)return!1;if(i>0)do{if(e[r]!==t[r])return!1}while(++r<i);return!0}})),v=h((e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=p(),r=g();e.default={fromIterable:e=>i(function*(e){let t,i,n,s,a=!1,o=[],l=0;({cmd:n,size:s}=yield null);let c=r.toUint8ArrayIterator(e)[Symbol.iterator]();try{do{if(({done:t,value:i}=isNaN(s-l)?c.next(void 0):c.next(s-l)),!t&&i.byteLength>0&&(o.push(i),l+=i.byteLength),t||s<=l)do{({cmd:n,size:s}=yield"peek"===n?r.joinUint8Arrays(o,s)[0]:([i,o,l]=r.joinUint8Arrays(o,s),i))}while(s<l)}while(!t)}catch(e){(a=!0)&&"function"==typeof c.throw&&c.throw(e)}finally{!1===a&&"function"==typeof c.return&&c.return(null)}return null}(e)),fromAsyncIterable:e=>i(function(e){return t.__asyncGenerator(this,arguments,(function*(){let i,n,s,a,o=!1,l=[],c=0;({cmd:s,size:a}=yield yield t.__await(null));let u=r.toUint8ArrayAsyncIterator(e)[Symbol.asyncIterator]();try{do{if(({done:i,value:n}=isNaN(a-c)?yield t.__await(u.next(void 0)):yield t.__await(u.next(a-c))),!i&&n.byteLength>0&&(l.push(n),c+=n.byteLength),i||a<=c)do{({cmd:s,size:a}=yield yield t.__await("peek"===s?r.joinUint8Arrays(l,a)[0]:([n,l,c]=r.joinUint8Arrays(l,a),n)))}while(a<c)}while(!i)}catch(e){(o=!0)&&"function"==typeof u.throw&&(yield t.__await(u.throw(e)))}finally{!1===o&&"function"==typeof u.return&&(yield t.__await(u.return(new Uint8Array(0))))}return yield t.__await(null)}))}(e)),fromDOMStream:e=>i(function(e){return t.__asyncGenerator(this,arguments,(function*(){let i,s,a,o=!1,l=!1,c=[],u=0;({cmd:s,size:a}=yield yield t.__await(null));let d=new n(e);try{do{if(({done:o,value:i}=isNaN(a-u)?yield t.__await(d.read(void 0)):yield t.__await(d.read(a-u))),!o&&i.byteLength>0&&(c.push(r.toUint8Array(i)),u+=i.byteLength),o||a<=u)do{({cmd:s,size:a}=yield yield t.__await("peek"===s?r.joinUint8Arrays(c,a)[0]:([i,c,u]=r.joinUint8Arrays(c,a),i)))}while(a<u)}while(!o)}catch(e){(l=!0)&&(yield t.__await(d.cancel(e)))}finally{!1===l?yield t.__await(d.cancel()):e.locked&&d.releaseLock()}return yield t.__await(null)}))}(e)),fromNodeStream:e=>i(function(e){return t.__asyncGenerator(this,arguments,(function*(){let i,n,s,o=[],l="error",c=!1,u=null,d=0,h=[];if(({cmd:i,size:n}=yield yield t.__await(null)),e.isTTY)return yield yield t.__await(new Uint8Array(0)),yield t.__await(null);try{o[0]=a(e,"end"),o[1]=a(e,"error");do{if(o[2]=a(e,"readable"),[l,u]=yield t.__await(Promise.race(o.map((e=>e[2])))),"error"===l)break;if((c="end"===l)||(isFinite(n-d)?(s=r.toUint8Array(e.read(n-d)),s.byteLength<n-d&&(s=r.toUint8Array(e.read(void 0)))):s=r.toUint8Array(e.read(void 0)),s.byteLength>0&&(h.push(s),d+=s.byteLength)),c||n<=d)do{({cmd:i,size:n}=yield yield t.__await("peek"===i?r.joinUint8Arrays(h,n)[0]:([s,h,d]=r.joinUint8Arrays(h,n),s)))}while(n<d)}while(!c)}finally{yield t.__await((f=o,p="error"===l?u:null,s=h=null,new Promise(((t,r)=>{for(let[t,r]of f)e.off(t,r);try{let i=e.destroy;i&&i.call(e,p),p=void 0}catch(e){p=e||p}finally{null!=p?r(p):t()}}))))}var f,p;return yield t.__await(null)}))}(e)),toDOMStream(e,t){throw new Error('"toDOMStream" not available in this environment')},toNodeStream(e,t){throw new Error('"toNodeStream" not available in this environment')}};var i=e=>(e.next(),e),n=class{constructor(e){this.source=e,this.byobReader=null,this.defaultReader=null;try{this.supportsBYOB=!!(this.reader=this.getBYOBReader())}catch(e){this.supportsBYOB=!(this.reader=this.getDefaultReader())}}get closed(){return this.reader?this.reader.closed.catch((()=>{})):Promise.resolve()}releaseLock(){this.reader&&this.reader.releaseLock(),this.reader=this.byobReader=this.defaultReader=null}cancel(e){return t.__awaiter(this,void 0,void 0,(function*(){let{reader:t,source:r}=this;t&&(yield t.cancel(e).catch((()=>{}))),r&&r.locked&&this.releaseLock()}))}read(e){return t.__awaiter(this,void 0,void 0,(function*(){if(0===e)return{done:null==this.reader,value:new Uint8Array(0)};let t=this.supportsBYOB&&"number"==typeof e?yield this.readFromBYOBReader(e):yield this.getDefaultReader().read();return!t.done&&(t.value=r.toUint8Array(t)),t}))}getDefaultReader(){return this.byobReader&&this.releaseLock(),this.defaultReader||(this.defaultReader=this.source.getReader(),this.defaultReader.closed.catch((()=>{}))),this.reader=this.defaultReader}getBYOBReader(){return this.defaultReader&&this.releaseLock(),this.byobReader||(this.byobReader=this.source.getReader({mode:"byob"}),this.byobReader.closed.catch((()=>{}))),this.reader=this.byobReader}readFromBYOBReader(e){return t.__awaiter(this,void 0,void 0,(function*(){return yield s(this.getBYOBReader(),new ArrayBuffer(e),0,e)}))}};function s(e,r,i,n){return t.__awaiter(this,void 0,void 0,(function*(){if(i>=n)return{done:!1,value:new Uint8Array(r,0,n)};let{done:t,value:a}=yield e.read(new Uint8Array(r,i,n-i));return(i+=a.byteLength)<n&&!t?yield s(e,a.buffer,i,n):{done:t,value:new Uint8Array(a.buffer,0,i)}}))}var a=(e,t)=>{let r,i=e=>r([t,e]);return[t,i,new Promise((n=>(r=n)&&e.once(t,i)))]}})),w=h((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Vector=e.AbstractVector=void 0;var t=class{};e.AbstractVector=t,e.Vector=t,t.prototype.data=null})),T=h((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Schema=e.Buffer=e.Field=e.DictionaryEncoding=e.KeyValue=e.Duration=e.Interval=e.Timestamp=e.Time=e.Date=e.Decimal=e.Bool=e.FixedSizeBinary=e.LargeBinary=e.LargeUtf8=e.Binary=e.Utf8=e.FloatingPoint=e.Int=e.Union=e.Map=e.FixedSizeList=e.LargeList=e.List=e.Struct_=e.Null=e.Endianness=e.DictionaryKind=e.Type=e.IntervalUnit=e.TimeUnit=e.DateUnit=e.Precision=e.UnionMode=e.Feature=e.MetadataVersion=void 0;var t,r,i,n,s,a,o,l,c,u=y();(t=e.MetadataVersion||(e.MetadataVersion={}))[t.V1=0]="V1",t[t.V2=1]="V2",t[t.V3=2]="V3",t[t.V4=3]="V4",t[t.V5=4]="V5",function(e){e[e.UNUSED=0]="UNUSED",e[e.DICTIONARY_REPLACEMENT=1]="DICTIONARY_REPLACEMENT",e[e.COMPRESSED_BODY=2]="COMPRESSED_BODY"}(e.Feature||(e.Feature={})),function(e){e[e.Sparse=0]="Sparse",e[e.Dense=1]="Dense"}(r=e.UnionMode||(e.UnionMode={})),function(e){e[e.HALF=0]="HALF",e[e.SINGLE=1]="SINGLE",e[e.DOUBLE=2]="DOUBLE"}(i=e.Precision||(e.Precision={})),function(e){e[e.DAY=0]="DAY",e[e.MILLISECOND=1]="MILLISECOND"}(n=e.DateUnit||(e.DateUnit={})),function(e){e[e.SECOND=0]="SECOND",e[e.MILLISECOND=1]="MILLISECOND",e[e.MICROSECOND=2]="MICROSECOND",e[e.NANOSECOND=3]="NANOSECOND"}(s=e.TimeUnit||(e.TimeUnit={})),function(e){e[e.YEAR_MONTH=0]="YEAR_MONTH",e[e.DAY_TIME=1]="DAY_TIME"}(a=e.IntervalUnit||(e.IntervalUnit={})),function(e){e[e.NONE=0]="NONE",e[e.Null=1]="Null",e[e.Int=2]="Int",e[e.FloatingPoint=3]="FloatingPoint",e[e.Binary=4]="Binary",e[e.Utf8=5]="Utf8",e[e.Bool=6]="Bool",e[e.Decimal=7]="Decimal",e[e.Date=8]="Date",e[e.Time=9]="Time",e[e.Timestamp=10]="Timestamp",e[e.Interval=11]="Interval",e[e.List=12]="List",e[e.Struct_=13]="Struct_",e[e.Union=14]="Union",e[e.FixedSizeBinary=15]="FixedSizeBinary",e[e.FixedSizeList=16]="FixedSizeList",e[e.Map=17]="Map",e[e.Duration=18]="Duration",e[e.LargeBinary=19]="LargeBinary",e[e.LargeUtf8=20]="LargeUtf8",e[e.LargeList=21]="LargeList"}(o=e.Type||(e.Type={})),function(e){e[e.DenseArray=0]="DenseArray"}(l=e.DictionaryKind||(e.DictionaryKind={})),function(e){e[e.Little=0]="Little",e[e.Big=1]="Big"}(c=e.Endianness||(e.Endianness={}));var d=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsNull(e,t){return(t||new d).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsNull(e,t){return e.setPosition(e.position()+u.flatbuffers.SIZE_PREFIX_LENGTH),(t||new d).__init(e.readInt32(e.position())+e.position(),e)}static startNull(e){e.startObject(0)}static endNull(e){return e.endObject()}static createNull(e){return d.startNull(e),d.endNull(e)}};e.Null=d;var h=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsStruct_(e,t){return(t||new h).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsStruct_(e,t){return e.setPosition(e.position()+u.flatbuffers.SIZE_PREFIX_LENGTH),(t||new h).__init(e.readInt32(e.position())+e.position(),e)}static startStruct_(e){e.startObject(0)}static endStruct_(e){return e.endObject()}static createStruct_(e){return h.startStruct_(e),h.endStruct_(e)}};e.Struct_=h;var f=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsList(e,t){return(t||new f).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsList(e,t){return e.setPosition(e.position()+u.flatbuffers.SIZE_PREFIX_LENGTH),(t||new f).__init(e.readInt32(e.position())+e.position(),e)}static startList(e){e.startObject(0)}static endList(e){return e.endObject()}static createList(e){return f.startList(e),f.endList(e)}};e.List=f;var p=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsLargeList(e,t){return(t||new p).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsLargeList(e,t){return e.setPosition(e.position()+u.flatbuffers.SIZE_PREFIX_LENGTH),(t||new p).__init(e.readInt32(e.position())+e.position(),e)}static startLargeList(e){e.startObject(0)}static endLargeList(e){return e.endObject()}static createLargeList(e){return p.startLargeList(e),p.endLargeList(e)}};e.LargeList=p;var b=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsFixedSizeList(e,t){return(t||new b).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsFixedSizeList(e,t){return e.setPosition(e.position()+u.flatbuffers.SIZE_PREFIX_LENGTH),(t||new b).__init(e.readInt32(e.position())+e.position(),e)}listSize(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):0}static startFixedSizeList(e){e.startObject(1)}static addListSize(e,t){e.addFieldInt32(0,t,0)}static endFixedSizeList(e){return e.endObject()}static createFixedSizeList(e,t){return b.startFixedSizeList(e),b.addListSize(e,t),b.endFixedSizeList(e)}};e.FixedSizeList=b;var m=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsMap(e,t){return(t||new m).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsMap(e,t){return e.setPosition(e.position()+u.flatbuffers.SIZE_PREFIX_LENGTH),(t||new m).__init(e.readInt32(e.position())+e.position(),e)}keysSorted(){let e=this.bb.__offset(this.bb_pos,4);return!!e&&!!this.bb.readInt8(this.bb_pos+e)}static startMap(e){e.startObject(1)}static addKeysSorted(e,t){e.addFieldInt8(0,+t,0)}static endMap(e){return e.endObject()}static createMap(e,t){return m.startMap(e),m.addKeysSorted(e,t),m.endMap(e)}};e.Map=m;var _=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsUnion(e,t){return(t||new _).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsUnion(e,t){return e.setPosition(e.position()+u.flatbuffers.SIZE_PREFIX_LENGTH),(t||new _).__init(e.readInt32(e.position())+e.position(),e)}mode(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):r.Sparse}typeIds(e){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt32(this.bb.__vector(this.bb_pos+t)+4*e):0}typeIdsLength(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0}typeIdsArray(){let e=this.bb.__offset(this.bb_pos,6);return e?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+e),this.bb.__vector_len(this.bb_pos+e)):null}static startUnion(e){e.startObject(2)}static addMode(e,t){e.addFieldInt16(0,t,r.Sparse)}static addTypeIds(e,t){e.addFieldOffset(1,t,0)}static createTypeIdsVector(e,t){e.startVector(4,t.length,4);for(let r=t.length-1;r>=0;r--)e.addInt32(t[r]);return e.endVector()}static startTypeIdsVector(e,t){e.startVector(4,t,4)}static endUnion(e){return e.endObject()}static createUnion(e,t,r){return _.startUnion(e),_.addMode(e,t),_.addTypeIds(e,r),_.endUnion(e)}};e.Union=_;var g=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsInt(e,t){return(t||new g).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsInt(e,t){return e.setPosition(e.position()+u.flatbuffers.SIZE_PREFIX_LENGTH),(t||new g).__init(e.readInt32(e.position())+e.position(),e)}bitWidth(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):0}isSigned(){let e=this.bb.__offset(this.bb_pos,6);return!!e&&!!this.bb.readInt8(this.bb_pos+e)}static startInt(e){e.startObject(2)}static addBitWidth(e,t){e.addFieldInt32(0,t,0)}static addIsSigned(e,t){e.addFieldInt8(1,+t,0)}static endInt(e){return e.endObject()}static createInt(e,t,r){return g.startInt(e),g.addBitWidth(e,t),g.addIsSigned(e,r),g.endInt(e)}};e.Int=g;var v=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsFloatingPoint(e,t){return(t||new v).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsFloatingPoint(e,t){return e.setPosition(e.position()+u.flatbuffers.SIZE_PREFIX_LENGTH),(t||new v).__init(e.readInt32(e.position())+e.position(),e)}precision(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):i.HALF}static startFloatingPoint(e){e.startObject(1)}static addPrecision(e,t){e.addFieldInt16(0,t,i.HALF)}static endFloatingPoint(e){return e.endObject()}static createFloatingPoint(e,t){return v.startFloatingPoint(e),v.addPrecision(e,t),v.endFloatingPoint(e)}};e.FloatingPoint=v;var w=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsUtf8(e,t){return(t||new w).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsUtf8(e,t){return e.setPosition(e.position()+u.flatbuffers.SIZE_PREFIX_LENGTH),(t||new w).__init(e.readInt32(e.position())+e.position(),e)}static startUtf8(e){e.startObject(0)}static endUtf8(e){return e.endObject()}static createUtf8(e){return w.startUtf8(e),w.endUtf8(e)}};e.Utf8=w;var T=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsBinary(e,t){return(t||new T).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsBinary(e,t){return e.setPosition(e.position()+u.flatbuffers.SIZE_PREFIX_LENGTH),(t||new T).__init(e.readInt32(e.position())+e.position(),e)}static startBinary(e){e.startObject(0)}static endBinary(e){return e.endObject()}static createBinary(e){return T.startBinary(e),T.endBinary(e)}};e.Binary=T;var I=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsLargeUtf8(e,t){return(t||new I).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsLargeUtf8(e,t){return e.setPosition(e.position()+u.flatbuffers.SIZE_PREFIX_LENGTH),(t||new I).__init(e.readInt32(e.position())+e.position(),e)}static startLargeUtf8(e){e.startObject(0)}static endLargeUtf8(e){return e.endObject()}static createLargeUtf8(e){return I.startLargeUtf8(e),I.endLargeUtf8(e)}};e.LargeUtf8=I;var B=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsLargeBinary(e,t){return(t||new B).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsLargeBinary(e,t){return e.setPosition(e.position()+u.flatbuffers.SIZE_PREFIX_LENGTH),(t||new B).__init(e.readInt32(e.position())+e.position(),e)}static startLargeBinary(e){e.startObject(0)}static endLargeBinary(e){return e.endObject()}static createLargeBinary(e){return B.startLargeBinary(e),B.endLargeBinary(e)}};e.LargeBinary=B;var S=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsFixedSizeBinary(e,t){return(t||new S).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsFixedSizeBinary(e,t){return e.setPosition(e.position()+u.flatbuffers.SIZE_PREFIX_LENGTH),(t||new S).__init(e.readInt32(e.position())+e.position(),e)}byteWidth(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):0}static startFixedSizeBinary(e){e.startObject(1)}static addByteWidth(e,t){e.addFieldInt32(0,t,0)}static endFixedSizeBinary(e){return e.endObject()}static createFixedSizeBinary(e,t){return S.startFixedSizeBinary(e),S.addByteWidth(e,t),S.endFixedSizeBinary(e)}};e.FixedSizeBinary=S;var E=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsBool(e,t){return(t||new E).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsBool(e,t){return e.setPosition(e.position()+u.flatbuffers.SIZE_PREFIX_LENGTH),(t||new E).__init(e.readInt32(e.position())+e.position(),e)}static startBool(e){e.startObject(0)}static endBool(e){return e.endObject()}static createBool(e){return E.startBool(e),E.endBool(e)}};e.Bool=E;var A=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsDecimal(e,t){return(t||new A).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsDecimal(e,t){return e.setPosition(e.position()+u.flatbuffers.SIZE_PREFIX_LENGTH),(t||new A).__init(e.readInt32(e.position())+e.position(),e)}precision(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):0}scale(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt32(this.bb_pos+e):0}bitWidth(){let e=this.bb.__offset(this.bb_pos,8);return e?this.bb.readInt32(this.bb_pos+e):128}static startDecimal(e){e.startObject(3)}static addPrecision(e,t){e.addFieldInt32(0,t,0)}static addScale(e,t){e.addFieldInt32(1,t,0)}static addBitWidth(e,t){e.addFieldInt32(2,t,128)}static endDecimal(e){return e.endObject()}static createDecimal(e,t,r,i){return A.startDecimal(e),A.addPrecision(e,t),A.addScale(e,r),A.addBitWidth(e,i),A.endDecimal(e)}};e.Decimal=A;var O=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsDate(e,t){return(t||new O).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsDate(e,t){return e.setPosition(e.position()+u.flatbuffers.SIZE_PREFIX_LENGTH),(t||new O).__init(e.readInt32(e.position())+e.position(),e)}unit(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):n.MILLISECOND}static startDate(e){e.startObject(1)}static addUnit(e,t){e.addFieldInt16(0,t,n.MILLISECOND)}static endDate(e){return e.endObject()}static createDate(e,t){return O.startDate(e),O.addUnit(e,t),O.endDate(e)}};e.Date=O;var F=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsTime(e,t){return(t||new F).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsTime(e,t){return e.setPosition(e.position()+u.flatbuffers.SIZE_PREFIX_LENGTH),(t||new F).__init(e.readInt32(e.position())+e.position(),e)}unit(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):s.MILLISECOND}bitWidth(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt32(this.bb_pos+e):32}static startTime(e){e.startObject(2)}static addUnit(e,t){e.addFieldInt16(0,t,s.MILLISECOND)}static addBitWidth(e,t){e.addFieldInt32(1,t,32)}static endTime(e){return e.endObject()}static createTime(e,t,r){return F.startTime(e),F.addUnit(e,t),F.addBitWidth(e,r),F.endTime(e)}};e.Time=F;var D=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsTimestamp(e,t){return(t||new D).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsTimestamp(e,t){return e.setPosition(e.position()+u.flatbuffers.SIZE_PREFIX_LENGTH),(t||new D).__init(e.readInt32(e.position())+e.position(),e)}unit(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):s.SECOND}timezone(e){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__string(this.bb_pos+t,e):null}static startTimestamp(e){e.startObject(2)}static addUnit(e,t){e.addFieldInt16(0,t,s.SECOND)}static addTimezone(e,t){e.addFieldOffset(1,t,0)}static endTimestamp(e){return e.endObject()}static createTimestamp(e,t,r){return D.startTimestamp(e),D.addUnit(e,t),D.addTimezone(e,r),D.endTimestamp(e)}};e.Timestamp=D;var M=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsInterval(e,t){return(t||new M).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsInterval(e,t){return e.setPosition(e.position()+u.flatbuffers.SIZE_PREFIX_LENGTH),(t||new M).__init(e.readInt32(e.position())+e.position(),e)}unit(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):a.YEAR_MONTH}static startInterval(e){e.startObject(1)}static addUnit(e,t){e.addFieldInt16(0,t,a.YEAR_MONTH)}static endInterval(e){return e.endObject()}static createInterval(e,t){return M.startInterval(e),M.addUnit(e,t),M.endInterval(e)}};e.Interval=M;var R=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsDuration(e,t){return(t||new R).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsDuration(e,t){return e.setPosition(e.position()+u.flatbuffers.SIZE_PREFIX_LENGTH),(t||new R).__init(e.readInt32(e.position())+e.position(),e)}unit(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):s.MILLISECOND}static startDuration(e){e.startObject(1)}static addUnit(e,t){e.addFieldInt16(0,t,s.MILLISECOND)}static endDuration(e){return e.endObject()}static createDuration(e,t){return R.startDuration(e),R.addUnit(e,t),R.endDuration(e)}};e.Duration=R;var U=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsKeyValue(e,t){return(t||new U).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsKeyValue(e,t){return e.setPosition(e.position()+u.flatbuffers.SIZE_PREFIX_LENGTH),(t||new U).__init(e.readInt32(e.position())+e.position(),e)}key(e){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__string(this.bb_pos+t,e):null}value(e){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__string(this.bb_pos+t,e):null}static startKeyValue(e){e.startObject(2)}static addKey(e,t){e.addFieldOffset(0,t,0)}static addValue(e,t){e.addFieldOffset(1,t,0)}static endKeyValue(e){return e.endObject()}static createKeyValue(e,t,r){return U.startKeyValue(e),U.addKey(e,t),U.addValue(e,r),U.endKeyValue(e)}};e.KeyValue=U;var N=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsDictionaryEncoding(e,t){return(t||new N).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsDictionaryEncoding(e,t){return e.setPosition(e.position()+u.flatbuffers.SIZE_PREFIX_LENGTH),(t||new N).__init(e.readInt32(e.position())+e.position(),e)}id(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt64(this.bb_pos+e):this.bb.createLong(0,0)}indexType(e){let t=this.bb.__offset(this.bb_pos,6);return t?(e||new g).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null}isOrdered(){let e=this.bb.__offset(this.bb_pos,8);return!!e&&!!this.bb.readInt8(this.bb_pos+e)}dictionaryKind(){let e=this.bb.__offset(this.bb_pos,10);return e?this.bb.readInt16(this.bb_pos+e):l.DenseArray}static startDictionaryEncoding(e){e.startObject(4)}static addId(e,t){e.addFieldInt64(0,t,e.createLong(0,0))}static addIndexType(e,t){e.addFieldOffset(1,t,0)}static addIsOrdered(e,t){e.addFieldInt8(2,+t,0)}static addDictionaryKind(e,t){e.addFieldInt16(3,t,l.DenseArray)}static endDictionaryEncoding(e){return e.endObject()}static createDictionaryEncoding(e,t,r,i,n){return N.startDictionaryEncoding(e),N.addId(e,t),N.addIndexType(e,r),N.addIsOrdered(e,i),N.addDictionaryKind(e,n),N.endDictionaryEncoding(e)}};e.DictionaryEncoding=N;var V=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsField(e,t){return(t||new V).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsField(e,t){return e.setPosition(e.position()+u.flatbuffers.SIZE_PREFIX_LENGTH),(t||new V).__init(e.readInt32(e.position())+e.position(),e)}name(e){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__string(this.bb_pos+t,e):null}nullable(){let e=this.bb.__offset(this.bb_pos,6);return!!e&&!!this.bb.readInt8(this.bb_pos+e)}typeType(){let e=this.bb.__offset(this.bb_pos,8);return e?this.bb.readUint8(this.bb_pos+e):o.NONE}type(e){let t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__union(e,this.bb_pos+t):null}dictionary(e){let t=this.bb.__offset(this.bb_pos,12);return t?(e||new N).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null}children(e,t){let r=this.bb.__offset(this.bb_pos,14);return r?(t||new V).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+4*e),this.bb):null}childrenLength(){let e=this.bb.__offset(this.bb_pos,14);return e?this.bb.__vector_len(this.bb_pos+e):0}customMetadata(e,t){let r=this.bb.__offset(this.bb_pos,16);return r?(t||new U).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+4*e),this.bb):null}customMetadataLength(){let e=this.bb.__offset(this.bb_pos,16);return e?this.bb.__vector_len(this.bb_pos+e):0}static startField(e){e.startObject(7)}static addName(e,t){e.addFieldOffset(0,t,0)}static addNullable(e,t){e.addFieldInt8(1,+t,0)}static addTypeType(e,t){e.addFieldInt8(2,t,o.NONE)}static addType(e,t){e.addFieldOffset(3,t,0)}static addDictionary(e,t){e.addFieldOffset(4,t,0)}static addChildren(e,t){e.addFieldOffset(5,t,0)}static createChildrenVector(e,t){e.startVector(4,t.length,4);for(let r=t.length-1;r>=0;r--)e.addOffset(t[r]);return e.endVector()}static startChildrenVector(e,t){e.startVector(4,t,4)}static addCustomMetadata(e,t){e.addFieldOffset(6,t,0)}static createCustomMetadataVector(e,t){e.startVector(4,t.length,4);for(let r=t.length-1;r>=0;r--)e.addOffset(t[r]);return e.endVector()}static startCustomMetadataVector(e,t){e.startVector(4,t,4)}static endField(e){return e.endObject()}static createField(e,t,r,i,n,s,a,o){return V.startField(e),V.addName(e,t),V.addNullable(e,r),V.addTypeType(e,i),V.addType(e,n),V.addDictionary(e,s),V.addChildren(e,a),V.addCustomMetadata(e,o),V.endField(e)}};e.Field=V,e.Buffer=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}offset(){return this.bb.readInt64(this.bb_pos)}length(){return this.bb.readInt64(this.bb_pos+8)}static createBuffer(e,t,r){return e.prep(8,16),e.writeInt64(r),e.writeInt64(t),e.offset()}};var P=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsSchema(e,t){return(t||new P).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsSchema(e,t){return e.setPosition(e.position()+u.flatbuffers.SIZE_PREFIX_LENGTH),(t||new P).__init(e.readInt32(e.position())+e.position(),e)}endianness(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):c.Little}fields(e,t){let r=this.bb.__offset(this.bb_pos,6);return r?(t||new V).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+4*e),this.bb):null}fieldsLength(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0}customMetadata(e,t){let r=this.bb.__offset(this.bb_pos,8);return r?(t||new U).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+4*e),this.bb):null}customMetadataLength(){let e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0}features(e){let t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt64(this.bb.__vector(this.bb_pos+t)+8*e):this.bb.createLong(0,0)}featuresLength(){let e=this.bb.__offset(this.bb_pos,10);return e?this.bb.__vector_len(this.bb_pos+e):0}static startSchema(e){e.startObject(4)}static addEndianness(e,t){e.addFieldInt16(0,t,c.Little)}static addFields(e,t){e.addFieldOffset(1,t,0)}static createFieldsVector(e,t){e.startVector(4,t.length,4);for(let r=t.length-1;r>=0;r--)e.addOffset(t[r]);return e.endVector()}static startFieldsVector(e,t){e.startVector(4,t,4)}static addCustomMetadata(e,t){e.addFieldOffset(2,t,0)}static createCustomMetadataVector(e,t){e.startVector(4,t.length,4);for(let r=t.length-1;r>=0;r--)e.addOffset(t[r]);return e.endVector()}static startCustomMetadataVector(e,t){e.startVector(4,t,4)}static addFeatures(e,t){e.addFieldOffset(3,t,0)}static createFeaturesVector(e,t){e.startVector(8,t.length,8);for(let r=t.length-1;r>=0;r--)e.addInt64(t[r]);return e.endVector()}static startFeaturesVector(e,t){e.startVector(8,t,8)}static endSchema(e){return e.endObject()}static finishSchemaBuffer(e,t){e.finish(t)}static finishSizePrefixedSchemaBuffer(e,t){e.finish(t,void 0,!0)}static createSchema(e,t,r,i,n){return P.startSchema(e),P.addEndianness(e,t),P.addFields(e,r),P.addCustomMetadata(e,i),P.addFeatures(e,n),P.endSchema(e)}};e.Schema=P})),I=h((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Message=e.DictionaryBatch=e.RecordBatch=e.BodyCompression=e.FieldNode=e.MessageHeader=e.BodyCompressionMethod=e.CompressionType=void 0;var t,r,i,n,s=y(),a=T();(r=t=e.CompressionType||(e.CompressionType={}))[r.LZ4_FRAME=0]="LZ4_FRAME",r[r.ZSTD=1]="ZSTD",function(e){e[e.BUFFER=0]="BUFFER"}(i=e.BodyCompressionMethod||(e.BodyCompressionMethod={})),function(e){e[e.NONE=0]="NONE",e[e.Schema=1]="Schema",e[e.DictionaryBatch=2]="DictionaryBatch",e[e.RecordBatch=3]="RecordBatch",e[e.Tensor=4]="Tensor",e[e.SparseTensor=5]="SparseTensor"}(n=e.MessageHeader||(e.MessageHeader={}));var o=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}length(){return this.bb.readInt64(this.bb_pos)}nullCount(){return this.bb.readInt64(this.bb_pos+8)}static createFieldNode(e,t,r){return e.prep(8,16),e.writeInt64(r),e.writeInt64(t),e.offset()}};e.FieldNode=o;var l=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsBodyCompression(e,t){return(t||new l).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsBodyCompression(e,t){return e.setPosition(e.position()+s.flatbuffers.SIZE_PREFIX_LENGTH),(t||new l).__init(e.readInt32(e.position())+e.position(),e)}codec(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt8(this.bb_pos+e):t.LZ4_FRAME}method(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt8(this.bb_pos+e):i.BUFFER}static startBodyCompression(e){e.startObject(2)}static addCodec(e,r){e.addFieldInt8(0,r,t.LZ4_FRAME)}static addMethod(e,t){e.addFieldInt8(1,t,i.BUFFER)}static endBodyCompression(e){return e.endObject()}static createBodyCompression(e,t,r){return l.startBodyCompression(e),l.addCodec(e,t),l.addMethod(e,r),l.endBodyCompression(e)}};e.BodyCompression=l;var c=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsRecordBatch(e,t){return(t||new c).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsRecordBatch(e,t){return e.setPosition(e.position()+s.flatbuffers.SIZE_PREFIX_LENGTH),(t||new c).__init(e.readInt32(e.position())+e.position(),e)}length(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt64(this.bb_pos+e):this.bb.createLong(0,0)}nodes(e,t){let r=this.bb.__offset(this.bb_pos,6);return r?(t||new o).__init(this.bb.__vector(this.bb_pos+r)+16*e,this.bb):null}nodesLength(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0}buffers(e,t){let r=this.bb.__offset(this.bb_pos,8);return r?(t||new a.Buffer).__init(this.bb.__vector(this.bb_pos+r)+16*e,this.bb):null}buffersLength(){let e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0}compression(e){let t=this.bb.__offset(this.bb_pos,10);return t?(e||new l).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null}static startRecordBatch(e){e.startObject(4)}static addLength(e,t){e.addFieldInt64(0,t,e.createLong(0,0))}static addNodes(e,t){e.addFieldOffset(1,t,0)}static startNodesVector(e,t){e.startVector(16,t,8)}static addBuffers(e,t){e.addFieldOffset(2,t,0)}static startBuffersVector(e,t){e.startVector(16,t,8)}static addCompression(e,t){e.addFieldOffset(3,t,0)}static endRecordBatch(e){return e.endObject()}static createRecordBatch(e,t,r,i,n){return c.startRecordBatch(e),c.addLength(e,t),c.addNodes(e,r),c.addBuffers(e,i),c.addCompression(e,n),c.endRecordBatch(e)}};e.RecordBatch=c;var u=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsDictionaryBatch(e,t){return(t||new u).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsDictionaryBatch(e,t){return e.setPosition(e.position()+s.flatbuffers.SIZE_PREFIX_LENGTH),(t||new u).__init(e.readInt32(e.position())+e.position(),e)}id(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt64(this.bb_pos+e):this.bb.createLong(0,0)}data(e){let t=this.bb.__offset(this.bb_pos,6);return t?(e||new c).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null}isDelta(){let e=this.bb.__offset(this.bb_pos,8);return!!e&&!!this.bb.readInt8(this.bb_pos+e)}static startDictionaryBatch(e){e.startObject(3)}static addId(e,t){e.addFieldInt64(0,t,e.createLong(0,0))}static addData(e,t){e.addFieldOffset(1,t,0)}static addIsDelta(e,t){e.addFieldInt8(2,+t,0)}static endDictionaryBatch(e){return e.endObject()}static createDictionaryBatch(e,t,r,i){return u.startDictionaryBatch(e),u.addId(e,t),u.addData(e,r),u.addIsDelta(e,i),u.endDictionaryBatch(e)}};e.DictionaryBatch=u;var d=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsMessage(e,t){return(t||new d).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsMessage(e,t){return e.setPosition(e.position()+s.flatbuffers.SIZE_PREFIX_LENGTH),(t||new d).__init(e.readInt32(e.position())+e.position(),e)}version(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):a.MetadataVersion.V1}headerType(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readUint8(this.bb_pos+e):n.NONE}header(e){let t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__union(e,this.bb_pos+t):null}bodyLength(){let e=this.bb.__offset(this.bb_pos,10);return e?this.bb.readInt64(this.bb_pos+e):this.bb.createLong(0,0)}customMetadata(e,t){let r=this.bb.__offset(this.bb_pos,12);return r?(t||new a.KeyValue).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+4*e),this.bb):null}customMetadataLength(){let e=this.bb.__offset(this.bb_pos,12);return e?this.bb.__vector_len(this.bb_pos+e):0}static startMessage(e){e.startObject(5)}static addVersion(e,t){e.addFieldInt16(0,t,a.MetadataVersion.V1)}static addHeaderType(e,t){e.addFieldInt8(1,t,n.NONE)}static addHeader(e,t){e.addFieldOffset(2,t,0)}static addBodyLength(e,t){e.addFieldInt64(3,t,e.createLong(0,0))}static addCustomMetadata(e,t){e.addFieldOffset(4,t,0)}static createCustomMetadataVector(e,t){e.startVector(4,t.length,4);for(let r=t.length-1;r>=0;r--)e.addOffset(t[r]);return e.endVector()}static startCustomMetadataVector(e,t){e.startVector(4,t,4)}static endMessage(e){return e.endObject()}static finishMessageBuffer(e,t){e.finish(t)}static finishSizePrefixedMessageBuffer(e,t){e.finish(t,void 0,!0)}static createMessage(e,t,r,i,n,s){return d.startMessage(e),d.addVersion(e,t),d.addHeaderType(e,r),d.addHeader(e,i),d.addBodyLength(e,n),d.addCustomMetadata(e,s),d.endMessage(e)}};e.Message=d})),B=h((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.BufferType=e.Type=e.MessageHeader=e.MetadataVersion=e.IntervalUnit=e.UnionMode=e.Precision=e.TimeUnit=e.DateUnit=void 0;var t=T();Object.defineProperty(e,"DateUnit",{enumerable:!0,get:function(){return t.DateUnit}}),Object.defineProperty(e,"TimeUnit",{enumerable:!0,get:function(){return t.TimeUnit}}),Object.defineProperty(e,"Precision",{enumerable:!0,get:function(){return t.Precision}}),Object.defineProperty(e,"UnionMode",{enumerable:!0,get:function(){return t.UnionMode}}),Object.defineProperty(e,"IntervalUnit",{enumerable:!0,get:function(){return t.IntervalUnit}}),Object.defineProperty(e,"MetadataVersion",{enumerable:!0,get:function(){return t.MetadataVersion}});var r,i=I();Object.defineProperty(e,"MessageHeader",{enumerable:!0,get:function(){return i.MessageHeader}}),(r=e.Type||(e.Type={}))[r.NONE=0]="NONE",r[r.Null=1]="Null",r[r.Int=2]="Int",r[r.Float=3]="Float",r[r.Binary=4]="Binary",r[r.Utf8=5]="Utf8",r[r.Bool=6]="Bool",r[r.Decimal=7]="Decimal",r[r.Date=8]="Date",r[r.Time=9]="Time",r[r.Timestamp=10]="Timestamp",r[r.Interval=11]="Interval",r[r.List=12]="List",r[r.Struct=13]="Struct",r[r.Union=14]="Union",r[r.FixedSizeBinary=15]="FixedSizeBinary",r[r.FixedSizeList=16]="FixedSizeList",r[r.Map=17]="Map",r[r.Dictionary=-1]="Dictionary",r[r.Int8=-2]="Int8",r[r.Int16=-3]="Int16",r[r.Int32=-4]="Int32",r[r.Int64=-5]="Int64",r[r.Uint8=-6]="Uint8",r[r.Uint16=-7]="Uint16",r[r.Uint32=-8]="Uint32",r[r.Uint64=-9]="Uint64",r[r.Float16=-10]="Float16",r[r.Float32=-11]="Float32",r[r.Float64=-12]="Float64",r[r.DateDay=-13]="DateDay",r[r.DateMillisecond=-14]="DateMillisecond",r[r.TimestampSecond=-15]="TimestampSecond",r[r.TimestampMillisecond=-16]="TimestampMillisecond",r[r.TimestampMicrosecond=-17]="TimestampMicrosecond",r[r.TimestampNanosecond=-18]="TimestampNanosecond",r[r.TimeSecond=-19]="TimeSecond",r[r.TimeMillisecond=-20]="TimeMillisecond",r[r.TimeMicrosecond=-21]="TimeMicrosecond",r[r.TimeNanosecond=-22]="TimeNanosecond",r[r.DenseUnion=-23]="DenseUnion",r[r.SparseUnion=-24]="SparseUnion",r[r.IntervalDayTime=-25]="IntervalDayTime",r[r.IntervalYearMonth=-26]="IntervalYearMonth",function(e){e[e.OFFSET=0]="OFFSET",e[e.DATA=1]="DATA",e[e.VALIDITY=2]="VALIDITY",e[e.TYPE=3]="TYPE"}(e.BufferType||(e.BufferType={}))})),S=h((e=>{function t(e,t,r,i){return 0!=(r&1<<i)}function r(e,t,r,i){return(r&1<<i)>>i}function i(e){let t=[],r=0,i=0,n=0;for(let s of e)s&&(n|=1<<i),8==++i&&(t[r++]=n,n=i=0);(0===r||i>0)&&(t[r++]=n);let s=new Uint8Array(t.length+7&-8);return s.set(t),s}Object.defineProperty(e,"__esModule",{value:!0}),e.popcnt_uint32=e.popcnt_array=e.popcnt_bit_range=e.BitIterator=e.packBools=e.truncateBitmap=e.setBool=e.getBit=e.getBool=void 0,e.getBool=t,e.getBit=r,e.setBool=function(e,t,r){return r?!!(e[t>>3]|=1<<t%8)||!0:!(e[t>>3]&=~(1<<t%8))&&!1},e.truncateBitmap=function(e,r,s){let a=s.byteLength+7&-8;if(e>0||s.byteLength<a){let o=new Uint8Array(a);return o.set(e%8==0?s.subarray(e>>3):i(new n(s,e,r,null,t)).subarray(0,a)),o}return s},e.packBools=i;var n=class{constructor(e,t,r,i,n){this.bytes=e,this.length=r,this.context=i,this.get=n,this.bit=t%8,this.byteIndex=t>>3,this.byte=e[this.byteIndex++],this.index=0}next(){return this.index<this.length?(8===this.bit&&(this.bit=0,this.byte=this.bytes[this.byteIndex++]),{value:this.get(this.context,this.index++,this.byte,this.bit++)}):{done:!0,value:null}}[Symbol.iterator](){return this}};function s(e,t,r){let i=0,n=0|t,s=new DataView(e.buffer,e.byteOffset,e.byteLength),o=void 0===r?e.byteLength:n+r;for(;o-n>=4;)i+=a(s.getUint32(n)),n+=4;for(;o-n>=2;)i+=a(s.getUint16(n)),n+=2;for(;o-n>=1;)i+=a(s.getUint8(n)),n+=1;return i}function a(e){let t=0|e;return t-=t>>>1&1431655765,t=(858993459&t)+(t>>>2&858993459),16843009*(t+(t>>>4)&252645135)>>>24}e.BitIterator=n,e.popcnt_bit_range=function e(t,i,a){if(a-i<=0)return 0;if(a-i<8){let e=0;for(let s of new n(t,i,a-i,t,r))e+=s;return e}let o=a>>3<<3,l=i+(i%8==0?0:8-i%8);return e(t,i,l)+e(t,o,a)+s(t,l>>3,o-l>>3)},e.popcnt_array=s,e.popcnt_uint32=a})),E=h((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.strideForType=e.Dictionary=e.Map_=e.FixedSizeList=e.FixedSizeBinary=e.SparseUnion=e.DenseUnion=e.Union=e.Struct=e.List=e.IntervalYearMonth=e.IntervalDayTime=e.Interval=e.TimestampNanosecond=e.TimestampMicrosecond=e.TimestampMillisecond=e.TimestampSecond=e.Timestamp=e.TimeNanosecond=e.TimeMicrosecond=e.TimeMillisecond=e.TimeSecond=e.Time=e.DateMillisecond=e.DateDay=e.Date_=e.Decimal=e.Bool=e.Utf8=e.Binary=e.Float64=e.Float32=e.Float16=e.Float=e.Uint64=e.Uint32=e.Uint16=e.Uint8=e.Int64=e.Int32=e.Int16=e.Int8=e.Int=e.Null=e.DataType=void 0;var t,r=B(),i=class{static isNull(e){return(null==e?void 0:e.typeId)===r.Type.Null}static isInt(e){return(null==e?void 0:e.typeId)===r.Type.Int}static isFloat(e){return(null==e?void 0:e.typeId)===r.Type.Float}static isBinary(e){return(null==e?void 0:e.typeId)===r.Type.Binary}static isUtf8(e){return(null==e?void 0:e.typeId)===r.Type.Utf8}static isBool(e){return(null==e?void 0:e.typeId)===r.Type.Bool}static isDecimal(e){return(null==e?void 0:e.typeId)===r.Type.Decimal}static isDate(e){return(null==e?void 0:e.typeId)===r.Type.Date}static isTime(e){return(null==e?void 0:e.typeId)===r.Type.Time}static isTimestamp(e){return(null==e?void 0:e.typeId)===r.Type.Timestamp}static isInterval(e){return(null==e?void 0:e.typeId)===r.Type.Interval}static isList(e){return(null==e?void 0:e.typeId)===r.Type.List}static isStruct(e){return(null==e?void 0:e.typeId)===r.Type.Struct}static isUnion(e){return(null==e?void 0:e.typeId)===r.Type.Union}static isFixedSizeBinary(e){return(null==e?void 0:e.typeId)===r.Type.FixedSizeBinary}static isFixedSizeList(e){return(null==e?void 0:e.typeId)===r.Type.FixedSizeList}static isMap(e){return(null==e?void 0:e.typeId)===r.Type.Map}static isDictionary(e){return(null==e?void 0:e.typeId)===r.Type.Dictionary}get typeId(){return r.Type.NONE}};e.DataType=i,i[Symbol.toStringTag]=((t=i.prototype).children=null,t.ArrayType=Array,t[Symbol.toStringTag]="DataType");var n=class extends i{toString(){return"Null"}get typeId(){return r.Type.Null}};e.Null=n,n[Symbol.toStringTag]=(e=>e[Symbol.toStringTag]="Null")(n.prototype);var s=class extends i{constructor(e,t){super(),this.isSigned=e,this.bitWidth=t}get typeId(){return r.Type.Int}get ArrayType(){switch(this.bitWidth){case 8:return this.isSigned?Int8Array:Uint8Array;case 16:return this.isSigned?Int16Array:Uint16Array;case 32:case 64:return this.isSigned?Int32Array:Uint32Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`${this.isSigned?"I":"Ui"}nt${this.bitWidth}`}};e.Int=s,s[Symbol.toStringTag]=(e=>(e.isSigned=null,e.bitWidth=null,e[Symbol.toStringTag]="Int"))(s.prototype);var a=class extends s{constructor(){super(!0,8)}};e.Int8=a;var o=class extends s{constructor(){super(!0,16)}};e.Int16=o;var l=class extends s{constructor(){super(!0,32)}};e.Int32=l;var c=class extends s{constructor(){super(!0,64)}};e.Int64=c;var u=class extends s{constructor(){super(!1,8)}};e.Uint8=u;var d=class extends s{constructor(){super(!1,16)}};e.Uint16=d;var h=class extends s{constructor(){super(!1,32)}};e.Uint32=h;var f=class extends s{constructor(){super(!1,64)}};e.Uint64=f,Object.defineProperty(a.prototype,"ArrayType",{value:Int8Array}),Object.defineProperty(o.prototype,"ArrayType",{value:Int16Array}),Object.defineProperty(l.prototype,"ArrayType",{value:Int32Array}),Object.defineProperty(c.prototype,"ArrayType",{value:Int32Array}),Object.defineProperty(u.prototype,"ArrayType",{value:Uint8Array}),Object.defineProperty(d.prototype,"ArrayType",{value:Uint16Array}),Object.defineProperty(h.prototype,"ArrayType",{value:Uint32Array}),Object.defineProperty(f.prototype,"ArrayType",{value:Uint32Array});var p=class extends i{constructor(e){super(),this.precision=e}get typeId(){return r.Type.Float}get ArrayType(){switch(this.precision){case r.Precision.HALF:return Uint16Array;case r.Precision.SINGLE:return Float32Array;case r.Precision.DOUBLE:return Float64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`Float${this.precision<<5||16}`}};e.Float=p,p[Symbol.toStringTag]=(e=>(e.precision=null,e[Symbol.toStringTag]="Float"))(p.prototype);var y=class extends p{constructor(){super(r.Precision.HALF)}};e.Float16=y;var b=class extends p{constructor(){super(r.Precision.SINGLE)}};e.Float32=b;var m=class extends p{constructor(){super(r.Precision.DOUBLE)}};e.Float64=m,Object.defineProperty(y.prototype,"ArrayType",{value:Uint16Array}),Object.defineProperty(b.prototype,"ArrayType",{value:Float32Array}),Object.defineProperty(m.prototype,"ArrayType",{value:Float64Array});var _=class extends i{constructor(){super()}get typeId(){return r.Type.Binary}toString(){return"Binary"}};e.Binary=_,_[Symbol.toStringTag]=(e=>(e.ArrayType=Uint8Array,e[Symbol.toStringTag]="Binary"))(_.prototype);var g=class extends i{constructor(){super()}get typeId(){return r.Type.Utf8}toString(){return"Utf8"}};e.Utf8=g,g[Symbol.toStringTag]=(e=>(e.ArrayType=Uint8Array,e[Symbol.toStringTag]="Utf8"))(g.prototype);var v=class extends i{constructor(){super()}get typeId(){return r.Type.Bool}toString(){return"Bool"}};e.Bool=v,v[Symbol.toStringTag]=(e=>(e.ArrayType=Uint8Array,e[Symbol.toStringTag]="Bool"))(v.prototype);var w=class extends i{constructor(e,t){super(),this.scale=e,this.precision=t}get typeId(){return r.Type.Decimal}toString(){return`Decimal[${this.precision}e${this.scale>0?"+":""}${this.scale}]`}};e.Decimal=w,w[Symbol.toStringTag]=(e=>(e.scale=null,e.precision=null,e.ArrayType=Uint32Array,e[Symbol.toStringTag]="Decimal"))(w.prototype);var T=class extends i{constructor(e){super(),this.unit=e}get typeId(){return r.Type.Date}toString(){return`Date${32*(this.unit+1)}<${r.DateUnit[this.unit]}>`}};e.Date_=T,T[Symbol.toStringTag]=(e=>(e.unit=null,e.ArrayType=Int32Array,e[Symbol.toStringTag]="Date"))(T.prototype),e.DateDay=class extends T{constructor(){super(r.DateUnit.DAY)}},e.DateMillisecond=class extends T{constructor(){super(r.DateUnit.MILLISECOND)}};var I=class extends i{constructor(e,t){super(),this.unit=e,this.bitWidth=t}get typeId(){return r.Type.Time}toString(){return`Time${this.bitWidth}<${r.TimeUnit[this.unit]}>`}};e.Time=I,I[Symbol.toStringTag]=(e=>(e.unit=null,e.bitWidth=null,e.ArrayType=Int32Array,e[Symbol.toStringTag]="Time"))(I.prototype),e.TimeSecond=class extends I{constructor(){super(r.TimeUnit.SECOND,32)}},e.TimeMillisecond=class extends I{constructor(){super(r.TimeUnit.MILLISECOND,32)}},e.TimeMicrosecond=class extends I{constructor(){super(r.TimeUnit.MICROSECOND,64)}},e.TimeNanosecond=class extends I{constructor(){super(r.TimeUnit.NANOSECOND,64)}};var S=class extends i{constructor(e,t){super(),this.unit=e,this.timezone=t}get typeId(){return r.Type.Timestamp}toString(){return`Timestamp<${r.TimeUnit[this.unit]}${this.timezone?`, ${this.timezone}`:""}>`}};e.Timestamp=S,S[Symbol.toStringTag]=(e=>(e.unit=null,e.timezone=null,e.ArrayType=Int32Array,e[Symbol.toStringTag]="Timestamp"))(S.prototype),e.TimestampSecond=class extends S{constructor(e){super(r.TimeUnit.SECOND,e)}},e.TimestampMillisecond=class extends S{constructor(e){super(r.TimeUnit.MILLISECOND,e)}},e.TimestampMicrosecond=class extends S{constructor(e){super(r.TimeUnit.MICROSECOND,e)}},e.TimestampNanosecond=class extends S{constructor(e){super(r.TimeUnit.NANOSECOND,e)}};var E=class extends i{constructor(e){super(),this.unit=e}get typeId(){return r.Type.Interval}toString(){return`Interval<${r.IntervalUnit[this.unit]}>`}};e.Interval=E,E[Symbol.toStringTag]=(e=>(e.unit=null,e.ArrayType=Int32Array,e[Symbol.toStringTag]="Interval"))(E.prototype),e.IntervalDayTime=class extends E{constructor(){super(r.IntervalUnit.DAY_TIME)}},e.IntervalYearMonth=class extends E{constructor(){super(r.IntervalUnit.YEAR_MONTH)}};var A=class extends i{constructor(e){super(),this.children=[e]}get typeId(){return r.Type.List}toString(){return`List<${this.valueType}>`}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}};e.List=A,A[Symbol.toStringTag]=(e=>(e.children=null,e[Symbol.toStringTag]="List"))(A.prototype);var O=class extends i{constructor(e){super(),this.children=e}get typeId(){return r.Type.Struct}toString(){return`Struct<{${this.children.map((e=>`${e.name}:${e.type}`)).join(", ")}}>`}};e.Struct=O,O[Symbol.toStringTag]=(e=>(e.children=null,e[Symbol.toStringTag]="Struct"))(O.prototype);var F=class extends i{constructor(e,t,r){super(),this.mode=e,this.children=r,this.typeIds=t=Int32Array.from(t),this.typeIdToChildIndex=t.reduce(((e,t,r)=>(e[t]=r)&&e||e),Object.create(null))}get typeId(){return r.Type.Union}toString(){return`${this[Symbol.toStringTag]}<${this.children.map((e=>`${e.type}`)).join(" | ")}>`}};e.Union=F,F[Symbol.toStringTag]=(e=>(e.mode=null,e.typeIds=null,e.children=null,e.typeIdToChildIndex=null,e.ArrayType=Int8Array,e[Symbol.toStringTag]="Union"))(F.prototype),e.DenseUnion=class extends F{constructor(e,t){super(r.UnionMode.Dense,e,t)}},e.SparseUnion=class extends F{constructor(e,t){super(r.UnionMode.Sparse,e,t)}};var D=class extends i{constructor(e){super(),this.byteWidth=e}get typeId(){return r.Type.FixedSizeBinary}toString(){return`FixedSizeBinary[${this.byteWidth}]`}};e.FixedSizeBinary=D,D[Symbol.toStringTag]=(e=>(e.byteWidth=null,e.ArrayType=Uint8Array,e[Symbol.toStringTag]="FixedSizeBinary"))(D.prototype);var M=class extends i{constructor(e,t){super(),this.listSize=e,this.children=[t]}get typeId(){return r.Type.FixedSizeList}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}toString(){return`FixedSizeList[${this.listSize}]<${this.valueType}>`}};e.FixedSizeList=M,M[Symbol.toStringTag]=(e=>(e.children=null,e.listSize=null,e[Symbol.toStringTag]="FixedSizeList"))(M.prototype);var R=class extends i{constructor(e,t=!1){super(),this.children=[e],this.keysSorted=t}get typeId(){return r.Type.Map}get keyType(){return this.children[0].type.children[0].type}get valueType(){return this.children[0].type.children[1].type}toString(){return`Map<{${this.children[0].type.children.map((e=>`${e.name}:${e.type}`)).join(", ")}}>`}};e.Map_=R,R[Symbol.toStringTag]=(e=>(e.children=null,e.keysSorted=null,e[Symbol.toStringTag]="Map_"))(R.prototype);var U=(e=>()=>++e)(-1),N=class extends i{constructor(e,t,r,i){super(),this.indices=t,this.dictionary=e,this.isOrdered=i||!1,this.id=null==r?U():"number"==typeof r?r:r.low}get typeId(){return r.Type.Dictionary}get children(){return this.dictionary.children}get valueType(){return this.dictionary}get ArrayType(){return this.dictionary.ArrayType}toString(){return`Dictionary<${this.indices}, ${this.dictionary}>`}};e.Dictionary=N,N[Symbol.toStringTag]=(e=>(e.id=null,e.indices=null,e.isOrdered=null,e.dictionary=null,e[Symbol.toStringTag]="Dictionary"))(N.prototype),e.strideForType=function(e){let t=e;switch(e.typeId){case r.Type.Decimal:return 4;case r.Type.Timestamp:return 2;case r.Type.Date:case r.Type.Interval:return 1+t.unit;case r.Type.Int:case r.Type.Time:return+(t.bitWidth>32)+1;case r.Type.FixedSizeList:return t.listSize;case r.Type.FixedSizeBinary:return t.byteWidth;default:return 1}}})),A=h((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Data=e.kUnknownNullCount=void 0;var t=S(),r=S(),i=B(),n=E(),s=g();e.kUnknownNullCount=-1;var a=class{constructor(e,t,r,i,s,o,l){let c;this.type=e,this.dictionary=l,this.offset=Math.floor(Math.max(t||0,0)),this.length=Math.floor(Math.max(r||0,0)),this._nullCount=Math.floor(Math.max(i||0,-1)),this.childData=(o||[]).map((e=>e instanceof a?e:e.data)),s instanceof a?(this.stride=s.stride,this.values=s.values,this.typeIds=s.typeIds,this.nullBitmap=s.nullBitmap,this.valueOffsets=s.valueOffsets):(this.stride=n.strideForType(e),s&&((c=s[0])&&(this.valueOffsets=c),(c=s[1])&&(this.values=c),(c=s[2])&&(this.nullBitmap=c),(c=s[3])&&(this.typeIds=c)))}get typeId(){return this.type.typeId}get ArrayType(){return this.type.ArrayType}get buffers(){return[this.valueOffsets,this.values,this.nullBitmap,this.typeIds]}get byteLength(){let e=0,{valueOffsets:t,values:r,nullBitmap:i,typeIds:n}=this;return t&&(e+=t.byteLength),r&&(e+=r.byteLength),i&&(e+=i.byteLength),n&&(e+=n.byteLength),this.childData.reduce(((e,t)=>e+t.byteLength),e)}get nullCount(){let t,i=this._nullCount;return i<=e.kUnknownNullCount&&(t=this.nullBitmap)&&(this._nullCount=i=this.length-r.popcnt_bit_range(t,this.offset,this.offset+this.length)),i}clone(e,t=this.offset,r=this.length,i=this._nullCount,n=this,s=this.childData){return new a(e,t,r,i,n,s,this.dictionary)}slice(e,t){let{stride:r,typeId:i,childData:n}=this,s=+(0===this._nullCount)-1,a=16===i?r:1,o=this._sliceBuffers(e,t,r,i);return this.clone(this.type,this.offset+e,t,s,o,!n.length||this.valueOffsets?n:this._sliceChildren(n,a*e,a*t))}_changeLengthAndBackfillNullBitmap(e){if(this.typeId===i.Type.Null)return this.clone(this.type,0,e,0);let{length:r,nullCount:n}=this,s=new Uint8Array((e+63&-64)>>3).fill(255,0,r>>3);s[r>>3]=(1<<r-(-8&r))-1,n>0&&s.set(t.truncateBitmap(this.offset,r,this.nullBitmap),0);let a=this.buffers;return a[i.BufferType.VALIDITY]=s,this.clone(this.type,0,e,n+(e-r),a)}_sliceBuffers(e,t,r,n){let s,{buffers:a}=this;return(s=a[i.BufferType.TYPE])&&(a[i.BufferType.TYPE]=s.subarray(e,e+t)),(s=a[i.BufferType.OFFSET])&&(a[i.BufferType.OFFSET]=s.subarray(e,e+t+1))||(s=a[i.BufferType.DATA])&&(a[i.BufferType.DATA]=6===n?s:s.subarray(r*e,r*(e+t))),a}_sliceChildren(e,t,r){return e.map((e=>e.slice(t,r)))}static new(e,t,r,n,s,o,l){switch(s instanceof a?s=s.buffers:s||(s=[]),e.typeId){case i.Type.Null:return a.Null(e,t,r);case i.Type.Int:return a.Int(e,t,r,n||0,s[i.BufferType.VALIDITY],s[i.BufferType.DATA]||[]);case i.Type.Dictionary:return a.Dictionary(e,t,r,n||0,s[i.BufferType.VALIDITY],s[i.BufferType.DATA]||[],l);case i.Type.Float:return a.Float(e,t,r,n||0,s[i.BufferType.VALIDITY],s[i.BufferType.DATA]||[]);case i.Type.Bool:return a.Bool(e,t,r,n||0,s[i.BufferType.VALIDITY],s[i.BufferType.DATA]||[]);case i.Type.Decimal:return a.Decimal(e,t,r,n||0,s[i.BufferType.VALIDITY],s[i.BufferType.DATA]||[]);case i.Type.Date:return a.Date(e,t,r,n||0,s[i.BufferType.VALIDITY],s[i.BufferType.DATA]||[]);case i.Type.Time:return a.Time(e,t,r,n||0,s[i.BufferType.VALIDITY],s[i.BufferType.DATA]||[]);case i.Type.Timestamp:return a.Timestamp(e,t,r,n||0,s[i.BufferType.VALIDITY],s[i.BufferType.DATA]||[]);case i.Type.Interval:return a.Interval(e,t,r,n||0,s[i.BufferType.VALIDITY],s[i.BufferType.DATA]||[]);case i.Type.FixedSizeBinary:return a.FixedSizeBinary(e,t,r,n||0,s[i.BufferType.VALIDITY],s[i.BufferType.DATA]||[]);case i.Type.Binary:return a.Binary(e,t,r,n||0,s[i.BufferType.VALIDITY],s[i.BufferType.OFFSET]||[],s[i.BufferType.DATA]||[]);case i.Type.Utf8:return a.Utf8(e,t,r,n||0,s[i.BufferType.VALIDITY],s[i.BufferType.OFFSET]||[],s[i.BufferType.DATA]||[]);case i.Type.List:return a.List(e,t,r,n||0,s[i.BufferType.VALIDITY],s[i.BufferType.OFFSET]||[],(o||[])[0]);case i.Type.FixedSizeList:return a.FixedSizeList(e,t,r,n||0,s[i.BufferType.VALIDITY],(o||[])[0]);case i.Type.Struct:return a.Struct(e,t,r,n||0,s[i.BufferType.VALIDITY],o||[]);case i.Type.Map:return a.Map(e,t,r,n||0,s[i.BufferType.VALIDITY],s[i.BufferType.OFFSET]||[],(o||[])[0]);case i.Type.Union:return a.Union(e,t,r,n||0,s[i.BufferType.VALIDITY],s[i.BufferType.TYPE]||[],s[i.BufferType.OFFSET]||o,o)}throw new Error(`Unrecognized typeId ${e.typeId}`)}static Null(e,t,r){return new a(e,t,r,0)}static Int(e,t,r,i,n,o){return new a(e,t,r,i,[void 0,s.toArrayBufferView(e.ArrayType,o),s.toUint8Array(n)])}static Dictionary(e,t,r,i,n,o,l){return new a(e,t,r,i,[void 0,s.toArrayBufferView(e.indices.ArrayType,o),s.toUint8Array(n)],[],l)}static Float(e,t,r,i,n,o){return new a(e,t,r,i,[void 0,s.toArrayBufferView(e.ArrayType,o),s.toUint8Array(n)])}static Bool(e,t,r,i,n,o){return new a(e,t,r,i,[void 0,s.toArrayBufferView(e.ArrayType,o),s.toUint8Array(n)])}static Decimal(e,t,r,i,n,o){return new a(e,t,r,i,[void 0,s.toArrayBufferView(e.ArrayType,o),s.toUint8Array(n)])}static Date(e,t,r,i,n,o){return new a(e,t,r,i,[void 0,s.toArrayBufferView(e.ArrayType,o),s.toUint8Array(n)])}static Time(e,t,r,i,n,o){return new a(e,t,r,i,[void 0,s.toArrayBufferView(e.ArrayType,o),s.toUint8Array(n)])}static Timestamp(e,t,r,i,n,o){return new a(e,t,r,i,[void 0,s.toArrayBufferView(e.ArrayType,o),s.toUint8Array(n)])}static Interval(e,t,r,i,n,o){return new a(e,t,r,i,[void 0,s.toArrayBufferView(e.ArrayType,o),s.toUint8Array(n)])}static FixedSizeBinary(e,t,r,i,n,o){return new a(e,t,r,i,[void 0,s.toArrayBufferView(e.ArrayType,o),s.toUint8Array(n)])}static Binary(e,t,r,i,n,o,l){return new a(e,t,r,i,[s.toInt32Array(o),s.toUint8Array(l),s.toUint8Array(n)])}static Utf8(e,t,r,i,n,o,l){return new a(e,t,r,i,[s.toInt32Array(o),s.toUint8Array(l),s.toUint8Array(n)])}static List(e,t,r,i,n,o,l){return new a(e,t,r,i,[s.toInt32Array(o),void 0,s.toUint8Array(n)],l?[l]:[])}static FixedSizeList(e,t,r,i,n,o){return new a(e,t,r,i,[void 0,void 0,s.toUint8Array(n)],o?[o]:[])}static Struct(e,t,r,i,n,o){return new a(e,t,r,i,[void 0,void 0,s.toUint8Array(n)],o)}static Map(e,t,r,i,n,o,l){return new a(e,t,r,i,[s.toInt32Array(o),void 0,s.toUint8Array(n)],l?[l]:[])}static Union(e,t,r,n,o,l,c,u){let d=[void 0,void 0,s.toUint8Array(o),s.toArrayBufferView(e.ArrayType,l)];return e.mode===i.UnionMode.Sparse?new a(e,t,r,n,d,c):(d[i.BufferType.OFFSET]=s.toInt32Array(c),new a(e,t,r,n,d,u))}};e.Data=a,a.prototype.childData=Object.freeze([])})),O=h((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.valueToString=void 0,e.valueToString=function(e){if(null===e)return"null";if(void 0===e)return"undefined";switch(typeof e){case"number":case"bigint":return`${e}`;case"string":return`"${e}"`}return"function"==typeof e[Symbol.toPrimitive]?e[Symbol.toPrimitive]("string"):ArrayBuffer.isView(e)?`[${e}]`:JSON.stringify(e)}})),F=h((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.createIsValidFunction=void 0;var t=O(),r=_();e.createIsValidFunction=function(e){if(!e||e.length<=0)return function(e){return!0};let i="",n=e.filter((e=>e==e));return n.length>0&&(i=`\n    switch (x) {${n.map((e=>`\n        case ${function(e){return"bigint"!=typeof e?t.valueToString(e):r.BigIntAvailable?`${t.valueToString(e)}n`:`"${t.valueToString(e)}"`}(e)}:`)).join("")}\n            return false;\n    }`),e.length!==n.length&&(i=`if (x !== x) return false;\n${i}`),new Function("x",`${i}\nreturn true;`)}})),D=h((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.WideBufferBuilder=e.OffsetsBufferBuilder=e.BitmapBufferBuilder=e.DataBufferBuilder=e.BufferBuilder=void 0;var t=g(),r=_(),i=(e,t)=>(e*t+63&-64||64)/t,n=class{constructor(e,t=1){this.buffer=e,this.stride=t,this.BYTES_PER_ELEMENT=e.BYTES_PER_ELEMENT,this.ArrayType=e.constructor,this._resize(this.length=e.length/t|0)}get byteLength(){return this.length*this.stride*this.BYTES_PER_ELEMENT|0}get reservedLength(){return this.buffer.length/this.stride}get reservedByteLength(){return this.buffer.byteLength}set(e,t){return this}append(e){return this.set(this.length,e)}reserve(e){if(e>0){this.length+=e;let t=this.stride,r=this.length*t,n=this.buffer.length;r>=n&&this._resize(i(0===n?1*r:2*r,this.BYTES_PER_ELEMENT))}return this}flush(e=this.length){e=i(e*this.stride,this.BYTES_PER_ELEMENT);let r=((e,r=0)=>e.length>=r?e.subarray(0,r):t.memcpy(new e.constructor(r),e,0))(this.buffer,e);return this.clear(),r}clear(){return this.length=0,this._resize(0),this}_resize(e){return this.buffer=t.memcpy(new this.ArrayType(e),this.buffer)}};e.BufferBuilder=n,n.prototype.offset=0;var s=class extends n{last(){return this.get(this.length-1)}get(e){return this.buffer[e]}set(e,t){return this.reserve(e-this.length+1),this.buffer[e*this.stride]=t,this}};e.DataBufferBuilder=s,e.BitmapBufferBuilder=class extends s{constructor(e=new Uint8Array(0)){super(e,1/8),this.numValid=0}get numInvalid(){return this.length-this.numValid}get(e){return this.buffer[e>>3]>>e%8&1}set(e,t){let{buffer:r}=this.reserve(e-this.length+1),i=e>>3,n=e%8,s=r[i]>>n&1;return t?0===s&&(r[i]|=1<<n,++this.numValid):1===s&&(r[i]&=~(1<<n),--this.numValid),this}clear(){return this.numValid=0,super.clear()}},e.OffsetsBufferBuilder=class extends s{constructor(e=new Int32Array(1)){super(e,1)}append(e){return this.set(this.length-1,e)}set(e,t){let r=this.length-1,i=this.reserve(e-r+1).buffer;return r<e++&&i.fill(i[r],r,e),i[e]=i[e-1]+t,this}flush(e=this.length-1){return e>this.length&&this.set(e-1,0),super.flush(e+1)}},e.WideBufferBuilder=class extends n{get ArrayType64(){return this._ArrayType64||(this._ArrayType64=this.buffer instanceof Int32Array?r.BigInt64Array:r.BigUint64Array)}set(e,t){switch(this.reserve(e-this.length+1),typeof t){case"bigint":this.buffer64[e]=t;break;case"number":this.buffer[e*this.stride]=t;break;default:this.buffer.set(t,e*this.stride)}return this}_resize(e){let t=super._resize(e),i=t.byteLength/(this.BYTES_PER_ELEMENT*this.stride);return r.BigIntAvailable&&(this.buffer64=new this.ArrayType64(t.buffer,t.byteOffset,i)),t}}})),M=h((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.VariableWidthBuilder=e.FixedWidthBuilder=e.Builder=void 0;var t=p(),r=w(),i=B(),n=A(),s=F(),a=D(),o=E(),l=class{constructor({type:e,nullValues:t}){this.length=0,this.finished=!1,this.type=e,this.children=[],this.nullValues=t,this.stride=o.strideForType(e),this._nulls=new a.BitmapBufferBuilder,t&&t.length>0&&(this._isValid=s.createIsValidFunction(t))}static new(e){}static throughNode(e){throw new Error('"throughNode" not available in this environment')}static throughDOM(e){throw new Error('"throughDOM" not available in this environment')}static throughIterable(e){return function(e){let{queueingStrategy:t="count"}=e,{highWaterMark:r=("bytes"!==t?1e3:Math.pow(2,14))}=e,i="bytes"!==t?"length":"byteLength";return function*(t){let n=0,s=l.new(e);for(let e of t)s.append(e)[i]>=r&&++n&&(yield s.toVector());(s.finish().length>0||0===n)&&(yield s.toVector())}}(e)}static throughAsyncIterable(e){return function(e){let{queueingStrategy:r="count"}=e,{highWaterMark:i=("bytes"!==r?1e3:Math.pow(2,14))}=e,n="bytes"!==r?"length":"byteLength";return function(r){return t.__asyncGenerator(this,arguments,(function*(){var s,a;let o=0,c=l.new(e);try{for(var u,d=t.__asyncValues(r);!(u=yield t.__await(d.next())).done;){let e=u.value;c.append(e)[n]>=i&&++o&&(yield yield t.__await(c.toVector()))}}catch(e){s={error:e}}finally{try{u&&!u.done&&(a=d.return)&&(yield t.__await(a.call(d)))}finally{if(s)throw s.error}}(c.finish().length>0||0===o)&&(yield yield t.__await(c.toVector()))}))}}(e)}toVector(){return r.Vector.new(this.flush())}get ArrayType(){return this.type.ArrayType}get nullCount(){return this._nulls.numInvalid}get numChildren(){return this.children.length}get byteLength(){let e=0;return this._offsets&&(e+=this._offsets.byteLength),this._values&&(e+=this._values.byteLength),this._nulls&&(e+=this._nulls.byteLength),this._typeIds&&(e+=this._typeIds.byteLength),this.children.reduce(((e,t)=>e+t.byteLength),e)}get reservedLength(){return this._nulls.reservedLength}get reservedByteLength(){let e=0;return this._offsets&&(e+=this._offsets.reservedByteLength),this._values&&(e+=this._values.reservedByteLength),this._nulls&&(e+=this._nulls.reservedByteLength),this._typeIds&&(e+=this._typeIds.reservedByteLength),this.children.reduce(((e,t)=>e+t.reservedByteLength),e)}get valueOffsets(){return this._offsets?this._offsets.buffer:null}get values(){return this._values?this._values.buffer:null}get nullBitmap(){return this._nulls?this._nulls.buffer:null}get typeIds(){return this._typeIds?this._typeIds.buffer:null}append(e){return this.set(this.length,e)}isValid(e){return this._isValid(e)}set(e,t){return this.setValid(e,this.isValid(t))&&this.setValue(e,t),this}setValue(e,t){this._setValue(this,e,t)}setValid(e,t){return this.length=this._nulls.set(e,+t).length,t}addChild(e,t=`${this.numChildren}`){throw new Error(`Cannot append children to non-nested type "${this.type}"`)}getChildAt(e){return this.children[e]||null}flush(){let e=[],t=this._values,r=this._offsets,s=this._typeIds,{length:a,nullCount:o}=this;s?(e[i.BufferType.TYPE]=s.flush(a),r&&(e[i.BufferType.OFFSET]=r.flush(a))):r?(t&&(e[i.BufferType.DATA]=t.flush(r.last())),e[i.BufferType.OFFSET]=r.flush(a)):t&&(e[i.BufferType.DATA]=t.flush(a)),o>0&&(e[i.BufferType.VALIDITY]=this._nulls.flush(a));let l=n.Data.new(this.type,0,a,o,e,this.children.map((e=>e.flush())));return this.clear(),l}finish(){return this.finished=!0,this.children.forEach((e=>e.finish())),this}clear(){return this.length=0,this._offsets&&this._offsets.clear(),this._values&&this._values.clear(),this._nulls&&this._nulls.clear(),this._typeIds&&this._typeIds.clear(),this.children.forEach((e=>e.clear())),this}};e.Builder=l,l.prototype.length=1,l.prototype.stride=1,l.prototype.children=null,l.prototype.finished=!1,l.prototype.nullValues=null,l.prototype._isValid=()=>!0,e.FixedWidthBuilder=class extends l{constructor(e){super(e),this._values=new a.DataBufferBuilder(new this.ArrayType(0),this.stride)}setValue(e,t){let r=this._values;return r.reserve(e-r.length+1),super.setValue(e,t)}},e.VariableWidthBuilder=class extends l{constructor(e){super(e),this._pendingLength=0,this._offsets=new a.OffsetsBufferBuilder}setValue(e,t){let r=this._pending||(this._pending=new Map),i=r.get(e);i&&(this._pendingLength-=i.length),this._pendingLength+=t.length,r.set(e,t)}setValid(e,t){return!!super.setValid(e,t)||((this._pending||(this._pending=new Map)).set(e,void 0),!1)}clear(){return this._pendingLength=0,this._pending=void 0,super.clear()}flush(){return this._flush(),super.flush()}finish(){return this._flush(),super.finish()}_flush(){let e=this._pending,t=this._pendingLength;return this._pendingLength=0,this._pending=void 0,e&&e.size>0&&this._flushPending(e,t),this}}})),R=h((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.BoolBuilder=void 0;var t=D(),r=M(),i=class extends r.Builder{constructor(e){super(e),this._values=new t.BitmapBufferBuilder}setValue(e,t){this._values.set(e,+t)}};e.BoolBuilder=i})),U=h((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.NullBuilder=void 0;var t=M(),r=class extends t.Builder{setValue(e,t){}setValid(e,t){return this.length=Math.max(e+1,this.length),t}};e.NullBuilder=r})),N=h((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.DateMillisecondBuilder=e.DateDayBuilder=e.DateBuilder=void 0;var t=M(),r=class extends t.FixedWidthBuilder{};e.DateBuilder=r,e.DateDayBuilder=class extends r{},e.DateMillisecondBuilder=class extends r{}})),V=h((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.DecimalBuilder=void 0;var t=M(),r=class extends t.FixedWidthBuilder{};e.DecimalBuilder=r})),P=h((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.DictionaryBuilder=void 0;var t=E(),r=M(),i=class extends r.Builder{constructor({type:e,nullValues:i,dictionaryHashFunction:n}){super({type:new t.Dictionary(e.dictionary,e.indices,e.id,e.isOrdered)}),this._nulls=null,this._dictionaryOffset=0,this._keysToIndices=Object.create(null),this.indices=r.Builder.new({type:this.type.indices,nullValues:i}),this.dictionary=r.Builder.new({type:this.type.dictionary,nullValues:null}),"function"==typeof n&&(this.valueToKey=n)}get values(){return this.indices.values}get nullCount(){return this.indices.nullCount}get nullBitmap(){return this.indices.nullBitmap}get byteLength(){return this.indices.byteLength+this.dictionary.byteLength}get reservedLength(){return this.indices.reservedLength+this.dictionary.reservedLength}get reservedByteLength(){return this.indices.reservedByteLength+this.dictionary.reservedByteLength}isValid(e){return this.indices.isValid(e)}setValid(e,t){let r=this.indices;return t=r.setValid(e,t),this.length=r.length,t}setValue(e,t){let r=this._keysToIndices,i=this.valueToKey(t),n=r[i];return void 0===n&&(r[i]=n=this._dictionaryOffset+this.dictionary.append(t).length-1),this.indices.setValue(e,n)}flush(){let e=this.type,t=this._dictionary,r=this.dictionary.toVector(),i=this.indices.flush().clone(e);return i.dictionary=t?t.concat(r):r,this.finished||(this._dictionaryOffset+=r.length),this._dictionary=i.dictionary,this.clear(),i}finish(){return this.indices.finish(),this.dictionary.finish(),this._dictionaryOffset=0,this._keysToIndices=Object.create(null),super.finish()}clear(){return this.indices.clear(),this.dictionary.clear(),super.clear()}valueToKey(e){return"string"==typeof e?e:`${e}`}};e.DictionaryBuilder=i})),L=h((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.FixedSizeBinaryBuilder=void 0;var t=M(),r=class extends t.FixedWidthBuilder{};e.FixedSizeBinaryBuilder=r})),x=h((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.float64ToUint16=e.uint16ToFloat64=void 0;var t=new Float64Array(1),r=new Uint32Array(t.buffer);e.uint16ToFloat64=function(e){let t=(31744&e)>>10,r=(1023&e)/1024,i=Math.pow(-1,(32768&e)>>15);switch(t){case 31:return i*(r?NaN:1/0);case 0:return i*(r?6103515625e-14*r:0)}return i*Math.pow(2,t-15)*(1+r)},e.float64ToUint16=function(e){if(e!=e)return 32256;t[0]=e;let i=(2147483648&r[1])>>16&65535,n=2146435072&r[1],s=0;return n>=1089470464?r[0]>0?n=31744:(n=(2080374784&n)>>16,s=(1048575&r[1])>>10):n<=1056964608?(s=1048576+(1048575&r[1]),s=1048576+(s<<(n>>20)-998)>>21,n=0):(n=n-1056964608>>10,s=512+(1048575&r[1])>>10),i|n|65535&s}})),k=h((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Float64Builder=e.Float32Builder=e.Float16Builder=e.FloatBuilder=void 0;var t=x(),r=M(),i=class extends r.FixedWidthBuilder{};e.FloatBuilder=i,e.Float16Builder=class extends i{setValue(e,r){this._values.set(e,t.float64ToUint16(r))}},e.Float32Builder=class extends i{setValue(e,t){this._values.set(e,t)}},e.Float64Builder=class extends i{setValue(e,t){this._values.set(e,t)}}})),j=h((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.BN=e.bignumToBigInt=e.bignumToString=e.isArrowBigNumSymbol=void 0;var t=g(),r=_();function i(e,...r){return 0===r.length?Object.setPrototypeOf(t.toArrayBufferView(this.TypedArray,e),this.constructor.prototype):Object.setPrototypeOf(new this.TypedArray(e,...r),this.constructor.prototype)}function n(...e){return i.apply(this,e)}function s(...e){return i.apply(this,e)}function a(...e){return i.apply(this,e)}function o(e){let t,r,{buffer:i,byteOffset:n,length:s,signed:a}=e,o=new Int32Array(i,n,s),l=0,c=0,u=o.length;for(;c<u;)r=o[c++],t=o[c++],a||(t>>>=0),l+=(r>>>0)+t*Math.pow(c,32);return l}function l(e){let t="",r=new Uint32Array(2),i=new Uint16Array(e.buffer,e.byteOffset,e.byteLength/2),n=new Uint32Array((i=new Uint16Array(i).reverse()).buffer),s=-1,a=i.length-1;do{for(r[0]=i[s=0];s<a;)i[s++]=r[1]=r[0]/10,r[0]=(r[0]-10*r[1]<<16)+i[s];i[s]=r[1]=r[0]/10,r[0]=r[0]-10*r[1],t=`${r[0]}${t}`}while(n[0]||n[1]||n[2]||n[3]);return t||"0"}e.isArrowBigNumSymbol=Symbol.for("isArrowBigNum"),i.prototype[e.isArrowBigNumSymbol]=!0,i.prototype.toJSON=function(){return`"${e.bignumToString(this)}"`},i.prototype.valueOf=function(){return o(this)},i.prototype.toString=function(){return e.bignumToString(this)},i.prototype[Symbol.toPrimitive]=function(t="default"){switch(t){case"number":return o(this);case"string":return e.bignumToString(this);case"default":return e.bignumToBigInt(this)}return e.bignumToString(this)},Object.setPrototypeOf(n.prototype,Object.create(Int32Array.prototype)),Object.setPrototypeOf(s.prototype,Object.create(Uint32Array.prototype)),Object.setPrototypeOf(a.prototype,Object.create(Uint32Array.prototype)),Object.assign(n.prototype,i.prototype,{constructor:n,signed:!0,TypedArray:Int32Array,BigIntArray:r.BigInt64Array}),Object.assign(s.prototype,i.prototype,{constructor:s,signed:!1,TypedArray:Uint32Array,BigIntArray:r.BigUint64Array}),Object.assign(a.prototype,i.prototype,{constructor:a,signed:!0,TypedArray:Uint32Array,BigIntArray:r.BigUint64Array}),r.BigIntAvailable?(e.bignumToBigInt=e=>8===e.byteLength?new e.BigIntArray(e.buffer,e.byteOffset,1)[0]:l(e),e.bignumToString=e=>8===e.byteLength?`${new e.BigIntArray(e.buffer,e.byteOffset,1)[0]}`:l(e)):(e.bignumToString=l,e.bignumToBigInt=e.bignumToString);var c=class{static new(e,t){switch(t){case!0:return new n(e);case!1:return new s(e)}switch(e.constructor){case Int8Array:case Int16Array:case Int32Array:case r.BigInt64Array:return new n(e)}return 16===e.byteLength?new a(e):new s(e)}static signed(e){return new n(e)}static unsigned(e){return new s(e)}static decimal(e){return new a(e)}constructor(e,t){return c.new(e,t)}};e.BN=c})),C=h((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Uint64Builder=e.Uint32Builder=e.Uint16Builder=e.Uint8Builder=e.Int64Builder=e.Int32Builder=e.Int16Builder=e.Int8Builder=e.IntBuilder=void 0;var t=j(),r=D(),i=_(),n=M(),s=class extends n.FixedWidthBuilder{setValue(e,t){this._values.set(e,t)}};e.IntBuilder=s,e.Int8Builder=class extends s{},e.Int16Builder=class extends s{},e.Int32Builder=class extends s{},e.Int64Builder=class extends s{constructor(e){e.nullValues&&(e.nullValues=e.nullValues.map(o)),super(e),this._values=new r.WideBufferBuilder(new Int32Array(0),2)}get values64(){return this._values.buffer64}isValid(e){return super.isValid(o(e))}},e.Uint8Builder=class extends s{},e.Uint16Builder=class extends s{},e.Uint32Builder=class extends s{},e.Uint64Builder=class extends s{constructor(e){e.nullValues&&(e.nullValues=e.nullValues.map(o)),super(e),this._values=new r.WideBufferBuilder(new Uint32Array(0),2)}get values64(){return this._values.buffer64}isValid(e){return super.isValid(o(e))}};var a,o=(a={BigIntArray:i.BigInt64Array},e=>(ArrayBuffer.isView(e)&&(a.buffer=e.buffer,a.byteOffset=e.byteOffset,a.byteLength=e.byteLength,e=t.bignumToBigInt(a),a.buffer=null),e))})),z=h((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TimeNanosecondBuilder=e.TimeMicrosecondBuilder=e.TimeMillisecondBuilder=e.TimeSecondBuilder=e.TimeBuilder=void 0;var t=M(),r=class extends t.FixedWidthBuilder{};e.TimeBuilder=r,e.TimeSecondBuilder=class extends r{},e.TimeMillisecondBuilder=class extends r{},e.TimeMicrosecondBuilder=class extends r{},e.TimeNanosecondBuilder=class extends r{}})),W=h((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TimestampNanosecondBuilder=e.TimestampMicrosecondBuilder=e.TimestampMillisecondBuilder=e.TimestampSecondBuilder=e.TimestampBuilder=void 0;var t=M(),r=class extends t.FixedWidthBuilder{};e.TimestampBuilder=r,e.TimestampSecondBuilder=class extends r{},e.TimestampMillisecondBuilder=class extends r{},e.TimestampMicrosecondBuilder=class extends r{},e.TimestampNanosecondBuilder=class extends r{}})),Y=h((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.IntervalYearMonthBuilder=e.IntervalDayTimeBuilder=e.IntervalBuilder=void 0;var t=M(),r=class extends t.FixedWidthBuilder{};e.IntervalBuilder=r,e.IntervalDayTimeBuilder=class extends r{},e.IntervalYearMonthBuilder=class extends r{}})),G=h((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.BinaryBuilder=void 0;var t=g(),r=D(),i=M(),n=class extends i.VariableWidthBuilder{constructor(e){super(e),this._values=new r.BufferBuilder(new Uint8Array(0))}get byteLength(){let e=this._pendingLength+4*this.length;return this._offsets&&(e+=this._offsets.byteLength),this._values&&(e+=this._values.byteLength),this._nulls&&(e+=this._nulls.byteLength),e}setValue(e,r){return super.setValue(e,t.toUint8Array(r))}_flushPending(e,t){let r,i=this._offsets,n=this._values.reserve(t).buffer,s=0,a=0,o=0;for([s,r]of e)void 0===r?i.set(s,0):(a=r.length,n.set(r,o),i.set(s,a),o+=a)}};e.BinaryBuilder=n})),H=h((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Utf8Builder=void 0;var t=b(),r=G(),i=D(),n=M(),s=class extends n.VariableWidthBuilder{constructor(e){super(e),this._values=new i.BufferBuilder(new Uint8Array(0))}get byteLength(){let e=this._pendingLength+4*this.length;return this._offsets&&(e+=this._offsets.byteLength),this._values&&(e+=this._values.byteLength),this._nulls&&(e+=this._nulls.byteLength),e}setValue(e,r){return super.setValue(e,t.encodeUtf8(r))}_flushPending(e,t){}};e.Utf8Builder=s,s.prototype._flushPending=r.BinaryBuilder.prototype._flushPending})),K=h((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Run=void 0;var t=w();e.Run=class{get length(){return this._values.length}get(e){return this._values[e]}clear(){return this._values=null,this}bind(e){return e instanceof t.Vector?e:(this._values=e,this)}}})),Q=h((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Field=e.Schema=void 0;var t=E(),r=class{constructor(e=[],t,r){this.fields=e||[],this.metadata=t||new Map,r||(r=s(e)),this.dictionaries=r}get[Symbol.toStringTag](){return"Schema"}toString(){return`Schema<{ ${this.fields.map(((e,t)=>`${t}: ${e}`)).join(", ")} }>`}select(...e){let t=e.reduce(((e,t)=>(e[t]=!0)&&e),Object.create(null));return new r(this.fields.filter((e=>t[e.name])),this.metadata)}selectAt(...e){return new r(e.map((e=>this.fields[e])).filter(Boolean),this.metadata)}assign(...e){let t=e[0]instanceof r?e[0]:Array.isArray(e[0])?new r(e[0]):new r(e),i=[...this.fields],a=n(n(new Map,this.metadata),t.metadata),o=t.fields.filter((e=>{let t=i.findIndex((t=>t.name===e.name));return!~t||(i[t]=e.clone({metadata:n(n(new Map,i[t].metadata),e.metadata)}))&&!1})),l=s(o,new Map);return new r([...i,...o],a,new Map([...this.dictionaries,...l]))}};e.Schema=r;var i=class{constructor(e,t,r=!1,i){this.name=e,this.type=t,this.nullable=r,this.metadata=i||new Map}static new(...e){let[t,r,n,s]=e;return e[0]&&"object"==typeof e[0]&&(({name:t}=e[0]),void 0===r&&(r=e[0].type),void 0===n&&(n=e[0].nullable),void 0===s&&(s=e[0].metadata)),new i(`${t}`,r,n,s)}get typeId(){return this.type.typeId}get[Symbol.toStringTag](){return"Field"}toString(){return`${this.name}: ${this.type}`}clone(...e){let[t,r,n,s]=e;return e[0]&&"object"==typeof e[0]?({name:t=this.name,type:r=this.type,nullable:n=this.nullable,metadata:s=this.metadata}=e[0]):[t=this.name,r=this.type,n=this.nullable,s=this.metadata]=e,i.new(t,r,n,s)}};function n(e,t){return new Map([...e||new Map,...t||new Map])}function s(e,r=new Map){for(let i=-1,n=e.length;++i<n;){let n=e[i].type;if(t.DataType.isDictionary(n))if(r.has(n.id)){if(r.get(n.id)!==n.dictionary)throw new Error("Cannot create Schema containing two different dictionaries with the same Id")}else r.set(n.id,n.dictionary);n.children&&n.children.length>0&&s(n.children,r)}return r}e.Field=i,r.prototype.fields=null,r.prototype.metadata=null,r.prototype.dictionaries=null,i.prototype.type=null,i.prototype.name=null,i.prototype.nullable=null,i.prototype.metadata=null})),q=h((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ListBuilder=void 0;var t=K(),r=Q(),i=E(),n=D(),s=M(),a=class extends s.VariableWidthBuilder{constructor(e){super(e),this._run=new t.Run,this._offsets=new n.OffsetsBufferBuilder}addChild(e,t="0"){if(this.numChildren>0)throw new Error("ListBuilder can only have one child.");return this.children[this.numChildren]=e,this.type=new i.List(new r.Field(t,e.type,!0)),this.numChildren-1}clear(){return this._run.clear(),super.clear()}_flushPending(e){let t,r=this._run,i=this._offsets,n=this._setValue,s=0;for([s,t]of e)void 0===t?i.set(s,0):(i.set(s,t.length),n(this,s,r.bind(t)))}};e.ListBuilder=a})),$=h((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.FixedSizeListBuilder=void 0;var t=K(),r=Q(),i=M(),n=E(),s=class extends i.Builder{constructor(){super(...arguments),this._run=new t.Run}setValue(e,t){super.setValue(e,this._run.bind(t))}addChild(e,t="0"){if(this.numChildren>0)throw new Error("FixedSizeListBuilder can only have one child.");let i=this.children.push(e);return this.type=new n.FixedSizeList(this.type.listSize,new r.Field(t,e.type,!0)),i}clear(){return this._run.clear(),super.clear()}};e.FixedSizeListBuilder=s})),J=h((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.MapBuilder=void 0;var t=Q(),r=E(),i=M(),n=class extends i.VariableWidthBuilder{set(e,t){return super.set(e,t)}setValue(e,t){t=t instanceof Map?t:new Map(Object.entries(t));let r=this._pending||(this._pending=new Map),i=r.get(e);i&&(this._pendingLength-=i.size),this._pendingLength+=t.size,r.set(e,t)}addChild(e,i=`${this.numChildren}`){if(this.numChildren>0)throw new Error("ListBuilder can only have one child.");return this.children[this.numChildren]=e,this.type=new r.Map_(new t.Field(i,e.type,!0),this.type.keysSorted),this.numChildren-1}_flushPending(e){let t=this._offsets,r=this._setValue;e.forEach(((e,i)=>{void 0===e?t.set(i,0):(t.set(i,e.size),r(this,i,e))}))}};e.MapBuilder=n})),Z=h((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.StructBuilder=void 0;var t=Q(),r=M(),i=E(),n=class extends r.Builder{addChild(e,r=`${this.numChildren}`){let n=this.children.push(e);return this.type=new i.Struct([...this.type.children,new t.Field(r,e.type,!0)]),n}};e.StructBuilder=n})),X=h((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.DenseUnionBuilder=e.SparseUnionBuilder=e.UnionBuilder=void 0;var t=Q(),r=D(),i=M(),n=E(),s=class extends i.Builder{constructor(e){super(e),this._typeIds=new r.DataBufferBuilder(new Int8Array(0),1),"function"==typeof e.valueToChildTypeId&&(this._valueToChildTypeId=e.valueToChildTypeId)}get typeIdToChildIndex(){return this.type.typeIdToChildIndex}append(e,t){return this.set(this.length,e,t)}set(e,t,r){return void 0===r&&(r=this._valueToChildTypeId(this,t,e)),this.setValid(e,this.isValid(t))&&this.setValue(e,t,r),this}setValue(e,t,r){this._typeIds.set(e,r),super.setValue(e,t)}addChild(e,r=`${this.children.length}`){let i=this.children.push(e),{type:{children:s,mode:a,typeIds:o}}=this,l=[...s,new t.Field(r,e.type)];return this.type=new n.Union(a,[...o,i],l),i}_valueToChildTypeId(e,t,r){throw new Error("Cannot map UnionBuilder value to child typeId. Pass the `childTypeId` as the second argument to unionBuilder.append(), or supply a `valueToChildTypeId` function as part of the UnionBuilder constructor options.")}};e.UnionBuilder=s,e.SparseUnionBuilder=class extends s{},e.DenseUnionBuilder=class extends s{constructor(e){super(e),this._offsets=new r.DataBufferBuilder(new Int32Array(0))}setValue(e,t,r){let i=this.type.typeIdToChildIndex[r];return this._offsets.set(e,this.getChildAt(i).length),super.setValue(e,t,r)}}})),ee=h((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Visitor=void 0;var t=A(),r=w(),i=B(),n=E(),s=class{visitMany(e,...t){return e.map(((e,r)=>this.visit(e,...t.map((e=>e[r])))))}visit(...e){return this.getVisitFn(e[0],!1).apply(this,e)}getVisitFn(e,s=!0){return function(e,s,o=!0){let l=null,c=i.Type.NONE;switch(s instanceof t.Data||s instanceof r.Vector?c=a(s.type):s instanceof n.DataType?c=a(s):"number"!=typeof(c=s)&&(c=i.Type[s]),c){case i.Type.Null:l=e.visitNull;break;case i.Type.Bool:l=e.visitBool;break;case i.Type.Int:l=e.visitInt;break;case i.Type.Int8:l=e.visitInt8||e.visitInt;break;case i.Type.Int16:l=e.visitInt16||e.visitInt;break;case i.Type.Int32:l=e.visitInt32||e.visitInt;break;case i.Type.Int64:l=e.visitInt64||e.visitInt;break;case i.Type.Uint8:l=e.visitUint8||e.visitInt;break;case i.Type.Uint16:l=e.visitUint16||e.visitInt;break;case i.Type.Uint32:l=e.visitUint32||e.visitInt;break;case i.Type.Uint64:l=e.visitUint64||e.visitInt;break;case i.Type.Float:l=e.visitFloat;break;case i.Type.Float16:l=e.visitFloat16||e.visitFloat;break;case i.Type.Float32:l=e.visitFloat32||e.visitFloat;break;case i.Type.Float64:l=e.visitFloat64||e.visitFloat;break;case i.Type.Utf8:l=e.visitUtf8;break;case i.Type.Binary:l=e.visitBinary;break;case i.Type.FixedSizeBinary:l=e.visitFixedSizeBinary;break;case i.Type.Date:l=e.visitDate;break;case i.Type.DateDay:l=e.visitDateDay||e.visitDate;break;case i.Type.DateMillisecond:l=e.visitDateMillisecond||e.visitDate;break;case i.Type.Timestamp:l=e.visitTimestamp;break;case i.Type.TimestampSecond:l=e.visitTimestampSecond||e.visitTimestamp;break;case i.Type.TimestampMillisecond:l=e.visitTimestampMillisecond||e.visitTimestamp;break;case i.Type.TimestampMicrosecond:l=e.visitTimestampMicrosecond||e.visitTimestamp;break;case i.Type.TimestampNanosecond:l=e.visitTimestampNanosecond||e.visitTimestamp;break;case i.Type.Time:l=e.visitTime;break;case i.Type.TimeSecond:l=e.visitTimeSecond||e.visitTime;break;case i.Type.TimeMillisecond:l=e.visitTimeMillisecond||e.visitTime;break;case i.Type.TimeMicrosecond:l=e.visitTimeMicrosecond||e.visitTime;break;case i.Type.TimeNanosecond:l=e.visitTimeNanosecond||e.visitTime;break;case i.Type.Decimal:l=e.visitDecimal;break;case i.Type.List:l=e.visitList;break;case i.Type.Struct:l=e.visitStruct;break;case i.Type.Union:l=e.visitUnion;break;case i.Type.DenseUnion:l=e.visitDenseUnion||e.visitUnion;break;case i.Type.SparseUnion:l=e.visitSparseUnion||e.visitUnion;break;case i.Type.Dictionary:l=e.visitDictionary;break;case i.Type.Interval:l=e.visitInterval;break;case i.Type.IntervalDayTime:l=e.visitIntervalDayTime||e.visitInterval;break;case i.Type.IntervalYearMonth:l=e.visitIntervalYearMonth||e.visitInterval;break;case i.Type.FixedSizeList:l=e.visitFixedSizeList;break;case i.Type.Map:l=e.visitMap}if("function"==typeof l)return l;if(!o)return()=>null;throw new Error(`Unrecognized type '${i.Type[c]}'`)}(this,e,s)}visitNull(e,...t){return null}visitBool(e,...t){return null}visitInt(e,...t){return null}visitFloat(e,...t){return null}visitUtf8(e,...t){return null}visitBinary(e,...t){return null}visitFixedSizeBinary(e,...t){return null}visitDate(e,...t){return null}visitTimestamp(e,...t){return null}visitTime(e,...t){return null}visitDecimal(e,...t){return null}visitList(e,...t){return null}visitStruct(e,...t){return null}visitUnion(e,...t){return null}visitDictionary(e,...t){return null}visitInterval(e,...t){return null}visitFixedSizeList(e,...t){return null}visitMap(e,...t){return null}};function a(e){switch(e.typeId){case i.Type.Null:return i.Type.Null;case i.Type.Int:{let{bitWidth:t,isSigned:r}=e;switch(t){case 8:return r?i.Type.Int8:i.Type.Uint8;case 16:return r?i.Type.Int16:i.Type.Uint16;case 32:return r?i.Type.Int32:i.Type.Uint32;case 64:return r?i.Type.Int64:i.Type.Uint64}return i.Type.Int}case i.Type.Float:switch(e.precision){case i.Precision.HALF:return i.Type.Float16;case i.Precision.SINGLE:return i.Type.Float32;case i.Precision.DOUBLE:return i.Type.Float64}return i.Type.Float;case i.Type.Binary:return i.Type.Binary;case i.Type.Utf8:return i.Type.Utf8;case i.Type.Bool:return i.Type.Bool;case i.Type.Decimal:return i.Type.Decimal;case i.Type.Time:switch(e.unit){case i.TimeUnit.SECOND:return i.Type.TimeSecond;case i.TimeUnit.MILLISECOND:return i.Type.TimeMillisecond;case i.TimeUnit.MICROSECOND:return i.Type.TimeMicrosecond;case i.TimeUnit.NANOSECOND:return i.Type.TimeNanosecond}return i.Type.Time;case i.Type.Timestamp:switch(e.unit){case i.TimeUnit.SECOND:return i.Type.TimestampSecond;case i.TimeUnit.MILLISECOND:return i.Type.TimestampMillisecond;case i.TimeUnit.MICROSECOND:return i.Type.TimestampMicrosecond;case i.TimeUnit.NANOSECOND:return i.Type.TimestampNanosecond}return i.Type.Timestamp;case i.Type.Date:switch(e.unit){case i.DateUnit.DAY:return i.Type.DateDay;case i.DateUnit.MILLISECOND:return i.Type.DateMillisecond}return i.Type.Date;case i.Type.Interval:switch(e.unit){case i.IntervalUnit.DAY_TIME:return i.Type.IntervalDayTime;case i.IntervalUnit.YEAR_MONTH:return i.Type.IntervalYearMonth}return i.Type.Interval;case i.Type.Map:return i.Type.Map;case i.Type.List:return i.Type.List;case i.Type.Struct:return i.Type.Struct;case i.Type.Union:switch(e.mode){case i.UnionMode.Dense:return i.Type.DenseUnion;case i.UnionMode.Sparse:return i.Type.SparseUnion}return i.Type.Union;case i.Type.FixedSizeBinary:return i.Type.FixedSizeBinary;case i.Type.FixedSizeList:return i.Type.FixedSizeList;case i.Type.Dictionary:return i.Type.Dictionary}throw new Error(`Unrecognized type '${i.Type[e.typeId]}'`)}e.Visitor=s,s.prototype.visitInt8=null,s.prototype.visitInt16=null,s.prototype.visitInt32=null,s.prototype.visitInt64=null,s.prototype.visitUint8=null,s.prototype.visitUint16=null,s.prototype.visitUint32=null,s.prototype.visitUint64=null,s.prototype.visitFloat16=null,s.prototype.visitFloat32=null,s.prototype.visitFloat64=null,s.prototype.visitDateDay=null,s.prototype.visitDateMillisecond=null,s.prototype.visitTimestampSecond=null,s.prototype.visitTimestampMillisecond=null,s.prototype.visitTimestampMicrosecond=null,s.prototype.visitTimestampNanosecond=null,s.prototype.visitTimeSecond=null,s.prototype.visitTimeMillisecond=null,s.prototype.visitTimeMicrosecond=null,s.prototype.visitTimeNanosecond=null,s.prototype.visitDenseUnion=null,s.prototype.visitSparseUnion=null,s.prototype.visitIntervalDayTime=null,s.prototype.visitIntervalYearMonth=null})),te=h((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.instance=e.SetVisitor=void 0;var t=w(),r=ee(),i=b(),n=x(),s=g(),a=B(),o=class extends r.Visitor{};e.SetVisitor=o;var l=(e,t,r)=>{e[t]=r%4294967296|0,e[t+1]=r/4294967296|0},c=(e,t,r,i)=>{let{[r]:n,[r+1]:s}=t;null!=n&&null!=s&&e.set(i.subarray(0,s-n),n)},u=({values:e},t,r)=>{((e,t,r)=>{e[t]=r/864e5|0})(e,t,r.valueOf())},d=({values:e},t,r)=>{l(e,2*t,r.valueOf())},h=({stride:e,values:t},r,i)=>{t[e*r]=i},f=({stride:e,values:t},r,i)=>{t[e*r]=n.float64ToUint16(i)},p=(e,t,r)=>{switch(typeof r){case"bigint":e.values64[t]=r;break;case"number":e.values[t*e.stride]=r;break;default:{let i=r,{stride:n,ArrayType:a}=e,o=s.toArrayBufferView(a,i);e.values.set(o.subarray(0,n),n*t)}}},y=({values:e},t,r)=>l(e,2*t,r/1e3),m=({values:e},t,r)=>l(e,2*t,r),_=({values:e},t,r)=>((e,t,r)=>{e[t]=1e3*r%4294967296|0,e[t+1]=1e3*r/4294967296|0})(e,2*t,r),v=({values:e},t,r)=>((e,t,r)=>{e[t]=1e6*r%4294967296|0,e[t+1]=1e6*r/4294967296|0})(e,2*t,r),T=({values:e,stride:t},r,i)=>{e[t*r]=i},I=({values:e,stride:t},r,i)=>{e[t*r]=i},S=({values:e},t,r)=>{e.set(r.subarray(0,2),2*t)},E=({values:e},t,r)=>{e.set(r.subarray(0,2),2*t)},A=(e,t,r)=>{let i=e.typeIdToChildIndex[e.typeIds[t]],n=e.getChildAt(i);n&&n.set(e.valueOffsets[t],r)},O=(e,t,r)=>{let i=e.typeIdToChildIndex[e.typeIds[t]],n=e.getChildAt(i);n&&n.set(t,r)},F=({values:e},t,r)=>{e.set(r.subarray(0,2),2*t)},D=({values:e},t,r)=>{e[t]=12*r[0]+r[1]%12};o.prototype.visitBool=({offset:e,values:t},r,i)=>{let n=e+r;i?t[n>>3]|=1<<n%8:t[n>>3]&=~(1<<n%8)},o.prototype.visitInt=(e,t,r)=>{e.type.bitWidth<64?h(e,t,r):p(e,t,r)},o.prototype.visitInt8=h,o.prototype.visitInt16=h,o.prototype.visitInt32=h,o.prototype.visitInt64=p,o.prototype.visitUint8=h,o.prototype.visitUint16=h,o.prototype.visitUint32=h,o.prototype.visitUint64=p,o.prototype.visitFloat=(e,t,r)=>{e.type.precision!==a.Precision.HALF?h(e,t,r):f(e,t,r)},o.prototype.visitFloat16=f,o.prototype.visitFloat32=h,o.prototype.visitFloat64=h,o.prototype.visitUtf8=({values:e,valueOffsets:t},r,n)=>{c(e,t,r,i.encodeUtf8(n))},o.prototype.visitBinary=({values:e,valueOffsets:t},r,i)=>c(e,t,r,i),o.prototype.visitFixedSizeBinary=({stride:e,values:t},r,i)=>{t.set(i.subarray(0,e),e*r)},o.prototype.visitDate=(e,t,r)=>{e.type.unit===a.DateUnit.DAY?u(e,t,r):d(e,t,r)},o.prototype.visitDateDay=u,o.prototype.visitDateMillisecond=d,o.prototype.visitTimestamp=(e,t,r)=>{switch(e.type.unit){case a.TimeUnit.SECOND:return y(e,t,r);case a.TimeUnit.MILLISECOND:return m(e,t,r);case a.TimeUnit.MICROSECOND:return _(e,t,r);case a.TimeUnit.NANOSECOND:return v(e,t,r)}},o.prototype.visitTimestampSecond=y,o.prototype.visitTimestampMillisecond=m,o.prototype.visitTimestampMicrosecond=_,o.prototype.visitTimestampNanosecond=v,o.prototype.visitTime=(e,t,r)=>{switch(e.type.unit){case a.TimeUnit.SECOND:return T(e,t,r);case a.TimeUnit.MILLISECOND:return I(e,t,r);case a.TimeUnit.MICROSECOND:return S(e,t,r);case a.TimeUnit.NANOSECOND:return E(e,t,r)}},o.prototype.visitTimeSecond=T,o.prototype.visitTimeMillisecond=I,o.prototype.visitTimeMicrosecond=S,o.prototype.visitTimeNanosecond=E,o.prototype.visitDecimal=({values:e},t,r)=>{e.set(r.subarray(0,4),4*t)},o.prototype.visitList=(e,t,r)=>{let i=e.getChildAt(0),n=e.valueOffsets;for(let e=-1,s=n[t],a=n[t+1];s<a;)i.set(s++,r.get(++e))},o.prototype.visitStruct=(e,r,i)=>{let n=i instanceof Map?((e,t)=>(r,i,n)=>null==r?void 0:r.set(e,t.get(i.name)))(r,i):i instanceof t.Vector?((e,t)=>(r,i,n)=>null==r?void 0:r.set(e,t.get(n)))(r,i):Array.isArray(i)?((e,t)=>(r,i,n)=>null==r?void 0:r.set(e,t[n]))(r,i):((e,t)=>(r,i,n)=>null==r?void 0:r.set(e,t[i.name]))(r,i);e.type.children.forEach(((t,r)=>n(e.getChildAt(r),t,r)))},o.prototype.visitUnion=(e,t,r)=>{e.type.mode===a.UnionMode.Dense?A(e,t,r):O(e,t,r)},o.prototype.visitDenseUnion=A,o.prototype.visitSparseUnion=O,o.prototype.visitDictionary=(e,t,r)=>{let i=e.getKey(t);null!==i&&e.setValue(i,r)},o.prototype.visitInterval=(e,t,r)=>{e.type.unit===a.IntervalUnit.DAY_TIME?F(e,t,r):D(e,t,r)},o.prototype.visitIntervalDayTime=F,o.prototype.visitIntervalYearMonth=D,o.prototype.visitFixedSizeList=(e,t,r)=>{let i=e.getChildAt(0),{stride:n}=e;for(let e=-1,s=t*n;++e<n;)i.set(s+e,r.get(e))},o.prototype.visitMap=(e,t,r)=>{let i=e.getChildAt(0),n=e.valueOffsets,s=r instanceof Map?[...r]:Object.entries(r);for(let e=-1,r=n[t],a=n[t+1];r<a;)i.set(r++,s[++e])},e.instance=new o})),re=h((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.instance=e.GetBuilderCtor=void 0;var t=ee(),r=G(),i=R(),n=N(),s=V(),a=P(),o=L(),l=$(),c=k(),u=Y(),d=C(),h=q(),f=J(),p=U(),y=Z(),b=W(),m=z(),_=X(),g=H(),v=class extends t.Visitor{visitNull(){return p.NullBuilder}visitBool(){return i.BoolBuilder}visitInt(){return d.IntBuilder}visitInt8(){return d.Int8Builder}visitInt16(){return d.Int16Builder}visitInt32(){return d.Int32Builder}visitInt64(){return d.Int64Builder}visitUint8(){return d.Uint8Builder}visitUint16(){return d.Uint16Builder}visitUint32(){return d.Uint32Builder}visitUint64(){return d.Uint64Builder}visitFloat(){return c.FloatBuilder}visitFloat16(){return c.Float16Builder}visitFloat32(){return c.Float32Builder}visitFloat64(){return c.Float64Builder}visitUtf8(){return g.Utf8Builder}visitBinary(){return r.BinaryBuilder}visitFixedSizeBinary(){return o.FixedSizeBinaryBuilder}visitDate(){return n.DateBuilder}visitDateDay(){return n.DateDayBuilder}visitDateMillisecond(){return n.DateMillisecondBuilder}visitTimestamp(){return b.TimestampBuilder}visitTimestampSecond(){return b.TimestampSecondBuilder}visitTimestampMillisecond(){return b.TimestampMillisecondBuilder}visitTimestampMicrosecond(){return b.TimestampMicrosecondBuilder}visitTimestampNanosecond(){return b.TimestampNanosecondBuilder}visitTime(){return m.TimeBuilder}visitTimeSecond(){return m.TimeSecondBuilder}visitTimeMillisecond(){return m.TimeMillisecondBuilder}visitTimeMicrosecond(){return m.TimeMicrosecondBuilder}visitTimeNanosecond(){return m.TimeNanosecondBuilder}visitDecimal(){return s.DecimalBuilder}visitList(){return h.ListBuilder}visitStruct(){return y.StructBuilder}visitUnion(){return _.UnionBuilder}visitDenseUnion(){return _.DenseUnionBuilder}visitSparseUnion(){return _.SparseUnionBuilder}visitDictionary(){return a.DictionaryBuilder}visitInterval(){return u.IntervalBuilder}visitIntervalDayTime(){return u.IntervalDayTimeBuilder}visitIntervalYearMonth(){return u.IntervalYearMonthBuilder}visitFixedSizeList(){return l.FixedSizeListBuilder}visitMap(){return f.MapBuilder}};e.GetBuilderCtor=v,e.instance=new v})),ie=h((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.DenseUnionBuilder=e.SparseUnionBuilder=e.UnionBuilder=e.StructBuilder=e.MapBuilder=e.FixedSizeListBuilder=e.ListBuilder=e.BinaryBuilder=e.Utf8Builder=e.IntervalYearMonthBuilder=e.IntervalDayTimeBuilder=e.IntervalBuilder=e.TimestampNanosecondBuilder=e.TimestampMicrosecondBuilder=e.TimestampMillisecondBuilder=e.TimestampSecondBuilder=e.TimestampBuilder=e.TimeNanosecondBuilder=e.TimeMicrosecondBuilder=e.TimeMillisecondBuilder=e.TimeSecondBuilder=e.TimeBuilder=e.Uint64Builder=e.Uint32Builder=e.Uint16Builder=e.Uint8Builder=e.Int64Builder=e.Int32Builder=e.Int16Builder=e.Int8Builder=e.IntBuilder=e.Float64Builder=e.Float32Builder=e.Float16Builder=e.FloatBuilder=e.FixedSizeBinaryBuilder=e.DictionaryBuilder=e.DecimalBuilder=e.DateMillisecondBuilder=e.DateDayBuilder=e.DateBuilder=e.NullBuilder=e.BoolBuilder=e.Builder=void 0;var t=M();Object.defineProperty(e,"Builder",{enumerable:!0,get:function(){return t.Builder}});var r=R();Object.defineProperty(e,"BoolBuilder",{enumerable:!0,get:function(){return r.BoolBuilder}});var i=U();Object.defineProperty(e,"NullBuilder",{enumerable:!0,get:function(){return i.NullBuilder}});var n=N();Object.defineProperty(e,"DateBuilder",{enumerable:!0,get:function(){return n.DateBuilder}}),Object.defineProperty(e,"DateDayBuilder",{enumerable:!0,get:function(){return n.DateDayBuilder}}),Object.defineProperty(e,"DateMillisecondBuilder",{enumerable:!0,get:function(){return n.DateMillisecondBuilder}});var s=V();Object.defineProperty(e,"DecimalBuilder",{enumerable:!0,get:function(){return s.DecimalBuilder}});var a=P();Object.defineProperty(e,"DictionaryBuilder",{enumerable:!0,get:function(){return a.DictionaryBuilder}});var o=L();Object.defineProperty(e,"FixedSizeBinaryBuilder",{enumerable:!0,get:function(){return o.FixedSizeBinaryBuilder}});var l=k();Object.defineProperty(e,"FloatBuilder",{enumerable:!0,get:function(){return l.FloatBuilder}}),Object.defineProperty(e,"Float16Builder",{enumerable:!0,get:function(){return l.Float16Builder}}),Object.defineProperty(e,"Float32Builder",{enumerable:!0,get:function(){return l.Float32Builder}}),Object.defineProperty(e,"Float64Builder",{enumerable:!0,get:function(){return l.Float64Builder}});var c=C();Object.defineProperty(e,"IntBuilder",{enumerable:!0,get:function(){return c.IntBuilder}}),Object.defineProperty(e,"Int8Builder",{enumerable:!0,get:function(){return c.Int8Builder}}),Object.defineProperty(e,"Int16Builder",{enumerable:!0,get:function(){return c.Int16Builder}}),Object.defineProperty(e,"Int32Builder",{enumerable:!0,get:function(){return c.Int32Builder}}),Object.defineProperty(e,"Int64Builder",{enumerable:!0,get:function(){return c.Int64Builder}}),Object.defineProperty(e,"Uint8Builder",{enumerable:!0,get:function(){return c.Uint8Builder}}),Object.defineProperty(e,"Uint16Builder",{enumerable:!0,get:function(){return c.Uint16Builder}}),Object.defineProperty(e,"Uint32Builder",{enumerable:!0,get:function(){return c.Uint32Builder}}),Object.defineProperty(e,"Uint64Builder",{enumerable:!0,get:function(){return c.Uint64Builder}});var u=z();Object.defineProperty(e,"TimeBuilder",{enumerable:!0,get:function(){return u.TimeBuilder}}),Object.defineProperty(e,"TimeSecondBuilder",{enumerable:!0,get:function(){return u.TimeSecondBuilder}}),Object.defineProperty(e,"TimeMillisecondBuilder",{enumerable:!0,get:function(){return u.TimeMillisecondBuilder}}),Object.defineProperty(e,"TimeMicrosecondBuilder",{enumerable:!0,get:function(){return u.TimeMicrosecondBuilder}}),Object.defineProperty(e,"TimeNanosecondBuilder",{enumerable:!0,get:function(){return u.TimeNanosecondBuilder}});var d=W();Object.defineProperty(e,"TimestampBuilder",{enumerable:!0,get:function(){return d.TimestampBuilder}}),Object.defineProperty(e,"TimestampSecondBuilder",{enumerable:!0,get:function(){return d.TimestampSecondBuilder}}),Object.defineProperty(e,"TimestampMillisecondBuilder",{enumerable:!0,get:function(){return d.TimestampMillisecondBuilder}}),Object.defineProperty(e,"TimestampMicrosecondBuilder",{enumerable:!0,get:function(){return d.TimestampMicrosecondBuilder}}),Object.defineProperty(e,"TimestampNanosecondBuilder",{enumerable:!0,get:function(){return d.TimestampNanosecondBuilder}});var h=Y();Object.defineProperty(e,"IntervalBuilder",{enumerable:!0,get:function(){return h.IntervalBuilder}}),Object.defineProperty(e,"IntervalDayTimeBuilder",{enumerable:!0,get:function(){return h.IntervalDayTimeBuilder}}),Object.defineProperty(e,"IntervalYearMonthBuilder",{enumerable:!0,get:function(){return h.IntervalYearMonthBuilder}});var f=H();Object.defineProperty(e,"Utf8Builder",{enumerable:!0,get:function(){return f.Utf8Builder}});var p=G();Object.defineProperty(e,"BinaryBuilder",{enumerable:!0,get:function(){return p.BinaryBuilder}});var y=q();Object.defineProperty(e,"ListBuilder",{enumerable:!0,get:function(){return y.ListBuilder}});var b=$();Object.defineProperty(e,"FixedSizeListBuilder",{enumerable:!0,get:function(){return b.FixedSizeListBuilder}});var m=J();Object.defineProperty(e,"MapBuilder",{enumerable:!0,get:function(){return m.MapBuilder}});var _=Z();Object.defineProperty(e,"StructBuilder",{enumerable:!0,get:function(){return _.StructBuilder}});var g=X();Object.defineProperty(e,"UnionBuilder",{enumerable:!0,get:function(){return g.UnionBuilder}}),Object.defineProperty(e,"SparseUnionBuilder",{enumerable:!0,get:function(){return g.SparseUnionBuilder}}),Object.defineProperty(e,"DenseUnionBuilder",{enumerable:!0,get:function(){return g.DenseUnionBuilder}});var v=B(),w=H(),T=M(),I=te(),S=re();T.Builder.new=function e(t){let r=t.type,i=new(S.instance.getVisitFn(r)())(t);if(r.children&&r.children.length>0){let n=t.children||[],s={nullValues:t.nullValues},a=Array.isArray(n)?(e,t)=>n[t]||s:({name:e})=>n[e]||s;r.children.forEach(((t,r)=>{let{type:n}=t,s=a(t,r);i.children.push(e(Object.assign(Object.assign({},s),{type:n})))}))}return i},Object.keys(v.Type).map((e=>v.Type[e])).filter((e=>"number"==typeof e&&e!==v.Type.NONE)).forEach((e=>{S.instance.visit(e).prototype._setValue=I.instance.getVisitFn(e)})),w.Utf8Builder.prototype._setValue=I.instance.visitBinary})),ne=h((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Block=e.Footer=void 0;var t=y(),r=T(),i=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsFooter(e,t){return(t||new i).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsFooter(e,r){return e.setPosition(e.position()+t.flatbuffers.SIZE_PREFIX_LENGTH),(r||new i).__init(e.readInt32(e.position())+e.position(),e)}version(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):r.MetadataVersion.V1}schema(e){let t=this.bb.__offset(this.bb_pos,6);return t?(e||new r.Schema).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null}dictionaries(e,t){let r=this.bb.__offset(this.bb_pos,8);return r?(t||new n).__init(this.bb.__vector(this.bb_pos+r)+24*e,this.bb):null}dictionariesLength(){let e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0}recordBatches(e,t){let r=this.bb.__offset(this.bb_pos,10);return r?(t||new n).__init(this.bb.__vector(this.bb_pos+r)+24*e,this.bb):null}recordBatchesLength(){let e=this.bb.__offset(this.bb_pos,10);return e?this.bb.__vector_len(this.bb_pos+e):0}customMetadata(e,t){let i=this.bb.__offset(this.bb_pos,12);return i?(t||new r.KeyValue).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+i)+4*e),this.bb):null}customMetadataLength(){let e=this.bb.__offset(this.bb_pos,12);return e?this.bb.__vector_len(this.bb_pos+e):0}static startFooter(e){e.startObject(5)}static addVersion(e,t){e.addFieldInt16(0,t,r.MetadataVersion.V1)}static addSchema(e,t){e.addFieldOffset(1,t,0)}static addDictionaries(e,t){e.addFieldOffset(2,t,0)}static startDictionariesVector(e,t){e.startVector(24,t,8)}static addRecordBatches(e,t){e.addFieldOffset(3,t,0)}static startRecordBatchesVector(e,t){e.startVector(24,t,8)}static addCustomMetadata(e,t){e.addFieldOffset(4,t,0)}static createCustomMetadataVector(e,t){e.startVector(4,t.length,4);for(let r=t.length-1;r>=0;r--)e.addOffset(t[r]);return e.endVector()}static startCustomMetadataVector(e,t){e.startVector(4,t,4)}static endFooter(e){return e.endObject()}static finishFooterBuffer(e,t){e.finish(t)}static finishSizePrefixedFooterBuffer(e,t){e.finish(t,void 0,!0)}static createFooter(e,t,r,n,s,a){return i.startFooter(e),i.addVersion(e,t),i.addSchema(e,r),i.addDictionaries(e,n),i.addRecordBatches(e,s),i.addCustomMetadata(e,a),i.endFooter(e)}};e.Footer=i;var n=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}offset(){return this.bb.readInt64(this.bb_pos)}metaDataLength(){return this.bb.readInt32(this.bb_pos+8)}bodyLength(){return this.bb.readInt64(this.bb_pos+16)}static createBlock(e,t,r,i){return e.prep(8,24),e.writeInt64(i),e.pad(4),e.writeInt32(r),e.writeInt64(t),e.offset()}};e.Block=n})),se=h((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.FileBlock=e.Footer=void 0;var t=ne(),r=y(),i=r.flatbuffers.Long,n=r.flatbuffers.Builder,s=r.flatbuffers.ByteBuffer,a=Q(),o=B(),l=g(),c=class{constructor(e,t=o.MetadataVersion.V4,r,i){this.schema=e,this.version=t,r&&(this._recordBatches=r),i&&(this._dictionaryBatches=i)}static decode(e){e=new s(l.toUint8Array(e));let r=t.Footer.getRootAsFooter(e),i=a.Schema.decode(r.schema());return new u(i,r)}static encode(e){let r=new n,i=a.Schema.encode(r,e.schema);t.Footer.startRecordBatchesVector(r,e.numRecordBatches),[...e.recordBatches()].slice().reverse().forEach((e=>d.encode(r,e)));let s=r.endVector();t.Footer.startDictionariesVector(r,e.numDictionaries),[...e.dictionaryBatches()].slice().reverse().forEach((e=>d.encode(r,e)));let l=r.endVector();return t.Footer.startFooter(r),t.Footer.addSchema(r,i),t.Footer.addVersion(r,o.MetadataVersion.V4),t.Footer.addRecordBatches(r,s),t.Footer.addDictionaries(r,l),t.Footer.finishFooterBuffer(r,t.Footer.endFooter(r)),r.asUint8Array()}get numRecordBatches(){return this._recordBatches.length}get numDictionaries(){return this._dictionaryBatches.length}*recordBatches(){for(let e,t=-1,r=this.numRecordBatches;++t<r;)(e=this.getRecordBatch(t))&&(yield e)}*dictionaryBatches(){for(let e,t=-1,r=this.numDictionaries;++t<r;)(e=this.getDictionaryBatch(t))&&(yield e)}getRecordBatch(e){return e>=0&&e<this.numRecordBatches&&this._recordBatches[e]||null}getDictionaryBatch(e){return e>=0&&e<this.numDictionaries&&this._dictionaryBatches[e]||null}};e.Footer=c;var u=class extends c{constructor(e,t){super(e,t.version()),this._footer=t}get numRecordBatches(){return this._footer.recordBatchesLength()}get numDictionaries(){return this._footer.dictionariesLength()}getRecordBatch(e){if(e>=0&&e<this.numRecordBatches){let t=this._footer.recordBatches(e);if(t)return d.decode(t)}return null}getDictionaryBatch(e){if(e>=0&&e<this.numDictionaries){let t=this._footer.dictionaries(e);if(t)return d.decode(t)}return null}},d=class{constructor(e,t,r){this.metaDataLength=e,this.offset="number"==typeof r?r:r.low,this.bodyLength="number"==typeof t?t:t.low}static decode(e){return new d(e.metaDataLength(),e.bodyLength(),e.offset())}static encode(e,r){let{metaDataLength:n}=r,s=new i(r.offset,0),a=new i(r.bodyLength,0);return t.Block.createBlock(e,s,n,a)}};e.FileBlock=d})),ae=h((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.AsyncByteStream=e.ByteStream=e.AsyncByteQueue=void 0;var t=p(),r=v(),i=b(),n=m(),s=g(),a=_(),o=class extends n.AsyncQueue{write(e){if((e=s.toUint8Array(e)).byteLength>0)return super.write(e)}toString(e=!1){return e?i.decodeUtf8(this.toUint8Array(!0)):this.toUint8Array(!1).then(i.decodeUtf8)}toUint8Array(e=!1){return e?s.joinUint8Arrays(this._values)[0]:(()=>t.__awaiter(this,void 0,void 0,(function*(){var e,r;let i=[],n=0;try{for(var a,o=t.__asyncValues(this);!(a=yield o.next()).done;){let e=a.value;i.push(e),n+=e.byteLength}}catch(t){e={error:t}}finally{try{a&&!a.done&&(r=o.return)&&(yield r.call(o))}finally{if(e)throw e.error}}return s.joinUint8Arrays(i,n)[0]})))()}};e.AsyncByteQueue=o;var l=class{constructor(e){e&&(this.source=new u(r.default.fromIterable(e)))}[Symbol.iterator](){return this}next(e){return this.source.next(e)}throw(e){return this.source.throw(e)}return(e){return this.source.return(e)}peek(e){return this.source.peek(e)}read(e){return this.source.read(e)}};e.ByteStream=l;var c=class{constructor(e){e instanceof c?this.source=e.source:e instanceof o?this.source=new d(r.default.fromAsyncIterable(e)):a.isReadableNodeStream(e)?this.source=new d(r.default.fromNodeStream(e)):a.isReadableDOMStream(e)?this.source=new d(r.default.fromDOMStream(e)):a.isFetchResponse(e)?this.source=new d(r.default.fromDOMStream(e.body)):a.isIterable(e)?this.source=new d(r.default.fromIterable(e)):(a.isPromise(e)||a.isAsyncIterable(e))&&(this.source=new d(r.default.fromAsyncIterable(e)))}[Symbol.asyncIterator](){return this}next(e){return this.source.next(e)}throw(e){return this.source.throw(e)}return(e){return this.source.return(e)}get closed(){return this.source.closed}cancel(e){return this.source.cancel(e)}peek(e){return this.source.peek(e)}read(e){return this.source.read(e)}};e.AsyncByteStream=c;var u=class{constructor(e){this.source=e}cancel(e){this.return(e)}peek(e){return this.next(e,"peek").value}read(e){return this.next(e,"read").value}next(e,t="read"){return this.source.next({cmd:t,size:e})}throw(e){return Object.create(this.source.throw&&this.source.throw(e)||n.ITERATOR_DONE)}return(e){return Object.create(this.source.return&&this.source.return(e)||n.ITERATOR_DONE)}},d=class{constructor(e){this.source=e,this._closedPromise=new Promise((e=>this._closedPromiseResolve=e))}cancel(e){return t.__awaiter(this,void 0,void 0,(function*(){yield this.return(e)}))}get closed(){return this._closedPromise}read(e){return t.__awaiter(this,void 0,void 0,(function*(){return(yield this.next(e,"read")).value}))}peek(e){return t.__awaiter(this,void 0,void 0,(function*(){return(yield this.next(e,"peek")).value}))}next(e,r="read"){return t.__awaiter(this,void 0,void 0,(function*(){return yield this.source.next({cmd:r,size:e})}))}throw(e){return t.__awaiter(this,void 0,void 0,(function*(){let t=this.source.throw&&(yield this.source.throw(e))||n.ITERATOR_DONE;return this._closedPromiseResolve&&this._closedPromiseResolve(),this._closedPromiseResolve=void 0,Object.create(t)}))}return(e){return t.__awaiter(this,void 0,void 0,(function*(){let t=this.source.return&&(yield this.source.return(e))||n.ITERATOR_DONE;return this._closedPromiseResolve&&this._closedPromiseResolve(),this._closedPromiseResolve=void 0,Object.create(t)}))}}})),oe=h((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.AsyncRandomAccessFile=e.RandomAccessFile=void 0;var t=p(),r=ae(),i=g(),n=class extends r.ByteStream{constructor(e,t){super(),this.position=0,this.buffer=i.toUint8Array(e),this.size=void 0===t?this.buffer.byteLength:t}readInt32(e){let{buffer:t,byteOffset:r}=this.readAt(e,4);return new DataView(t,r).getInt32(0,!0)}seek(e){return this.position=Math.min(e,this.size),e<this.size}read(e){let{buffer:t,size:r,position:i}=this;return t&&i<r?("number"!=typeof e&&(e=1/0),this.position=Math.min(r,i+Math.min(r-i,e)),t.subarray(i,this.position)):null}readAt(e,t){let r=this.buffer,i=Math.min(this.size,e+t);return r?r.subarray(e,i):new Uint8Array(t)}close(){this.buffer&&(this.buffer=null)}throw(e){return this.close(),{done:!0,value:e}}return(e){return this.close(),{done:!0,value:e}}};e.RandomAccessFile=n;var s=class extends r.AsyncByteStream{constructor(e,r){super(),this.position=0,this._handle=e,"number"==typeof r?this.size=r:this._pending=(()=>t.__awaiter(this,void 0,void 0,(function*(){this.size=(yield e.stat()).size,delete this._pending})))()}readInt32(e){return t.__awaiter(this,void 0,void 0,(function*(){let{buffer:t,byteOffset:r}=yield this.readAt(e,4);return new DataView(t,r).getInt32(0,!0)}))}seek(e){return t.__awaiter(this,void 0,void 0,(function*(){return this._pending&&(yield this._pending),this.position=Math.min(e,this.size),e<this.size}))}read(e){return t.__awaiter(this,void 0,void 0,(function*(){this._pending&&(yield this._pending);let{_handle:t,size:r,position:i}=this;if(t&&i<r){"number"!=typeof e&&(e=1/0);let n=i,s=0,a=0,o=Math.min(r,n+Math.min(r-n,e)),l=new Uint8Array(Math.max(0,(this.position=o)-n));for(;(n+=a)<o&&(s+=a)<l.byteLength;)({bytesRead:a}=yield t.read(l,s,l.byteLength-s,n));return l}return null}))}readAt(e,r){return t.__awaiter(this,void 0,void 0,(function*(){this._pending&&(yield this._pending);let{_handle:t,size:i}=this;if(t&&e+r<i){let n=Math.min(i,e+r),s=new Uint8Array(n-e);return(yield t.read(s,0,r,e)).buffer}return new Uint8Array(r)}))}close(){return t.__awaiter(this,void 0,void 0,(function*(){let e=this._handle;this._handle=null,e&&(yield e.close())}))}throw(e){return t.__awaiter(this,void 0,void 0,(function*(){return yield this.close(),{done:!0,value:e}}))}return(e){return t.__awaiter(this,void 0,void 0,(function*(){return yield this.close(),{done:!0,value:e}}))}};e.AsyncRandomAccessFile=s})),le=h((e=>{function t(e){return e<0&&(e=4294967295+e+1),`0x${e.toString(16)}`}Object.defineProperty(e,"__esModule",{value:!0}),e.Int128=e.Int64=e.Uint64=e.BaseInt64=void 0;var r=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8],i=class{constructor(e){this.buffer=e}high(){return this.buffer[1]}low(){return this.buffer[0]}_times(e){let t=new Uint32Array([this.buffer[1]>>>16,65535&this.buffer[1],this.buffer[0]>>>16,65535&this.buffer[0]]),r=new Uint32Array([e.buffer[1]>>>16,65535&e.buffer[1],e.buffer[0]>>>16,65535&e.buffer[0]]),i=t[3]*r[3];this.buffer[0]=65535&i;let n=i>>>16;return i=t[2]*r[3],n+=i,i=t[3]*r[2]>>>0,n+=i,this.buffer[0]+=n<<16,this.buffer[1]=n>>>0<i?65536:0,this.buffer[1]+=n>>>16,this.buffer[1]+=t[1]*r[3]+t[2]*r[2]+t[3]*r[1],this.buffer[1]+=t[0]*r[3]+t[1]*r[2]+t[2]*r[1]+t[3]*r[0]<<16,this}_plus(e){let t=this.buffer[0]+e.buffer[0]>>>0;this.buffer[1]+=e.buffer[1],t<this.buffer[0]>>>0&&++this.buffer[1],this.buffer[0]=t}lessThan(e){return this.buffer[1]<e.buffer[1]||this.buffer[1]===e.buffer[1]&&this.buffer[0]<e.buffer[0]}equals(e){return this.buffer[1]===e.buffer[1]&&this.buffer[0]==e.buffer[0]}greaterThan(e){return e.lessThan(this)}hex(){return`${t(this.buffer[1])} ${t(this.buffer[0])}`}};e.BaseInt64=i;var n=class extends i{times(e){return this._times(e),this}plus(e){return this._plus(e),this}static from(e,t=new Uint32Array(2)){return n.fromString("string"==typeof e?e:e.toString(),t)}static fromNumber(e,t=new Uint32Array(2)){return n.fromString(e.toString(),t)}static fromString(e,t=new Uint32Array(2)){let i=e.length,s=new n(t);for(let t=0;t<i;){let a=8<i-t?8:i-t,o=new n(new Uint32Array([parseInt(e.substr(t,a),10),0])),l=new n(new Uint32Array([r[a],0]));s.times(l),s.plus(o),t+=a}return s}static convertArray(e){let t=new Uint32Array(2*e.length);for(let r=-1,i=e.length;++r<i;)n.from(e[r],new Uint32Array(t.buffer,t.byteOffset+2*r*4,2));return t}static multiply(e,t){return new n(new Uint32Array(e.buffer)).times(t)}static add(e,t){return new n(new Uint32Array(e.buffer)).plus(t)}};e.Uint64=n;var s=class extends i{negate(){return this.buffer[0]=1+~this.buffer[0],this.buffer[1]=~this.buffer[1],0==this.buffer[0]&&++this.buffer[1],this}times(e){return this._times(e),this}plus(e){return this._plus(e),this}lessThan(e){let t=this.buffer[1]<<0,r=e.buffer[1]<<0;return t<r||t===r&&this.buffer[0]<e.buffer[0]}static from(e,t=new Uint32Array(2)){return s.fromString("string"==typeof e?e:e.toString(),t)}static fromNumber(e,t=new Uint32Array(2)){return s.fromString(e.toString(),t)}static fromString(e,t=new Uint32Array(2)){let i=e.startsWith("-"),n=e.length,a=new s(t);for(let t=i?1:0;t<n;){let i=8<n-t?8:n-t,o=new s(new Uint32Array([parseInt(e.substr(t,i),10),0])),l=new s(new Uint32Array([r[i],0]));a.times(l),a.plus(o),t+=i}return i?a.negate():a}static convertArray(e){let t=new Uint32Array(2*e.length);for(let r=-1,i=e.length;++r<i;)s.from(e[r],new Uint32Array(t.buffer,t.byteOffset+2*r*4,2));return t}static multiply(e,t){return new s(new Uint32Array(e.buffer)).times(t)}static add(e,t){return new s(new Uint32Array(e.buffer)).plus(t)}};e.Int64=s;var a=class{constructor(e){this.buffer=e}high(){return new s(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset+8,2))}low(){return new s(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset,2))}negate(){return this.buffer[0]=1+~this.buffer[0],this.buffer[1]=~this.buffer[1],this.buffer[2]=~this.buffer[2],this.buffer[3]=~this.buffer[3],0==this.buffer[0]&&++this.buffer[1],0==this.buffer[1]&&++this.buffer[2],0==this.buffer[2]&&++this.buffer[3],this}times(e){let t=new n(new Uint32Array([this.buffer[3],0])),r=new n(new Uint32Array([this.buffer[2],0])),i=new n(new Uint32Array([this.buffer[1],0])),s=new n(new Uint32Array([this.buffer[0],0])),a=new n(new Uint32Array([e.buffer[3],0])),o=new n(new Uint32Array([e.buffer[2],0])),l=new n(new Uint32Array([e.buffer[1],0])),c=new n(new Uint32Array([e.buffer[0],0])),u=n.multiply(s,c);this.buffer[0]=u.low();let d=new n(new Uint32Array([u.high(),0]));return u=n.multiply(i,c),d.plus(u),u=n.multiply(s,l),d.plus(u),this.buffer[1]=d.low(),this.buffer[3]=d.lessThan(u)?1:0,this.buffer[2]=d.high(),new n(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset+8,2)).plus(n.multiply(r,c)).plus(n.multiply(i,l)).plus(n.multiply(s,o)),this.buffer[3]+=n.multiply(t,c).plus(n.multiply(r,l)).plus(n.multiply(i,o)).plus(n.multiply(s,a)).low(),this}plus(e){let t=new Uint32Array(4);return t[3]=this.buffer[3]+e.buffer[3]>>>0,t[2]=this.buffer[2]+e.buffer[2]>>>0,t[1]=this.buffer[1]+e.buffer[1]>>>0,t[0]=this.buffer[0]+e.buffer[0]>>>0,t[0]<this.buffer[0]>>>0&&++t[1],t[1]<this.buffer[1]>>>0&&++t[2],t[2]<this.buffer[2]>>>0&&++t[3],this.buffer[3]=t[3],this.buffer[2]=t[2],this.buffer[1]=t[1],this.buffer[0]=t[0],this}hex(){return`${t(this.buffer[3])} ${t(this.buffer[2])} ${t(this.buffer[1])} ${t(this.buffer[0])}`}static multiply(e,t){return new a(new Uint32Array(e.buffer)).times(t)}static add(e,t){return new a(new Uint32Array(e.buffer)).plus(t)}static from(e,t=new Uint32Array(4)){return a.fromString("string"==typeof e?e:e.toString(),t)}static fromNumber(e,t=new Uint32Array(4)){return a.fromString(e.toString(),t)}static fromString(e,t=new Uint32Array(4)){let i=e.startsWith("-"),n=e.length,s=new a(t);for(let t=i?1:0;t<n;){let i=8<n-t?8:n-t,o=new a(new Uint32Array([parseInt(e.substr(t,i),10),0,0,0])),l=new a(new Uint32Array([r[i],0,0,0]));s.times(l),s.plus(o),t+=i}return i?s.negate():s}static convertArray(e){let t=new Uint32Array(4*e.length);for(let r=-1,i=e.length;++r<i;)a.from(e[r],new Uint32Array(t.buffer,t.byteOffset+16*r,4));return t}};e.Int128=a})),ce=h((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.JSONVectorLoader=e.VectorLoader=void 0;var t=A(),r=Q(),i=E(),n=ee(),s=S(),a=b(),o=le(),l=B(),c=g(),u=class extends n.Visitor{constructor(e,t,r,i){super(),this.nodesIndex=-1,this.buffersIndex=-1,this.bytes=e,this.nodes=t,this.buffers=r,this.dictionaries=i}visit(e){return super.visit(e instanceof r.Field?e.type:e)}visitNull(e,{length:r}=this.nextFieldNode()){return t.Data.Null(e,0,r)}visitBool(e,{length:r,nullCount:i}=this.nextFieldNode()){return t.Data.Bool(e,0,r,i,this.readNullBitmap(e,i),this.readData(e))}visitInt(e,{length:r,nullCount:i}=this.nextFieldNode()){return t.Data.Int(e,0,r,i,this.readNullBitmap(e,i),this.readData(e))}visitFloat(e,{length:r,nullCount:i}=this.nextFieldNode()){return t.Data.Float(e,0,r,i,this.readNullBitmap(e,i),this.readData(e))}visitUtf8(e,{length:r,nullCount:i}=this.nextFieldNode()){return t.Data.Utf8(e,0,r,i,this.readNullBitmap(e,i),this.readOffsets(e),this.readData(e))}visitBinary(e,{length:r,nullCount:i}=this.nextFieldNode()){return t.Data.Binary(e,0,r,i,this.readNullBitmap(e,i),this.readOffsets(e),this.readData(e))}visitFixedSizeBinary(e,{length:r,nullCount:i}=this.nextFieldNode()){return t.Data.FixedSizeBinary(e,0,r,i,this.readNullBitmap(e,i),this.readData(e))}visitDate(e,{length:r,nullCount:i}=this.nextFieldNode()){return t.Data.Date(e,0,r,i,this.readNullBitmap(e,i),this.readData(e))}visitTimestamp(e,{length:r,nullCount:i}=this.nextFieldNode()){return t.Data.Timestamp(e,0,r,i,this.readNullBitmap(e,i),this.readData(e))}visitTime(e,{length:r,nullCount:i}=this.nextFieldNode()){return t.Data.Time(e,0,r,i,this.readNullBitmap(e,i),this.readData(e))}visitDecimal(e,{length:r,nullCount:i}=this.nextFieldNode()){return t.Data.Decimal(e,0,r,i,this.readNullBitmap(e,i),this.readData(e))}visitList(e,{length:r,nullCount:i}=this.nextFieldNode()){return t.Data.List(e,0,r,i,this.readNullBitmap(e,i),this.readOffsets(e),this.visit(e.children[0]))}visitStruct(e,{length:r,nullCount:i}=this.nextFieldNode()){return t.Data.Struct(e,0,r,i,this.readNullBitmap(e,i),this.visitMany(e.children))}visitUnion(e){return e.mode===l.UnionMode.Sparse?this.visitSparseUnion(e):this.visitDenseUnion(e)}visitDenseUnion(e,{length:r,nullCount:i}=this.nextFieldNode()){return t.Data.Union(e,0,r,i,this.readNullBitmap(e,i),this.readTypeIds(e),this.readOffsets(e),this.visitMany(e.children))}visitSparseUnion(e,{length:r,nullCount:i}=this.nextFieldNode()){return t.Data.Union(e,0,r,i,this.readNullBitmap(e,i),this.readTypeIds(e),this.visitMany(e.children))}visitDictionary(e,{length:r,nullCount:i}=this.nextFieldNode()){return t.Data.Dictionary(e,0,r,i,this.readNullBitmap(e,i),this.readData(e.indices),this.readDictionary(e))}visitInterval(e,{length:r,nullCount:i}=this.nextFieldNode()){return t.Data.Interval(e,0,r,i,this.readNullBitmap(e,i),this.readData(e))}visitFixedSizeList(e,{length:r,nullCount:i}=this.nextFieldNode()){return t.Data.FixedSizeList(e,0,r,i,this.readNullBitmap(e,i),this.visit(e.children[0]))}visitMap(e,{length:r,nullCount:i}=this.nextFieldNode()){return t.Data.Map(e,0,r,i,this.readNullBitmap(e,i),this.readOffsets(e),this.visit(e.children[0]))}nextFieldNode(){return this.nodes[++this.nodesIndex]}nextBufferRange(){return this.buffers[++this.buffersIndex]}readNullBitmap(e,t,r=this.nextBufferRange()){return t>0&&this.readData(e,r)||new Uint8Array(0)}readOffsets(e,t){return this.readData(e,t)}readTypeIds(e,t){return this.readData(e,t)}readData(e,{length:t,offset:r}=this.nextBufferRange()){return this.bytes.subarray(r,r+t)}readDictionary(e){return this.dictionaries.get(e.id)}};e.VectorLoader=u,e.JSONVectorLoader=class extends u{constructor(e,t,r,i){super(new Uint8Array(0),t,r,i),this.sources=e}readNullBitmap(e,t,{offset:r}=this.nextBufferRange()){return t<=0?new Uint8Array(0):s.packBools(this.sources[r])}readOffsets(e,{offset:t}=this.nextBufferRange()){return c.toArrayBufferView(Uint8Array,c.toArrayBufferView(Int32Array,this.sources[t]))}readTypeIds(e,{offset:t}=this.nextBufferRange()){return c.toArrayBufferView(Uint8Array,c.toArrayBufferView(e.ArrayType,this.sources[t]))}readData(e,{offset:t}=this.nextBufferRange()){let{sources:r}=this;return i.DataType.isTimestamp(e)||(i.DataType.isInt(e)||i.DataType.isTime(e))&&64===e.bitWidth||i.DataType.isDate(e)&&e.unit===l.DateUnit.MILLISECOND?c.toArrayBufferView(Uint8Array,o.Int64.convertArray(r[t])):i.DataType.isDecimal(e)?c.toArrayBufferView(Uint8Array,o.Int128.convertArray(r[t])):i.DataType.isBinary(e)||i.DataType.isFixedSizeBinary(e)?function(e){let t=e.join(""),r=new Uint8Array(t.length/2);for(let e=0;e<t.length;e+=2)r[e>>1]=parseInt(t.substr(e,2),16);return r}(r[t]):i.DataType.isBool(e)?s.packBools(r[t]):i.DataType.isUtf8(e)?a.encodeUtf8(r[t].join("")):c.toArrayBufferView(Uint8Array,c.toArrayBufferView(e.ArrayType,r[t].map((e=>+e))))}}})),ue=h((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.StructRow=e.MapRow=void 0;var t,r=O(),i=Symbol.for("parent"),n=Symbol.for("rowIndex"),s=Symbol.for("keyToIdx"),a=Symbol.for("idxToVal"),o=Symbol.for("nodejs.util.inspect.custom"),l=class{constructor(e,t){this[i]=e,this.size=t}entries(){return this[Symbol.iterator]()}has(e){return void 0!==this.get(e)}get(e){let t;if(null!=e){let r=this[s]||(this[s]=new Map),i=r.get(e);if(void 0!==i){let e=this[a]||(this[a]=new Array(this.size));void 0!==(t=e[i])||(e[i]=t=this.getValue(i))}else if((i=this.getIndex(e))>-1){r.set(e,i);let n=this[a]||(this[a]=new Array(this.size));void 0!==(t=n[i])||(n[i]=t=this.getValue(i))}}return t}set(e,t){if(null!=e){let r=this[s]||(this[s]=new Map),i=r.get(e);void 0===i&&r.set(e,i=this.getIndex(e)),i>-1&&((this[a]||(this[a]=new Array(this.size)))[i]=this.setValue(i,t))}return this}clear(){throw new Error(`Clearing ${this[Symbol.toStringTag]} not supported.`)}delete(e){throw new Error(`Deleting ${this[Symbol.toStringTag]} values not supported.`)}*[Symbol.iterator](){let e=this.keys(),t=this.values(),r=this[s]||(this[s]=new Map),i=this[a]||(this[a]=new Array(this.size));for(let n,s,a,o,l=0;!(a=e.next()).done&&!(o=t.next()).done;++l)n=a.value,s=o.value,i[l]=s,r.has(n)||r.set(n,l),yield[n,s]}forEach(e,t){let r=this.keys(),i=this.values(),n=void 0===t?e:(r,i,n)=>e.call(t,r,i,n),o=this[s]||(this[s]=new Map),l=this[a]||(this[a]=new Array(this.size));for(let e,t,s,a,c=0;!(s=r.next()).done&&!(a=i.next()).done;++c)e=s.value,t=a.value,l[c]=t,o.has(e)||o.set(e,c),n(t,e,this)}toArray(){return[...this.values()]}toJSON(){let e={};return this.forEach(((t,r)=>e[r]=t)),e}inspect(){return this.toString()}[o](){return this.toString()}toString(){let e=[];return this.forEach(((t,i)=>{i=r.valueToString(i),t=r.valueToString(t),e.push(`${i}: ${t}`)})),`{ ${e.join(", ")} }`}};l[Symbol.toStringTag]=(t=l.prototype,Object.defineProperties(t,{size:{writable:!0,enumerable:!1,configurable:!1,value:0},[i]:{writable:!0,enumerable:!1,configurable:!1,value:null},[n]:{writable:!0,enumerable:!1,configurable:!1,value:-1}}),t[Symbol.toStringTag]="Row"),e.MapRow=class extends l{constructor(e){return super(e,e.length),u(this)}keys(){return this[i].getChildAt(0)[Symbol.iterator]()}values(){return this[i].getChildAt(1)[Symbol.iterator]()}getKey(e){return this[i].getChildAt(0).get(e)}getIndex(e){return this[i].getChildAt(0).indexOf(e)}getValue(e){return this[i].getChildAt(1).get(e)}setValue(e,t){this[i].getChildAt(1).set(e,t)}},e.StructRow=class extends l{constructor(e){return super(e,e.type.children.length),c(this)}*keys(){for(let e of this[i].type.children)yield e.name}*values(){for(let e of this[i].type.children)yield this[e.name]}getKey(e){return this[i].type.children[e].name}getIndex(e){return this[i].type.children.findIndex((t=>t.name===e))}getValue(e){return this[i].getChildAt(e).get(this[n])}setValue(e,t){return this[i].getChildAt(e).set(this[n],t)}},Object.setPrototypeOf(l.prototype,Map.prototype);var c=(()=>{let e={enumerable:!0,configurable:!1,get:null,set:null};return t=>{let r=-1,i=t[s]||(t[s]=new Map),n=e=>function(){return this.get(e)},a=e=>function(t){return this.set(e,t)};for(let s of t.keys())i.set(s,++r),e.get=n(s),e.set=a(s),Object.prototype.hasOwnProperty.call(t,s)||(e.enumerable=!0,Object.defineProperty(t,s,e)),Object.prototype.hasOwnProperty.call(t,r)||(e.enumerable=!1,Object.defineProperty(t,r,e));return e.get=e.set=null,t}})(),u=(()=>{if("undefined"==typeof Proxy)return c;let e=l.prototype.has,t=l.prototype.get,r=l.prototype.set,u=l.prototype.getKey,d={isExtensible:()=>!1,deleteProperty:()=>!1,preventExtensions:()=>!0,ownKeys:e=>[...e.keys()].map((e=>`${e}`)),has(e,t){switch(t){case"getKey":case"getIndex":case"getValue":case"setValue":case"toArray":case"toJSON":case"inspect":case"constructor":case"isPrototypeOf":case"propertyIsEnumerable":case"toString":case"toLocaleString":case"valueOf":case"size":case"has":case"get":case"set":case"clear":case"delete":case"keys":case"values":case"entries":case"forEach":case"__proto__":case"__defineGetter__":case"__defineSetter__":case"hasOwnProperty":case"__lookupGetter__":case"__lookupSetter__":case Symbol.iterator:case Symbol.toStringTag:case i:case n:case a:case s:case o:return!0}return"number"==typeof t&&!e.has(t)&&(t=e.getKey(t)),e.has(t)},get(r,l,c){switch(l){case"getKey":case"getIndex":case"getValue":case"setValue":case"toArray":case"toJSON":case"inspect":case"constructor":case"isPrototypeOf":case"propertyIsEnumerable":case"toString":case"toLocaleString":case"valueOf":case"size":case"has":case"get":case"set":case"clear":case"delete":case"keys":case"values":case"entries":case"forEach":case"__proto__":case"__defineGetter__":case"__defineSetter__":case"hasOwnProperty":case"__lookupGetter__":case"__lookupSetter__":case Symbol.iterator:case Symbol.toStringTag:case i:case n:case a:case s:case o:return Reflect.get(r,l,c)}return"number"==typeof l&&!e.call(c,l)&&(l=u.call(c,l)),t.call(c,l)},set(t,o,l,c){switch(o){case i:case n:case a:case s:return Reflect.set(t,o,l,c);case"getKey":case"getIndex":case"getValue":case"setValue":case"toArray":case"toJSON":case"inspect":case"constructor":case"isPrototypeOf":case"propertyIsEnumerable":case"toString":case"toLocaleString":case"valueOf":case"size":case"has":case"get":case"set":case"clear":case"delete":case"keys":case"values":case"entries":case"forEach":case"__proto__":case"__defineGetter__":case"__defineSetter__":case"hasOwnProperty":case"__lookupGetter__":case"__lookupSetter__":case Symbol.iterator:case Symbol.toStringTag:return!1}return"number"==typeof o&&!e.call(c,o)&&(o=u.call(c,o)),!!e.call(c,o)&&!!r.call(c,o,l)}};return e=>new Proxy(e,d)})()})),de=h((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.createElementComparator=e.clampRange=e.clampIndex=void 0;var t,r=w(),i=ue(),n=g(),s=_();e.clampIndex=function(e,t,r){let i=e.length,n=t>-1?t:i+t%i;return r?r(e,n):n},e.clampRange=function(e,r,i,n){let{length:s=0}=e,a="number"!=typeof r?0:r,o="number"!=typeof i?s:i;return a<0&&(a=(a%s+s)%s),o<0&&(o=(o%s+s)%s),o<a&&(t=a,a=o,o=t),o>s&&(o=s),n?n(e,a,o):[a,o]};var a=s.BigIntAvailable?s.BigInt(0):0,o=e=>e!=e;function l(e,t){return n=>{if(!n||"object"!=typeof n)return!1;switch(n.constructor){case Array:return function(e,t){let r=e.length;if(t.length!==r)return!1;for(let i=-1;++i<r;)if(!e[i](t[i]))return!1;return!0}(e,n);case Map:case i.MapRow:case i.StructRow:return c(e,n,n.keys());case Object:case void 0:return c(e,n,t||Object.keys(n))}return n instanceof r.Vector&&function(e,t){let r=e.length;if(t.length!==r)return!1;for(let i=-1;++i<r;)if(!e[i](t.get(i)))return!1;return!0}(e,n)}}function c(e,t,r){let i=r[Symbol.iterator](),n=t instanceof Map?t.keys():Object.keys(t)[Symbol.iterator](),s=t instanceof Map?t.values():Object.values(t)[Symbol.iterator](),a=0,o=e.length,l=s.next(),c=i.next(),u=n.next();for(;a<o&&!c.done&&!u.done&&!l.done&&c.value===u.value&&e[a](l.value);++a,c=i.next(),u=n.next(),l=s.next());return!!(a===o&&c.done&&u.done&&l.done)||(i.return&&i.return(),n.return&&n.return(),s.return&&s.return(),!1)}e.createElementComparator=function e(t){let i=typeof t;if("object"!==i||null===t)return o(t)?o:"bigint"!==i?e=>e===t:e=>a+e===t;if(t instanceof Date){let e=t.valueOf();return t=>t instanceof Date&&t.valueOf()===e}return ArrayBuffer.isView(t)?e=>!!e&&n.compareArrayLike(t,e):t instanceof Map?function(t){let r=-1,i=[];return t.forEach((t=>i[++r]=e(t))),l(i)}(t):Array.isArray(t)?function(t){let r=[];for(let i=-1,n=t.length;++i<n;)r[i]=e(t[i]);return l(r)}(t):t instanceof r.Vector?function(t){let r=[];for(let i=-1,n=t.length;++i<n;)r[i]=e(t.get(i));return l(r)}(t):function(t){let r=Object.keys(t);if(0===r.length)return()=>!1;let i=[];for(let n=-1,s=r.length;++n<s;)i[n]=e(t[r[n]]);return l(i,r)}(t)}})),he=h((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.selectColumnChildrenArgs=e.selectVectorChildrenArgs=e.selectChunkArgs=e.selectFieldArgs=e.selectColumnArgs=e.selectArgs=e.arrayTypeToDataType=e.isTypedArray=void 0;var t=A(),r=Q(),i=pe(),n=w(),s=E(),a=fe(),o=Array.isArray;function l(e){return ArrayBuffer.isView(e)&&"BYTES_PER_ELEMENT"in e}function c(e){switch(e){case Int8Array:return s.Int8;case Int16Array:return s.Int16;case Int32Array:return s.Int32;case BigInt64Array:return s.Int64;case Uint8Array:return s.Uint8;case Uint16Array:return s.Uint16;case Uint32Array:return s.Uint32;case BigUint64Array:return s.Uint64;case Float32Array:return s.Float32;case Float64Array:return s.Float64;default:return null}}function u(e,t,r,i){let n,s=i,a=-1,l=t.length;for(;++a<l;)o(n=t[a])?s=u(e,n,r,s).length:n instanceof e&&(r[s++]=n);return r}function d(e,t,r,i){let n,s=i,l=-1,c=t.length;for(;++l<c;)o(n=t[l])?s=d(e,n,r,s).length:n instanceof a.Chunked?s=d(e,n.chunks,r,s).length:n instanceof e&&(r[s++]=n);return r}function h(e,t,r,i){let s,a=i,l=-1,c=t.length;for(;++l<c;)o(s=t[l])?a=h(e,s,r,a).length:s instanceof e?a=u(n.Vector,s.schema.fields.map(((e,t)=>s.getChildAt(t))),r,a).length:s instanceof n.Vector&&(r[a++]=s);return r}function f(e,t,r,n){let s,a=n,l=-1,c=t.length;for(;++l<c;)o(s=t[l])?a=f(e,s,r,a).length:s instanceof e?a=u(i.Column,s.schema.fields.map(((e,t)=>i.Column.new(e,s.getChildAt(t)))),r,a).length:s instanceof i.Column&&(r[a++]=s);return r}e.isTypedArray=l,e.arrayTypeToDataType=c,e.selectArgs=(e,t)=>u(e,t,[],0),e.selectColumnArgs=e=>{let[r,s]=y(e,[[],[]]);return s.map(((e,s)=>e instanceof i.Column?i.Column.new(e.field.clone(r[s]),e):e instanceof n.Vector?i.Column.new(r[s],e):l(e)?i.Column.new(r[s],function(e){let r=c(e.constructor);if(!r)throw new TypeError("Unrecognized Array input");let i=new r,s=t.Data.new(i,0,e.length,0,[void 0,e]);return n.Vector.new(s)}(e)):i.Column.new(r[s],[])))},e.selectFieldArgs=e=>y(e,[[],[]]),e.selectChunkArgs=(e,t)=>d(e,t,[],0),e.selectVectorChildrenArgs=(e,t)=>h(e,t,[],0),e.selectColumnChildrenArgs=(e,t)=>f(e,t,[],0);var p=(e,[t,r],i)=>(e[0][i]=t,e[1][i]=r,e);function y(e,a){let c,u;switch(u=e.length){case 0:return a;case 1:if(c=a[0],!e[0])return a;if(o(e[0]))return y(e[0],a);e[0]instanceof t.Data||e[0]instanceof n.Vector||l(e[0])||e[0]instanceof s.DataType||([c,e]=Object.entries(e[0]).reduce(p,a));break;default:o(c=e[u-1])?e=o(e[0])?e[0]:e.slice(0,u-1):(e=o(e[0])?e[0]:e,c=[])}let d,h,f=-1,b=-1,m=-1,_=e.length,[g,v]=a;for(;++m<_;)h=e[m],h instanceof i.Column&&(v[++b]=h)?g[++f]=h.field.clone(c[m],h.type,!0):(({[m]:d=m}=c),h instanceof s.DataType&&(v[++b]=h)?g[++f]=r.Field.new(d,h,!0):(null==h?void 0:h.type)&&(v[++b]=h)&&(h instanceof t.Data&&(v[b]=h=n.Vector.new(h)),g[++f]=r.Field.new(d,h.type,!0)));return a}})),fe=h((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Chunked=void 0;var t=de(),r=E(),i=he(),n=w(),s=class{constructor(e){this.chunks=e,this.chunkIndex=0,this.chunkIterator=this.getChunkIterator()}next(){for(;this.chunkIndex<this.chunks.length;){let e=this.chunkIterator.next();if(!e.done)return e;++this.chunkIndex<this.chunks.length&&(this.chunkIterator=this.getChunkIterator())}return{done:!0,value:null}}getChunkIterator(){return this.chunks[this.chunkIndex][Symbol.iterator]()}[Symbol.iterator](){return this}},a=class extends n.AbstractVector{constructor(e,t=[],r=function(e){let t=new Uint32Array((e||[]).length+1),r=t[0]=0,i=t.length;for(let n=0;++n<i;)t[n]=r+=e[n-1].length;return t}(t)){super(),this._nullCount=-1,this._type=e,this._chunks=t,this._chunkOffsets=r,this._length=r[r.length-1],this._numChildren=(this._type.children||[]).length}static flatten(...e){return i.selectChunkArgs(n.Vector,e)}static concat(...e){let t=a.flatten(...e);return new a(t[0].type,t)}get type(){return this._type}get length(){return this._length}get chunks(){return this._chunks}get typeId(){return this._type.typeId}get VectorName(){return`Chunked<${this._type}>`}get data(){return this._chunks[0]?this._chunks[0].data:null}get ArrayType(){return this._type.ArrayType}get numChildren(){return this._numChildren}get stride(){return this._chunks[0]?this._chunks[0].stride:1}get byteLength(){return this._chunks.reduce(((e,t)=>e+t.byteLength),0)}get nullCount(){let e=this._nullCount;return e<0&&(this._nullCount=e=this._chunks.reduce(((e,{nullCount:t})=>e+t),0)),e}get indices(){if(r.DataType.isDictionary(this._type)){if(!this._indices){let e=this._chunks;this._indices=1===e.length?e[0].indices:a.concat(...e.map((e=>e.indices)))}return this._indices}return null}get dictionary(){return r.DataType.isDictionary(this._type)?this._chunks[this._chunks.length-1].data.dictionary:null}[Symbol.iterator](){return new s(this._chunks)}clone(e=this._chunks){return new a(this._type,e)}concat(...e){return this.clone(a.flatten(this,...e))}slice(e,r){return t.clampRange(this,e,r,this._sliceInternal)}getChildAt(e){if(e<0||e>=this._numChildren)return null;let t,r,i,n=this._children||(this._children=[]);return(t=n[e])?t:(r=(this._type.children||[])[e])&&(i=this._chunks.map((t=>t.getChildAt(e))).filter((e=>null!=e)),i.length>0)?n[e]=new a(r.type,i):null}search(e,t){let r=e,i=this._chunkOffsets,n=i.length-1;if(r<0||r>=i[n])return null;if(n<=1)return t?t(this,0,r):[0,r];let s=0,a=0,o=0;do{if(s+1===n)return t?t(this,s,r-a):[s,r-a];o=s+(n-s)/2|0,r>=i[o]?s=o:n=o}while(r<i[n]&&r>=(a=i[s]));return null}isValid(e){return!!this.search(e,this.isValidInternal)}get(e){return this.search(e,this.getInternal)}set(e,t){this.search(e,(({chunks:e},r,i)=>e[r].set(i,t)))}indexOf(e,t){return t&&"number"==typeof t?this.search(t,((t,r,i)=>this.indexOfInternal(t,r,i,e))):this.indexOfInternal(this,0,Math.max(0,t||0),e)}toArray(){let{chunks:e}=this,t=e.length,r=this._type.ArrayType;if(t<=0)return new r(0);if(t<=1)return e[0].toArray();let i=0,n=new Array(t);for(let r=-1;++r<t;)i+=(n[r]=e[r].toArray()).length;r!==n[0].constructor&&(r=n[0].constructor);let s=new r(i),a=r===Array?l:o;for(let e=-1,r=0;++e<t;)r=a(n[e],s,r);return s}getInternal({_chunks:e},t,r){return e[t].get(r)}isValidInternal({_chunks:e},t,r){return e[t].isValid(r)}indexOfInternal({_chunks:e},t,r,i){let n=t-1,s=e.length,a=r,o=0,l=-1;for(;++n<s;){if(~(l=e[n].indexOf(i,a)))return o+l;a=0,o+=e[n].length}return-1}_sliceInternal(e,t,r){let i=[],{chunks:n,_chunkOffsets:s}=e;for(let e=-1,a=n.length;++e<a;){let a=n[e],o=a.length,l=s[e];if(l>=r)break;if(t>=l+o)continue;if(l>=t&&l+o<=r){i.push(a);continue}let c=Math.max(0,t-l),u=Math.min(r-l,o);i.push(a.slice(c,u))}return e.clone(i)}};e.Chunked=a;var o=(e,t,r)=>(t.set(e,r),r+e.length),l=(e,t,r)=>{let i=r;for(let r=-1,n=e.length;++r<n;)t[i++]=e[r];return i}})),pe=h((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Column=void 0;var t=Q(),r=w(),i=fe(),n=class extends i.Chunked{constructor(e,t=[],r){if(t=i.Chunked.flatten(...t),super(e.type,t,r),this._field=e,1===t.length&&!(this instanceof s))return new s(e,t[0],this._chunkOffsets)}static new(...e){let[s,a,...o]=e;"string"!=typeof s&&!(s instanceof t.Field)&&(a=s,s="");let l=i.Chunked.flatten(Array.isArray(a)?[...a,...o]:a instanceof r.Vector?[a,...o]:[r.Vector.new(a,...o)]);if("string"==typeof s){let e=l[0].data.type;s=new t.Field(s,e,!0)}else!s.nullable&&l.some((({nullCount:e})=>e>0))&&(s=s.clone({nullable:!0}));return new n(s,l)}get field(){return this._field}get name(){return this._field.name}get nullable(){return this._field.nullable}get metadata(){return this._field.metadata}clone(e=this._chunks){return new n(this._field,e)}getChildAt(e){if(e<0||e>=this.numChildren)return null;let t,r,i,s=this._children||(this._children=[]);return(t=s[e])?t:(r=(this.type.children||[])[e])&&(i=this._chunks.map((t=>t.getChildAt(e))).filter((e=>null!=e)),i.length>0)?s[e]=new n(r,i):null}};e.Column=n;var s=class extends n{constructor(e,t,r){super(e,[t],r),this._chunk=t}search(e,t){return t?t(this,0,e):[0,e]}isValid(e){return this._chunk.isValid(e)}get(e){return this._chunk.get(e)}set(e,t){this._chunk.set(e,t)}indexOf(e,t){return this._chunk.indexOf(e,t)}}})),ye=h((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.instance=e.TypeAssembler=void 0;var t=y().flatbuffers.Long,r=ee(),i=T(),n=class extends r.Visitor{visit(e,t){return null==e||null==t?void 0:super.visit(e,t)}visitNull(e,t){return i.Null.startNull(t),i.Null.endNull(t)}visitInt(e,t){return i.Int.startInt(t),i.Int.addBitWidth(t,e.bitWidth),i.Int.addIsSigned(t,e.isSigned),i.Int.endInt(t)}visitFloat(e,t){return i.FloatingPoint.startFloatingPoint(t),i.FloatingPoint.addPrecision(t,e.precision),i.FloatingPoint.endFloatingPoint(t)}visitBinary(e,t){return i.Binary.startBinary(t),i.Binary.endBinary(t)}visitBool(e,t){return i.Bool.startBool(t),i.Bool.endBool(t)}visitUtf8(e,t){return i.Utf8.startUtf8(t),i.Utf8.endUtf8(t)}visitDecimal(e,t){return i.Decimal.startDecimal(t),i.Decimal.addScale(t,e.scale),i.Decimal.addPrecision(t,e.precision),i.Decimal.endDecimal(t)}visitDate(e,t){return i.Date.startDate(t),i.Date.addUnit(t,e.unit),i.Date.endDate(t)}visitTime(e,t){return i.Time.startTime(t),i.Time.addUnit(t,e.unit),i.Time.addBitWidth(t,e.bitWidth),i.Time.endTime(t)}visitTimestamp(e,t){let r=e.timezone&&t.createString(e.timezone)||void 0;return i.Timestamp.startTimestamp(t),i.Timestamp.addUnit(t,e.unit),void 0!==r&&i.Timestamp.addTimezone(t,r),i.Timestamp.endTimestamp(t)}visitInterval(e,t){return i.Interval.startInterval(t),i.Interval.addUnit(t,e.unit),i.Interval.endInterval(t)}visitList(e,t){return i.List.startList(t),i.List.endList(t)}visitStruct(e,t){return i.Struct_.startStruct_(t),i.Struct_.endStruct_(t)}visitUnion(e,t){i.Union.startTypeIdsVector(t,e.typeIds.length);let r=i.Union.createTypeIdsVector(t,e.typeIds);return i.Union.startUnion(t),i.Union.addMode(t,e.mode),i.Union.addTypeIds(t,r),i.Union.endUnion(t)}visitDictionary(e,r){let n=this.visit(e.indices,r);return i.DictionaryEncoding.startDictionaryEncoding(r),i.DictionaryEncoding.addId(r,new t(e.id,0)),i.DictionaryEncoding.addIsOrdered(r,e.isOrdered),void 0!==n&&i.DictionaryEncoding.addIndexType(r,n),i.DictionaryEncoding.endDictionaryEncoding(r)}visitFixedSizeBinary(e,t){return i.FixedSizeBinary.startFixedSizeBinary(t),i.FixedSizeBinary.addByteWidth(t,e.byteWidth),i.FixedSizeBinary.endFixedSizeBinary(t)}visitFixedSizeList(e,t){return i.FixedSizeList.startFixedSizeList(t),i.FixedSizeList.addListSize(t,e.listSize),i.FixedSizeList.endFixedSizeList(t)}visitMap(e,t){return i.Map.startMap(t),i.Map.addKeysSorted(t,e.keysSorted),i.Map.endMap(t)}};e.TypeAssembler=n,e.instance=new n})),be=h((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.fieldFromJSON=e.dictionaryBatchFromJSON=e.recordBatchFromJSON=e.schemaFromJSON=void 0;var t=Q(),r=E(),i=me(),n=B();function s(e){return new i.RecordBatch(e.count,o(e.columns),l(e.columns))}function a(e,r){return(e.children||[]).filter(Boolean).map((e=>t.Field.fromJSON(e,r)))}function o(e){return(e||[]).reduce(((e,t)=>[...e,new i.FieldNode(t.count,c(t.VALIDITY)),...o(t.children)]),[])}function l(e,t=[]){for(let r=-1,n=(e||[]).length;++r<n;){let n=e[r];n.VALIDITY&&t.push(new i.BufferRegion(t.length,n.VALIDITY.length)),n.TYPE&&t.push(new i.BufferRegion(t.length,n.TYPE.length)),n.OFFSET&&t.push(new i.BufferRegion(t.length,n.OFFSET.length)),n.DATA&&t.push(new i.BufferRegion(t.length,n.DATA.length)),t=l(n.children,t)}return t}function c(e){return(e||[]).reduce(((e,t)=>e+ +(0===t)),0)}function u(e){return new Map(Object.entries(e||{}))}function d(e){return new r.Int(e.isSigned,e.bitWidth)}function h(e,t){let i=e.type.name;switch(i){case"NONE":case"null":return new r.Null;case"binary":return new r.Binary;case"utf8":return new r.Utf8;case"bool":return new r.Bool;case"list":return new r.List((t||[])[0]);case"struct":case"struct_":return new r.Struct(t||[])}switch(i){case"int":{let t=e.type;return new r.Int(t.isSigned,t.bitWidth)}case"floatingpoint":{let t=e.type;return new r.Float(n.Precision[t.precision])}case"decimal":{let t=e.type;return new r.Decimal(t.scale,t.precision)}case"date":{let t=e.type;return new r.Date_(n.DateUnit[t.unit])}case"time":{let t=e.type;return new r.Time(n.TimeUnit[t.unit],t.bitWidth)}case"timestamp":{let t=e.type;return new r.Timestamp(n.TimeUnit[t.unit],t.timezone)}case"interval":{let t=e.type;return new r.Interval(n.IntervalUnit[t.unit])}case"union":{let i=e.type;return new r.Union(n.UnionMode[i.mode],i.typeIds||[],t||[])}case"fixedsizebinary":{let t=e.type;return new r.FixedSizeBinary(t.byteWidth)}case"fixedsizelist":{let i=e.type;return new r.FixedSizeList(i.listSize,(t||[])[0])}case"map":{let i=e.type;return new r.Map_((t||[])[0],i.keysSorted)}}throw new Error(`Unrecognized type: "${i}"`)}e.schemaFromJSON=function(e,r=new Map){return new t.Schema(function(e,r){return(e.fields||[]).filter(Boolean).map((e=>t.Field.fromJSON(e,r)))}(e,r),u(e.customMetadata),r)},e.recordBatchFromJSON=s,e.dictionaryBatchFromJSON=function(e){return new i.DictionaryBatch(s(e.data),e.id,e.isDelta)},e.fieldFromJSON=function(e,i){let n,s,o,l,c,f;return i&&(l=e.dictionary)?i.has(n=l.id)?(s=(s=l.indexType)?d(s):new r.Int32,f=new r.Dictionary(i.get(n),s,n,l.isOrdered),o=new t.Field(e.name,f,e.nullable,u(e.customMetadata))):(s=(s=l.indexType)?d(s):new r.Int32,i.set(n,c=h(e,a(e,i))),f=new r.Dictionary(c,s,n,l.isOrdered),o=new t.Field(e.name,f,e.nullable,u(e.customMetadata))):(c=h(e,a(e,i)),o=new t.Field(e.name,c,e.nullable,u(e.customMetadata))),o||null}})),me=h((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.FieldNode=e.BufferRegion=e.DictionaryBatch=e.RecordBatch=e.Message=void 0;var t=y(),r=T(),i=I(),n=Q(),s=g(),a=B(),o=ye(),l=be(),c=t.flatbuffers.Long,u=t.flatbuffers.Builder,d=t.flatbuffers.ByteBuffer,h=E(),f=class{constructor(e,t,r,i){this._version=t,this._headerType=r,this.body=new Uint8Array(0),i&&(this._createHeader=()=>i),this._bodyLength="number"==typeof e?e:e.low}static fromJSON(e,t){let r=new f(0,a.MetadataVersion.V4,t);return r._createHeader=function(e,t){return()=>{switch(t){case a.MessageHeader.Schema:return n.Schema.fromJSON(e);case a.MessageHeader.RecordBatch:return p.fromJSON(e);case a.MessageHeader.DictionaryBatch:return b.fromJSON(e)}throw new Error(`Unrecognized Message type: { name: ${a.MessageHeader[t]}, type: ${t} }`)}}(e,t),r}static decode(e){e=new d(s.toUint8Array(e));let t=i.Message.getRootAsMessage(e),o=t.bodyLength(),l=t.version(),c=t.headerType(),u=new f(o,l,c);return u._createHeader=function(e,t){return()=>{switch(t){case a.MessageHeader.Schema:return n.Schema.decode(e.header(new r.Schema));case a.MessageHeader.RecordBatch:return p.decode(e.header(new i.RecordBatch),e.version());case a.MessageHeader.DictionaryBatch:return b.decode(e.header(new i.DictionaryBatch),e.version())}throw new Error(`Unrecognized Message type: { name: ${a.MessageHeader[t]}, type: ${t} }`)}}(t,c),u}static encode(e){let t=new u,r=-1;return e.isSchema()?r=n.Schema.encode(t,e.header()):e.isRecordBatch()?r=p.encode(t,e.header()):e.isDictionaryBatch()&&(r=b.encode(t,e.header())),i.Message.startMessage(t),i.Message.addVersion(t,a.MetadataVersion.V4),i.Message.addHeader(t,r),i.Message.addHeaderType(t,e.headerType),i.Message.addBodyLength(t,new c(e.bodyLength,0)),i.Message.finishMessageBuffer(t,i.Message.endMessage(t)),t.asUint8Array()}static from(e,t=0){if(e instanceof n.Schema)return new f(0,a.MetadataVersion.V4,a.MessageHeader.Schema,e);if(e instanceof p)return new f(t,a.MetadataVersion.V4,a.MessageHeader.RecordBatch,e);if(e instanceof b)return new f(t,a.MetadataVersion.V4,a.MessageHeader.DictionaryBatch,e);throw new Error(`Unrecognized Message header: ${e}`)}get type(){return this.headerType}get version(){return this._version}get headerType(){return this._headerType}get bodyLength(){return this._bodyLength}header(){return this._createHeader()}isSchema(){return this.headerType===a.MessageHeader.Schema}isRecordBatch(){return this.headerType===a.MessageHeader.RecordBatch}isDictionaryBatch(){return this.headerType===a.MessageHeader.DictionaryBatch}};e.Message=f;var p=class{constructor(e,t,r){this._nodes=t,this._buffers=r,this._length="number"==typeof e?e:e.low}get nodes(){return this._nodes}get length(){return this._length}get buffers(){return this._buffers}};e.RecordBatch=p;var b=class{constructor(e,t,r=!1){this._data=e,this._isDelta=r,this._id="number"==typeof t?t:t.low}get id(){return this._id}get data(){return this._data}get isDelta(){return this._isDelta}get length(){return this.data.length}get nodes(){return this.data.nodes}get buffers(){return this.data.buffers}};e.DictionaryBatch=b;var m=class{constructor(e,t){this.offset="number"==typeof e?e:e.low,this.length="number"==typeof t?t:t.low}};e.BufferRegion=m;var _=class{constructor(e,t){this.length="number"==typeof e?e:e.low,this.nullCount="number"==typeof t?t:t.low}};function v(e,t){let r=[];for(let i,s=-1,a=-1,o=e.childrenLength();++s<o;)(i=e.children(s))&&(r[++a]=n.Field.decode(i,t));return r}function w(e){let t=new Map;if(e)for(let r,i,n=-1,s=0|e.customMetadataLength();++n<s;)(r=e.customMetadata(n))&&null!=(i=r.key())&&t.set(i,r.value());return t}function S(e){return new h.Int(e.isSigned(),e.bitWidth())}function A(e,t){let i=e.typeType();switch(i){case r.Type.NONE:case r.Type.Null:return new h.Null;case r.Type.Binary:return new h.Binary;case r.Type.Utf8:return new h.Utf8;case r.Type.Bool:return new h.Bool;case r.Type.List:return new h.List((t||[])[0]);case r.Type.Struct_:return new h.Struct(t||[])}switch(i){case r.Type.Int:{let t=e.type(new r.Int);return new h.Int(t.isSigned(),t.bitWidth())}case r.Type.FloatingPoint:{let t=e.type(new r.FloatingPoint);return new h.Float(t.precision())}case r.Type.Decimal:{let t=e.type(new r.Decimal);return new h.Decimal(t.scale(),t.precision())}case r.Type.Date:{let t=e.type(new r.Date);return new h.Date_(t.unit())}case r.Type.Time:{let t=e.type(new r.Time);return new h.Time(t.unit(),t.bitWidth())}case r.Type.Timestamp:{let t=e.type(new r.Timestamp);return new h.Timestamp(t.unit(),t.timezone())}case r.Type.Interval:{let t=e.type(new r.Interval);return new h.Interval(t.unit())}case r.Type.Union:{let i=e.type(new r.Union);return new h.Union(i.mode(),i.typeIdsArray()||[],t||[])}case r.Type.FixedSizeBinary:{let t=e.type(new r.FixedSizeBinary);return new h.FixedSizeBinary(t.byteWidth())}case r.Type.FixedSizeList:{let i=e.type(new r.FixedSizeList);return new h.FixedSizeList(i.listSize(),(t||[])[0])}case r.Type.Map:{let i=e.type(new r.Map);return new h.Map_((t||[])[0],i.keysSorted())}}throw new Error(`Unrecognized type: "${r.Type[i]}" (${i})`)}e.FieldNode=_,n.Field.encode=function(e,t){let i=-1,s=-1,a=-1,l=t.type,c=t.typeId;h.DataType.isDictionary(l)?(c=l.dictionary.typeId,a=o.instance.visit(l,e),s=o.instance.visit(l.dictionary,e)):s=o.instance.visit(l,e);let u=(l.children||[]).map((t=>n.Field.encode(e,t))),d=r.Field.createChildrenVector(e,u),f=t.metadata&&t.metadata.size>0?r.Field.createCustomMetadataVector(e,[...t.metadata].map((([t,i])=>{let n=e.createString(`${t}`),s=e.createString(`${i}`);return r.KeyValue.startKeyValue(e),r.KeyValue.addKey(e,n),r.KeyValue.addValue(e,s),r.KeyValue.endKeyValue(e)}))):-1;return t.name&&(i=e.createString(t.name)),r.Field.startField(e),r.Field.addType(e,s),r.Field.addTypeType(e,c),r.Field.addChildren(e,d),r.Field.addNullable(e,!!t.nullable),-1!==i&&r.Field.addName(e,i),-1!==a&&r.Field.addDictionary(e,a),-1!==f&&r.Field.addCustomMetadata(e,f),r.Field.endField(e)},n.Field.decode=function(e,t){let r,i,s,a,o,l;return t&&(l=e.dictionary())?t.has(r=l.id().low)?(a=(a=l.indexType())?S(a):new h.Int32,o=new h.Dictionary(t.get(r),a,r,l.isOrdered()),i=new n.Field(e.name(),o,e.nullable(),w(e))):(a=(a=l.indexType())?S(a):new h.Int32,t.set(r,s=A(e,v(e,t))),o=new h.Dictionary(s,a,r,l.isOrdered()),i=new n.Field(e.name(),o,e.nullable(),w(e))):(s=A(e,v(e,t)),i=new n.Field(e.name(),s,e.nullable(),w(e))),i||null},n.Field.fromJSON=l.fieldFromJSON,n.Schema.encode=function(e,t){let i=t.fields.map((t=>n.Field.encode(e,t)));r.Schema.startFieldsVector(e,i.length);let s=r.Schema.createFieldsVector(e,i),a=t.metadata&&t.metadata.size>0?r.Schema.createCustomMetadataVector(e,[...t.metadata].map((([t,i])=>{let n=e.createString(`${t}`),s=e.createString(`${i}`);return r.KeyValue.startKeyValue(e),r.KeyValue.addKey(e,n),r.KeyValue.addValue(e,s),r.KeyValue.endKeyValue(e)}))):-1;return r.Schema.startSchema(e),r.Schema.addFields(e,s),r.Schema.addEndianness(e,O?r.Endianness.Little:r.Endianness.Big),-1!==a&&r.Schema.addCustomMetadata(e,a),r.Schema.endSchema(e)},n.Schema.decode=function(e,t=new Map){let r=function(e,t){let r=[];for(let i,s=-1,a=-1,o=e.fieldsLength();++s<o;)(i=e.fields(s))&&(r[++a]=n.Field.decode(i,t));return r}(e,t);return new n.Schema(r,w(e),t)},n.Schema.fromJSON=l.schemaFromJSON,p.encode=function(e,t){let r=t.nodes||[],n=t.buffers||[];i.RecordBatch.startNodesVector(e,r.length),r.slice().reverse().forEach((t=>_.encode(e,t)));let s=e.endVector();i.RecordBatch.startBuffersVector(e,n.length),n.slice().reverse().forEach((t=>m.encode(e,t)));let a=e.endVector();return i.RecordBatch.startRecordBatch(e),i.RecordBatch.addLength(e,new c(t.length,0)),i.RecordBatch.addNodes(e,s),i.RecordBatch.addBuffers(e,a),i.RecordBatch.endRecordBatch(e)},p.decode=function(e,t=a.MetadataVersion.V4){return new p(e.length(),function(e){let t=[];for(let r,i=-1,n=-1,s=e.nodesLength();++i<s;)(r=e.nodes(i))&&(t[++n]=_.decode(r));return t}(e),function(e,t){let r=[];for(let i,n=-1,s=-1,o=e.buffersLength();++n<o;)(i=e.buffers(n))&&(t<a.MetadataVersion.V4&&(i.bb_pos+=8*(n+1)),r[++s]=m.decode(i));return r}(e,t))},p.fromJSON=l.recordBatchFromJSON,b.encode=function(e,t){let r=p.encode(e,t.data);return i.DictionaryBatch.startDictionaryBatch(e),i.DictionaryBatch.addId(e,new c(t.id,0)),i.DictionaryBatch.addIsDelta(e,t.isDelta),i.DictionaryBatch.addData(e,r),i.DictionaryBatch.endDictionaryBatch(e)},b.decode=function(e,t=a.MetadataVersion.V4){return new b(p.decode(e.data(),t),e.id(),e.isDelta())},b.fromJSON=l.dictionaryBatchFromJSON,_.encode=function(e,t){return i.FieldNode.createFieldNode(e,new c(t.length,0),new c(t.nullCount,0))},_.decode=function(e){return new _(e.length(),e.nullCount())},m.encode=function(e,t){return r.Buffer.createBuffer(e,new c(t.offset,0),new c(t.length,0))},m.decode=function(e){return new m(e.offset(),e.length())};var O=function(){let e=new ArrayBuffer(2);return new DataView(e).setInt16(0,256,!0),256===new Int16Array(e)[0]}()})),_e=h((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.magicX2AndPadding=e.magicAndPadding=e.magicLength=e.checkForMagicArrowString=e.MAGIC=e.MAGIC_STR=e.PADDING=e.JSONMessageReader=e.AsyncMessageReader=e.MessageReader=void 0;var t=p(),r=B(),i=y().flatbuffers.ByteBuffer,n=me(),s=_(),a=oe(),o=g(),l=ae(),c=m(),u=e=>`Expected ${r.MessageHeader[e]} Message in stream, but was null or length 0.`,d=e=>`Header pointer of flatbuffer-encoded ${r.MessageHeader[e]} Message is null or length 0.`,h=(e,t)=>`Expected to read ${e} metadata bytes, but only read ${t}.`,f=(e,t)=>`Expected to read ${e} bytes for message body, but only read ${t}.`,b=class{constructor(e){this.source=e instanceof l.ByteStream?e:new l.ByteStream(e)}[Symbol.iterator](){return this}next(){let e;return(e=this.readMetadataLength()).done||-1===e.value&&(e=this.readMetadataLength()).done||(e=this.readMetadata(e.value)).done?c.ITERATOR_DONE:e}throw(e){return this.source.throw(e)}return(e){return this.source.return(e)}readMessage(e){let t;if((t=this.next()).done)return null;if(null!=e&&t.value.headerType!==e)throw new Error(u(e));return t.value}readMessageBody(e){if(e<=0)return new Uint8Array(0);let t=o.toUint8Array(this.source.read(e));if(t.byteLength<e)throw new Error(f(e,t.byteLength));return t.byteOffset%8==0&&t.byteOffset+t.byteLength<=t.buffer.byteLength?t:t.slice()}readSchema(e=!1){let t=r.MessageHeader.Schema,i=this.readMessage(t),n=null==i?void 0:i.header();if(e&&!n)throw new Error(d(t));return n}readMetadataLength(){let t=this.source.read(e.PADDING),r=t&&new i(t),n=(null==r?void 0:r.readInt32(0))||0;return{done:0===n,value:n}}readMetadata(e){let t=this.source.read(e);if(!t)return c.ITERATOR_DONE;if(t.byteLength<e)throw new Error(h(e,t.byteLength));return{done:!1,value:n.Message.decode(t)}}};e.MessageReader=b;var v=class{constructor(e,t){this.source=e instanceof l.AsyncByteStream?e:s.isFileHandle(e)?new a.AsyncRandomAccessFile(e,t):new l.AsyncByteStream(e)}[Symbol.asyncIterator](){return this}next(){return t.__awaiter(this,void 0,void 0,(function*(){let e;return(e=yield this.readMetadataLength()).done||-1===e.value&&(e=yield this.readMetadataLength()).done||(e=yield this.readMetadata(e.value)).done?c.ITERATOR_DONE:e}))}throw(e){return t.__awaiter(this,void 0,void 0,(function*(){return yield this.source.throw(e)}))}return(e){return t.__awaiter(this,void 0,void 0,(function*(){return yield this.source.return(e)}))}readMessage(e){return t.__awaiter(this,void 0,void 0,(function*(){let t;if((t=yield this.next()).done)return null;if(null!=e&&t.value.headerType!==e)throw new Error(u(e));return t.value}))}readMessageBody(e){return t.__awaiter(this,void 0,void 0,(function*(){if(e<=0)return new Uint8Array(0);let t=o.toUint8Array(yield this.source.read(e));if(t.byteLength<e)throw new Error(f(e,t.byteLength));return t.byteOffset%8==0&&t.byteOffset+t.byteLength<=t.buffer.byteLength?t:t.slice()}))}readSchema(e=!1){return t.__awaiter(this,void 0,void 0,(function*(){let t=r.MessageHeader.Schema,i=yield this.readMessage(t),n=null==i?void 0:i.header();if(e&&!n)throw new Error(d(t));return n}))}readMetadataLength(){return t.__awaiter(this,void 0,void 0,(function*(){let t=yield this.source.read(e.PADDING),r=t&&new i(t),n=(null==r?void 0:r.readInt32(0))||0;return{done:0===n,value:n}}))}readMetadata(e){return t.__awaiter(this,void 0,void 0,(function*(){let t=yield this.source.read(e);if(!t)return c.ITERATOR_DONE;if(t.byteLength<e)throw new Error(h(e,t.byteLength));return{done:!1,value:n.Message.decode(t)}}))}};e.AsyncMessageReader=v,e.JSONMessageReader=class extends b{constructor(e){super(new Uint8Array(0)),this._schema=!1,this._body=[],this._batchIndex=0,this._dictionaryIndex=0,this._json=e instanceof c.ArrowJSON?e:new c.ArrowJSON(e)}next(){let{_json:e}=this;if(!this._schema)return this._schema=!0,{done:!1,value:n.Message.fromJSON(e.schema,r.MessageHeader.Schema)};if(this._dictionaryIndex<e.dictionaries.length){let t=e.dictionaries[this._dictionaryIndex++];return this._body=t.data.columns,{done:!1,value:n.Message.fromJSON(t,r.MessageHeader.DictionaryBatch)}}if(this._batchIndex<e.batches.length){let t=e.batches[this._batchIndex++];return this._body=t.columns,{done:!1,value:n.Message.fromJSON(t,r.MessageHeader.RecordBatch)}}return this._body=[],c.ITERATOR_DONE}readMessageBody(e){return function e(t){return(t||[]).reduce(((t,r)=>[...t,...r.VALIDITY&&[r.VALIDITY]||[],...r.TYPE&&[r.TYPE]||[],...r.OFFSET&&[r.OFFSET]||[],...r.DATA&&[r.DATA]||[],...e(r.children)]),[])}(this._body)}readMessage(e){let t;if((t=this.next()).done)return null;if(null!=e&&t.value.headerType!==e)throw new Error(u(e));return t.value}readSchema(){let e=r.MessageHeader.Schema,t=this.readMessage(e),i=null==t?void 0:t.header();if(!t||!i)throw new Error(d(e));return i}},e.PADDING=4,e.MAGIC_STR="ARROW1",e.MAGIC=new Uint8Array(e.MAGIC_STR.length);for(let t=0;t<e.MAGIC_STR.length;t+=1)e.MAGIC[t]=e.MAGIC_STR.charCodeAt(t);e.checkForMagicArrowString=function(t,r=0){for(let i=-1,n=e.MAGIC.length;++i<n;)if(e.MAGIC[i]!==t[r+i])return!1;return!0},e.magicLength=e.MAGIC.length,e.magicAndPadding=e.magicLength+e.PADDING,e.magicX2AndPadding=2*e.magicLength+e.PADDING})),ge=h((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.compareTypes=e.compareFields=e.compareSchemas=e.instance=e.TypeComparator=void 0;var t=ee(),r=class extends t.Visitor{compareSchemas(e,t){return e===t||t instanceof e.constructor&&this.compareManyFields(e.fields,t.fields)}compareManyFields(e,t){return e===t||Array.isArray(e)&&Array.isArray(t)&&e.length===t.length&&e.every(((e,r)=>this.compareFields(e,t[r])))}compareFields(e,t){return e===t||t instanceof e.constructor&&e.name===t.name&&e.nullable===t.nullable&&this.visit(e.type,t.type)}};function i(e,t){return t instanceof e.constructor}function n(e,t){return e===t||i(e,t)}function s(e,t){return e===t||i(e,t)&&e.bitWidth===t.bitWidth&&e.isSigned===t.isSigned}function a(e,t){return e===t||i(e,t)&&e.precision===t.precision}function o(e,t){return e===t||i(e,t)&&e.unit===t.unit}function l(e,t){return e===t||i(e,t)&&e.unit===t.unit&&e.timezone===t.timezone}function c(e,t){return e===t||i(e,t)&&e.unit===t.unit&&e.bitWidth===t.bitWidth}function u(t,r){return t===r||i(t,r)&&t.mode===r.mode&&t.typeIds.every(((e,t)=>e===r.typeIds[t]))&&e.instance.compareManyFields(t.children,r.children)}function d(e,t){return e===t||i(e,t)&&e.unit===t.unit}e.TypeComparator=r,r.prototype.visitNull=n,r.prototype.visitBool=n,r.prototype.visitInt=s,r.prototype.visitInt8=s,r.prototype.visitInt16=s,r.prototype.visitInt32=s,r.prototype.visitInt64=s,r.prototype.visitUint8=s,r.prototype.visitUint16=s,r.prototype.visitUint32=s,r.prototype.visitUint64=s,r.prototype.visitFloat=a,r.prototype.visitFloat16=a,r.prototype.visitFloat32=a,r.prototype.visitFloat64=a,r.prototype.visitUtf8=n,r.prototype.visitBinary=n,r.prototype.visitFixedSizeBinary=function(e,t){return e===t||i(e,t)&&e.byteWidth===t.byteWidth},r.prototype.visitDate=o,r.prototype.visitDateDay=o,r.prototype.visitDateMillisecond=o,r.prototype.visitTimestamp=l,r.prototype.visitTimestampSecond=l,r.prototype.visitTimestampMillisecond=l,r.prototype.visitTimestampMicrosecond=l,r.prototype.visitTimestampNanosecond=l,r.prototype.visitTime=c,r.prototype.visitTimeSecond=c,r.prototype.visitTimeMillisecond=c,r.prototype.visitTimeMicrosecond=c,r.prototype.visitTimeNanosecond=c,r.prototype.visitDecimal=n,r.prototype.visitList=function(t,r){return t===r||i(t,r)&&t.children.length===r.children.length&&e.instance.compareManyFields(t.children,r.children)},r.prototype.visitStruct=function(t,r){return t===r||i(t,r)&&t.children.length===r.children.length&&e.instance.compareManyFields(t.children,r.children)},r.prototype.visitUnion=u,r.prototype.visitDenseUnion=u,r.prototype.visitSparseUnion=u,r.prototype.visitDictionary=function(t,r){return t===r||i(t,r)&&t.id===r.id&&t.isOrdered===r.isOrdered&&e.instance.visit(t.indices,r.indices)&&e.instance.visit(t.dictionary,r.dictionary)},r.prototype.visitInterval=d,r.prototype.visitIntervalDayTime=d,r.prototype.visitIntervalYearMonth=d,r.prototype.visitFixedSizeList=function(t,r){return t===r||i(t,r)&&t.listSize===r.listSize&&t.children.length===r.children.length&&e.instance.compareManyFields(t.children,r.children)},r.prototype.visitMap=function(t,r){return t===r||i(t,r)&&t.keysSorted===r.keysSorted&&t.children.length===r.children.length&&e.instance.compareManyFields(t.children,r.children)},e.instance=new r,e.compareSchemas=function(t,r){return e.instance.compareSchemas(t,r)},e.compareFields=function(t,r){return e.instance.compareFields(t,r)},e.compareTypes=function(t,r){return e.instance.visit(t,r)}})),ve=h((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.VectorAssembler=void 0;var t=ee(),r=B(),i=Xe(),n=g(),s=S(),a=he(),o=me(),l=E(),c=class extends t.Visitor{constructor(){super(),this._byteLength=0,this._nodes=[],this._buffers=[],this._bufferRegions=[]}static assemble(...e){let t=new c,r=a.selectVectorChildrenArgs(i.RecordBatch,e),[n=t]=t.visitMany(r);return n}visit(e){if(!l.DataType.isDictionary(e.type)){let{data:t,length:r,nullCount:i}=e;if(r>2147483647)throw new RangeError("Cannot write arrays larger than 2^31 - 1 in length");l.DataType.isNull(e.type)||u.call(this,i<=0?new Uint8Array(0):s.truncateBitmap(t.offset,r,t.nullBitmap)),this.nodes.push(new o.FieldNode(r,i))}return super.visit(e)}visitNull(e){return this}visitDictionary(e){return this.visit(e.indices)}get nodes(){return this._nodes}get buffers(){return this._buffers}get byteLength(){return this._byteLength}get bufferRegions(){return this._bufferRegions}};function u(e){let t=e.byteLength+7&-8;return this.buffers.push(e),this.bufferRegions.push(new o.BufferRegion(this._byteLength,t)),this._byteLength+=t,this}function d(e){return u.call(this,e.values.subarray(0,e.length*e.stride))}function h(e){let{length:t,values:r,valueOffsets:i}=e,s=i[0],a=i[t],o=Math.min(a-s,r.byteLength-s);return u.call(this,n.rebaseValueOffsets(-i[0],t,i)),u.call(this,r.subarray(s,s+o)),this}function f(e){let{length:t,valueOffsets:r}=e;return r&&u.call(this,n.rebaseValueOffsets(r[0],t,r)),this.visit(e.getChildAt(0))}function p(e){return this.visitMany(e.type.children.map(((t,r)=>e.getChildAt(r))).filter(Boolean))[0]}e.VectorAssembler=c,c.prototype.visitBool=function(e){let t;return e.nullCount>=e.length?u.call(this,new Uint8Array(0)):(t=e.values)instanceof Uint8Array?u.call(this,s.truncateBitmap(e.offset,e.length,t)):u.call(this,s.packBools(e))},c.prototype.visitInt=d,c.prototype.visitFloat=d,c.prototype.visitUtf8=h,c.prototype.visitBinary=h,c.prototype.visitFixedSizeBinary=d,c.prototype.visitDate=d,c.prototype.visitTimestamp=d,c.prototype.visitTime=d,c.prototype.visitDecimal=d,c.prototype.visitList=f,c.prototype.visitStruct=p,c.prototype.visitUnion=function(e){let{type:t,length:i,typeIds:s,valueOffsets:a}=e;if(u.call(this,s),t.mode===r.UnionMode.Sparse)return p.call(this,e);if(t.mode===r.UnionMode.Dense){if(e.offset<=0)return u.call(this,a),p.call(this,e);{let r=s.reduce(((e,t)=>Math.max(e,t)),s[0]),o=new Int32Array(r+1),l=new Int32Array(r+1).fill(-1),c=new Int32Array(i),d=n.rebaseValueOffsets(-a[0],i,a);for(let e,t,r=-1;++r<i;)-1===(t=l[e=s[r]])&&(t=l[e]=d[e]),c[r]=d[r]-t,++o[e];u.call(this,c);for(let r,n=-1,s=t.children.length;++n<s;)if(r=e.getChildAt(n)){let e=t.typeIds[n],s=Math.min(i,o[e]);this.visit(r.slice(l[e],s))}}}return this},c.prototype.visitInterval=d,c.prototype.visitFixedSizeList=f,c.prototype.visitMap=f})),we=h((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.JSONTypeAssembler=void 0;var t=ee(),r=T(),i=B(),n=class extends t.Visitor{visit(e){return null==e?void 0:super.visit(e)}visitNull({typeId:e}){return{name:r.Type[e].toLowerCase()}}visitInt({typeId:e,bitWidth:t,isSigned:i}){return{name:r.Type[e].toLowerCase(),bitWidth:t,isSigned:i}}visitFloat({typeId:e,precision:t}){return{name:r.Type[e].toLowerCase(),precision:i.Precision[t]}}visitBinary({typeId:e}){return{name:r.Type[e].toLowerCase()}}visitBool({typeId:e}){return{name:r.Type[e].toLowerCase()}}visitUtf8({typeId:e}){return{name:r.Type[e].toLowerCase()}}visitDecimal({typeId:e,scale:t,precision:i}){return{name:r.Type[e].toLowerCase(),scale:t,precision:i}}visitDate({typeId:e,unit:t}){return{name:r.Type[e].toLowerCase(),unit:i.DateUnit[t]}}visitTime({typeId:e,unit:t,bitWidth:n}){return{name:r.Type[e].toLowerCase(),unit:i.TimeUnit[t],bitWidth:n}}visitTimestamp({typeId:e,timezone:t,unit:n}){return{name:r.Type[e].toLowerCase(),unit:i.TimeUnit[n],timezone:t}}visitInterval({typeId:e,unit:t}){return{name:r.Type[e].toLowerCase(),unit:i.IntervalUnit[t]}}visitList({typeId:e}){return{name:r.Type[e].toLowerCase()}}visitStruct({typeId:e}){return{name:r.Type[e].toLowerCase()}}visitUnion({typeId:e,mode:t,typeIds:n}){return{name:r.Type[e].toLowerCase(),mode:i.UnionMode[t],typeIds:[...n]}}visitDictionary(e){return this.visit(e.dictionary)}visitFixedSizeBinary({typeId:e,byteWidth:t}){return{name:r.Type[e].toLowerCase(),byteWidth:t}}visitFixedSizeList({typeId:e,listSize:t}){return{name:r.Type[e].toLowerCase(),listSize:t}}visitMap({typeId:e,keysSorted:t}){return{name:r.Type[e].toLowerCase(),keysSorted:t}}};e.JSONTypeAssembler=n})),Te=h((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.JSONVectorAssembler=void 0;var t=j(),r=pe(),i=w(),n=ee(),s=B(),a=Xe(),o=B(),l=S(),c=he(),u=E(),d=class extends n.Visitor{static assemble(...e){return(new d).visitMany(c.selectColumnChildrenArgs(a.RecordBatch,e))}visit(e){let{data:t,name:r,length:n}=e,{offset:a,nullCount:o,nullBitmap:c}=t,d=u.DataType.isDictionary(e.type)?e.type.indices:e.type,h=Object.assign([],t.buffers,{[s.BufferType.VALIDITY]:void 0});return Object.assign({name:r,count:n,VALIDITY:u.DataType.isNull(d)?void 0:o<=0?Array.from({length:n},(()=>1)):[...new l.BitIterator(c,a,n,null,l.getBit)]},super.visit(i.Vector.new(t.clone(d,a,n,0,h))))}visitNull(){return{}}visitBool({values:e,offset:t,length:r}){return{DATA:[...new l.BitIterator(e,t,r,null,l.getBool)]}}visitInt(e){return{DATA:e.type.bitWidth<64?[...e.values]:[...f(e.values,2)]}}visitFloat(e){return{DATA:[...e.values]}}visitUtf8(e){return{DATA:[...e],OFFSET:[...e.valueOffsets]}}visitBinary(e){return{DATA:[...h(e)],OFFSET:[...e.valueOffsets]}}visitFixedSizeBinary(e){return{DATA:[...h(e)]}}visitDate(e){return{DATA:e.type.unit===o.DateUnit.DAY?[...e.values]:[...f(e.values,2)]}}visitTimestamp(e){return{DATA:[...f(e.values,2)]}}visitTime(e){return{DATA:e.type.unit<o.TimeUnit.MICROSECOND?[...e.values]:[...f(e.values,2)]}}visitDecimal(e){return{DATA:[...f(e.values,4)]}}visitList(e){return{OFFSET:[...e.valueOffsets],children:e.type.children.map(((t,i)=>this.visit(new r.Column(t,[e.getChildAt(i)]))))}}visitStruct(e){return{children:e.type.children.map(((t,i)=>this.visit(new r.Column(t,[e.getChildAt(i)]))))}}visitUnion(e){return{TYPE:[...e.typeIds],OFFSET:e.type.mode===o.UnionMode.Dense?[...e.valueOffsets]:void 0,children:e.type.children.map(((t,i)=>this.visit(new r.Column(t,[e.getChildAt(i)]))))}}visitInterval(e){return{DATA:[...e.values]}}visitFixedSizeList(e){return{children:e.type.children.map(((t,i)=>this.visit(new r.Column(t,[e.getChildAt(i)]))))}}visitMap(e){return{OFFSET:[...e.valueOffsets],children:e.type.children.map(((t,i)=>this.visit(new r.Column(t,[e.getChildAt(i)]))))}}};function*h(e){for(let t of e)yield t.reduce(((e,t)=>`${e}${("0"+(255&t).toString(16)).slice(-2)}`),"").toUpperCase()}function*f(e,r){for(let i=-1,n=e.length/r;++i<n;)yield`${t.BN.new(e.subarray((i+0)*r,(i+1)*r),!1)}`}e.JSONVectorAssembler=d})),Ie=h((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.RecordBatchJSONWriter=e.RecordBatchFileWriter=e.RecordBatchStreamWriter=e.RecordBatchWriter=void 0;var t=p(),r=Ze(),i=_e(),n=pe(),s=E(),a=Q(),o=me(),l=me(),c=se(),u=B(),d=ge(),h=ae(),f=ve(),y=we(),b=Te(),v=g(),w=Xe(),T=m(),I=_(),S=class extends T.ReadableInterop{constructor(e){super(),this._position=0,this._started=!1,this._sink=new h.AsyncByteQueue,this._schema=null,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._dictionaryDeltaOffsets=new Map,I.isObject(e)||(e={autoDestroy:!0,writeLegacyIpcFormat:!1}),this._autoDestroy="boolean"!=typeof e.autoDestroy||e.autoDestroy,this._writeLegacyIpcFormat="boolean"==typeof e.writeLegacyIpcFormat&&e.writeLegacyIpcFormat}static throughNode(e){throw new Error('"throughNode" not available in this environment')}static throughDOM(e,t){throw new Error('"throughDOM" not available in this environment')}toString(e=!1){return this._sink.toString(e)}toUint8Array(e=!1){return this._sink.toUint8Array(e)}writeAll(e){return I.isPromise(e)?e.then((e=>this.writeAll(e))):I.isAsyncIterable(e)?M(this,e):D(this,e)}get closed(){return this._sink.closed}[Symbol.asyncIterator](){return this._sink[Symbol.asyncIterator]()}toDOMStream(e){return this._sink.toDOMStream(e)}toNodeStream(e){return this._sink.toNodeStream(e)}close(){return this.reset()._sink.close()}abort(e){return this.reset()._sink.abort(e)}finish(){return this._autoDestroy?this.close():this.reset(this._sink,this._schema),this}reset(e=this._sink,t=null){return e===this._sink||e instanceof h.AsyncByteQueue?this._sink=e:(this._sink=new h.AsyncByteQueue,e&&I.isWritableDOMStream(e)?this.toDOMStream({type:"bytes"}).pipeTo(e):e&&I.isWritableNodeStream(e)&&this.toNodeStream({objectMode:!1}).pipe(e)),this._started&&this._schema&&this._writeFooter(this._schema),this._started=!1,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._dictionaryDeltaOffsets=new Map,(!t||!d.compareSchemas(t,this._schema))&&(null===t?(this._position=0,this._schema=null):(this._started=!0,this._schema=t,this._writeSchema(t))),this}write(e){let t=null;if(!this._sink)throw new Error("RecordBatchWriter is closed");if(null==e)return this.finish()&&void 0;if(e instanceof r.Table&&!(t=e.schema))return this.finish()&&void 0;if(e instanceof w.RecordBatch&&!(t=e.schema))return this.finish()&&void 0;if(t&&!d.compareSchemas(t,this._schema)){if(this._started&&this._autoDestroy)return this.close();this.reset(this._sink,t)}e instanceof w.RecordBatch?e instanceof w._InternalEmptyPlaceholderRecordBatch||this._writeRecordBatch(e):e instanceof r.Table?this.writeAll(e.chunks):I.isIterable(e)&&this.writeAll(e)}_writeMessage(e,t=8){let r=t-1,i=o.Message.encode(e),n=i.byteLength,s=this._writeLegacyIpcFormat?4:8,a=n+s+r&~r,l=a-n-s;return e.headerType===u.MessageHeader.RecordBatch?this._recordBatchBlocks.push(new c.FileBlock(a,e.bodyLength,this._position)):e.headerType===u.MessageHeader.DictionaryBatch&&this._dictionaryBlocks.push(new c.FileBlock(a,e.bodyLength,this._position)),this._writeLegacyIpcFormat||this._write(Int32Array.of(-1)),this._write(Int32Array.of(a-s)),n>0&&this._write(i),this._writePadding(l)}_write(e){if(this._started){let t=v.toUint8Array(e);t&&t.byteLength>0&&(this._sink.write(t),this._position+=t.byteLength)}return this}_writeSchema(e){return this._writeMessage(o.Message.from(e))}_writeFooter(e){return this._writeLegacyIpcFormat?this._write(Int32Array.of(0)):this._write(Int32Array.of(-1,0))}_writeMagic(){return this._write(i.MAGIC)}_writePadding(e){return e>0?this._write(new Uint8Array(e)):this}_writeRecordBatch(e){let{byteLength:t,nodes:r,bufferRegions:i,buffers:n}=f.VectorAssembler.assemble(e),s=new l.RecordBatch(e.length,r,i),a=o.Message.from(s,t);return this._writeDictionaries(e)._writeMessage(a)._writeBodyBuffers(n)}_writeDictionaryBatch(e,t,r=!1){this._dictionaryDeltaOffsets.set(t,e.length+(this._dictionaryDeltaOffsets.get(t)||0));let{byteLength:i,nodes:n,bufferRegions:s,buffers:a}=f.VectorAssembler.assemble(e),c=new l.RecordBatch(e.length,n,s),u=new l.DictionaryBatch(c,t,r),d=o.Message.from(u,i);return this._writeMessage(d)._writeBodyBuffers(a)}_writeBodyBuffers(e){let t,r,i;for(let n=-1,s=e.length;++n<s;)(t=e[n])&&(r=t.byteLength)>0&&(this._write(t),(i=(r+7&-8)-r)>0&&this._writePadding(i));return this}_writeDictionaries(e){for(let[t,r]of e.dictionaries){let e=this._dictionaryDeltaOffsets.get(t)||0;if(0===e||(r=r.slice(e)).length>0){let i="chunks"in r?r.chunks:[r];for(let r of i)this._writeDictionaryBatch(r,t,e>0),e+=r.length}}return this}};e.RecordBatchWriter=S;var A=class extends S{static writeAll(e,t){let r=new A(t);return I.isPromise(e)?e.then((e=>r.writeAll(e))):I.isAsyncIterable(e)?M(r,e):D(r,e)}};e.RecordBatchStreamWriter=A;var O=class extends S{static writeAll(e){let t=new O;return I.isPromise(e)?e.then((e=>t.writeAll(e))):I.isAsyncIterable(e)?M(t,e):D(t,e)}constructor(){super(),this._autoDestroy=!0}_writeSchema(e){return this._writeMagic()._writePadding(2)}_writeFooter(e){let t=c.Footer.encode(new c.Footer(e,u.MetadataVersion.V4,this._recordBatchBlocks,this._dictionaryBlocks));return super._writeFooter(e)._write(t)._write(Int32Array.of(t.byteLength))._writeMagic()}};e.RecordBatchFileWriter=O;var F=class extends S{constructor(){super(),this._autoDestroy=!0,this._recordBatches=[],this._dictionaries=[]}static writeAll(e){return(new F).writeAll(e)}_writeMessage(){return this}_writeFooter(e){return this}_writeSchema(e){return this._write(`{\n  "schema": ${JSON.stringify({fields:e.fields.map(R)},null,2)}`)}_writeDictionaries(e){return e.dictionaries.size>0&&this._dictionaries.push(e),this}_writeDictionaryBatch(e,t,r=!1){return this._dictionaryDeltaOffsets.set(t,e.length+(this._dictionaryDeltaOffsets.get(t)||0)),this._write(0===this._dictionaryBlocks.length?"    ":",\n    "),this._write(`${function(e,t,r=!1){let i=new a.Field(`${t}`,e.type,e.nullCount>0),s=b.JSONVectorAssembler.assemble(new n.Column(i,[e]));return JSON.stringify({id:t,isDelta:r,data:{count:e.length,columns:s}},null,2)}(e,t,r)}`),this._dictionaryBlocks.push(new c.FileBlock(0,0,0)),this}_writeRecordBatch(e){return this._writeDictionaries(e),this._recordBatches.push(e),this}close(){if(this._dictionaries.length>0){this._write(',\n  "dictionaries": [\n');for(let e of this._dictionaries)super._writeDictionaries(e);this._write("\n  ]")}if(this._recordBatches.length>0){for(let t=-1,r=this._recordBatches.length;++t<r;)this._write(0===t?',\n  "batches": [\n    ':",\n    "),this._write(`${e=this._recordBatches[t],JSON.stringify({count:e.length,columns:b.JSONVectorAssembler.assemble(e)},null,2)}`),this._recordBatchBlocks.push(new c.FileBlock(0,0,0));this._write("\n  ]")}var e;return this._schema&&this._write("\n}"),this._dictionaries=[],this._recordBatches=[],super.close()}};function D(e,t){let i=t;t instanceof r.Table&&(i=t.chunks,e.reset(void 0,t.schema));for(let t of i)e.write(t);return e.finish()}function M(e,r){var i,n,s,a;return t.__awaiter(this,void 0,void 0,(function*(){try{for(i=t.__asyncValues(r);!(n=yield i.next()).done;){let t=n.value;e.write(t)}}catch(e){s={error:e}}finally{try{n&&!n.done&&(a=i.return)&&(yield a.call(i))}finally{if(s)throw s.error}}return e.finish()}))}function R({name:e,type:t,nullable:r}){let i=new y.JSONTypeAssembler;return{name:e,nullable:r,type:i.visit(t),children:(t.children||[]).map(R),dictionary:s.DataType.isDictionary(t)?{id:t.id,isOrdered:t.isOrdered,indexType:i.visit(t.indices)}:void 0}}e.RecordBatchJSONWriter=F})),Be=h((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.distributeVectorsIntoRecordBatches=e.distributeColumnsIntoRecordBatches=e.ensureSameLengthData=void 0;var t=A(),r=Q(),i=fe(),n=Xe(),s=new Uint8Array(0),a=e=>[s,s,new Uint8Array(e),s];function o(e,t){return function(e,t){let i,s=[...e.fields],a=[],o={numBatches:t.reduce(((e,t)=>Math.max(e,t.length)),0)},c=0,u=0,d=-1,h=t.length,f=[];for(;o.numBatches-- >0;){for(u=Number.POSITIVE_INFINITY,d=-1;++d<h;)f[d]=i=t[d].shift(),u=Math.min(u,i?i.length:u);isFinite(u)&&(f=l(s,u,f,t,o),u>0&&(a[c++]=[u,f.slice()]))}return[e=new r.Schema(s,e.metadata),a.map((t=>new n.RecordBatch(e,...t)))]}(e,t.map((e=>e instanceof i.Chunked?e.chunks.map((e=>e.data)):[e.data])))}function l(e,r,i,n,s){let o,l,c=0,u=-1,d=n.length,h=(r+63&-64)>>3;for(;++u<d;)(o=i[u])&&(c=o.length)>=r?c===r?i[u]=o:(i[u]=o.slice(0,r),o=o.slice(r,c-r),s.numBatches=Math.max(s.numBatches,n[u].unshift(o))):((l=e[u]).nullable||(e[u]=l.clone({nullable:!0})),i[u]=o?o._changeLengthAndBackfillNullBitmap(r):t.Data.new(l.type,0,r,r,a(h)));return i}e.ensureSameLengthData=function(e,i,n=i.reduce(((e,t)=>Math.max(e,t.length)),0)){let s,o,l=-1,c=i.length,u=[...e.fields],d=[],h=(n+63&-64)>>3;for(;++l<c;)(s=i[l])&&s.length===n?d[l]=s:((o=u[l]).nullable||(u[l]=u[l].clone({nullable:!0})),d[l]=s?s._changeLengthAndBackfillNullBitmap(n):t.Data.new(o.type,0,n,n,a(h)));return[new r.Schema(u),n,d]},e.distributeColumnsIntoRecordBatches=function(e){return o(new r.Schema(e.map((({field:e})=>e))),e)},e.distributeVectorsIntoRecordBatches=o})),Se=h((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.BaseVector=void 0;var t=B(),r=fe(),i=de(),n=w(),s=class extends n.AbstractVector{constructor(e,t){super(),this._children=t,this.numChildren=e.childData.length,this._bindDataAccessors(this.data=e)}get type(){return this.data.type}get typeId(){return this.data.typeId}get length(){return this.data.length}get offset(){return this.data.offset}get stride(){return this.data.stride}get nullCount(){return this.data.nullCount}get byteLength(){return this.data.byteLength}get VectorName(){return`${t.Type[this.typeId]}Vector`}get ArrayType(){return this.type.ArrayType}get values(){return this.data.values}get typeIds(){return this.data.typeIds}get nullBitmap(){return this.data.nullBitmap}get valueOffsets(){return this.data.valueOffsets}get[Symbol.toStringTag](){return`${this.VectorName}<${this.type[Symbol.toStringTag]}>`}clone(e,t=this._children){return n.Vector.new(e,t)}concat(...e){return r.Chunked.concat(this,...e)}slice(e,t){return i.clampRange(this,e,t,this._sliceInternal)}isValid(e){if(this.nullCount>0){let t=this.offset+e;return 0!=(this.nullBitmap[t>>3]&1<<t%8)}return!0}getChildAt(e){return e<0||e>=this.numChildren?null:(this._children||(this._children=[]))[e]||(this._children[e]=n.Vector.new(this.data.childData[e]))}toJSON(){return[...this]}_sliceInternal(e,t,r){return e.clone(e.data.slice(t,r-t),null)}_bindDataAccessors(e){}};e.BaseVector=s,s.prototype[Symbol.isConcatSpreadable]=!0})),Ee=h((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.BinaryVector=void 0;var t=w(),r=Se(),i=E(),n=class extends r.BaseVector{asUtf8(){return t.Vector.new(this.data.clone(new i.Utf8))}};e.BinaryVector=n})),Ae=h((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.BoolVector=void 0;var t=E(),r=Se(),i=Je(),n=class extends r.BaseVector{static from(e){return i.vectorFromValuesWithType((()=>new t.Bool),e)}};e.BoolVector=n})),Oe=h((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.DateMillisecondVector=e.DateDayVector=e.DateVector=void 0;var t=B(),r=Se(),i=Je(),n=E(),s=class extends r.BaseVector{static from(...e){return 2===e.length?i.vectorFromValuesWithType((()=>e[1]===t.DateUnit.DAY?new n.DateDay:new n.DateMillisecond),e[0]):i.vectorFromValuesWithType((()=>new n.DateMillisecond),e[0])}};e.DateVector=s,e.DateDayVector=class extends s{},e.DateMillisecondVector=class extends s{}})),Fe=h((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.DecimalVector=void 0;var t=Se(),r=class extends t.BaseVector{};e.DecimalVector=r})),De=h((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.DictionaryVector=void 0;var t=A(),r=w(),i=Se(),n=Je(),s=E(),a=class extends i.BaseVector{constructor(e){super(e),this.indices=r.Vector.new(e.clone(this.type.indices))}static from(...e){if(3===e.length){let[i,n,a]=e,o=new s.Dictionary(i.type,n,null,null);return r.Vector.new(t.Data.Dictionary(o,0,a.length,0,null,a,i))}return n.vectorFromValuesWithType((()=>e[0].type),e[0])}get dictionary(){return this.data.dictionary}reverseLookup(e){return this.dictionary.indexOf(e)}getKey(e){return this.indices.get(e)}getValue(e){return this.dictionary.get(e)}setKey(e,t){return this.indices.set(e,t)}setValue(e,t){return this.dictionary.set(e,t)}};e.DictionaryVector=a,a.prototype.indices=null})),Me=h((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.FixedSizeBinaryVector=void 0;var t=Se(),r=class extends t.BaseVector{};e.FixedSizeBinaryVector=r})),Re=h((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.FixedSizeListVector=void 0;var t=Se(),r=class extends t.BaseVector{};e.FixedSizeListVector=r})),Ue=h((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Float64Vector=e.Float32Vector=e.Float16Vector=e.FloatVector=void 0;var t=A(),r=w(),i=Se(),n=Je(),s=E(),a=class extends i.BaseVector{static from(e){let i=h(this);if(e instanceof ArrayBuffer||ArrayBuffer.isView(e)){let n=d(e.constructor)||i;if(null===i&&(i=n),i&&i===n){let n=new i,s=e.byteLength/n.ArrayType.BYTES_PER_ELEMENT;if(!u(i,e.constructor))return r.Vector.new(t.Data.Float(n,0,s,0,null,e))}}if(i)return n.vectorFromValuesWithType((()=>new i),e);throw e instanceof DataView||e instanceof ArrayBuffer?new TypeError(`Cannot infer float type from instance of ${e.constructor.name}`):new TypeError("Unrecognized FloatVector input")}};e.FloatVector=a;var o=class extends a{toFloat32Array(){return new Float32Array(this)}toFloat64Array(){return new Float64Array(this)}};e.Float16Vector=o;var l=class extends a{};e.Float32Vector=l;var c=class extends a{};e.Float64Vector=c;var u=(e,t)=>e===s.Float16&&t!==Uint16Array,d=e=>{switch(e){case Uint16Array:return s.Float16;case Float32Array:return s.Float32;case Float64Array:return s.Float64;default:return null}},h=e=>{switch(e){case o:return s.Float16;case l:return s.Float32;case c:return s.Float64;default:return null}}})),Ne=h((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.IntervalYearMonthVector=e.IntervalDayTimeVector=e.IntervalVector=void 0;var t=Se(),r=class extends t.BaseVector{};e.IntervalVector=r,e.IntervalDayTimeVector=class extends r{},e.IntervalYearMonthVector=class extends r{}})),Ve=h((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Uint64Vector=e.Uint32Vector=e.Uint16Vector=e.Uint8Vector=e.Int64Vector=e.Int32Vector=e.Int16Vector=e.Int8Vector=e.IntVector=void 0;var t=A(),r=w(),i=Se(),n=Je(),s=_(),a=g(),o=E(),l=class extends i.BaseVector{static from(...e){let[i,s=!1]=e,a=T(this,s);if(i instanceof ArrayBuffer||ArrayBuffer.isView(i)){let e=v(i.constructor,s)||a;if(null===a&&(a=e),a&&a===e){let e=new a,n=i.byteLength/e.ArrayType.BYTES_PER_ELEMENT;return m(a,i.constructor)&&(n*=.5),r.Vector.new(t.Data.Int(e,0,n,0,null,i))}}if(a)return n.vectorFromValuesWithType((()=>new a),i);throw i instanceof DataView||i instanceof ArrayBuffer?new TypeError(`Cannot infer integer type from instance of ${i.constructor.name}`):new TypeError("Unrecognized IntVector input")}};e.IntVector=l;var c=class extends l{};e.Int8Vector=c;var u=class extends l{};e.Int16Vector=u;var d=class extends l{};e.Int32Vector=d;var h=class extends l{toBigInt64Array(){return a.toBigInt64Array(this.values)}get values64(){return this._values64||(this._values64=this.toBigInt64Array())}};e.Int64Vector=h;var f=class extends l{};e.Uint8Vector=f;var p=class extends l{};e.Uint16Vector=p;var y=class extends l{};e.Uint32Vector=y;var b=class extends l{toBigUint64Array(){return a.toBigUint64Array(this.values)}get values64(){return this._values64||(this._values64=this.toBigUint64Array())}};e.Uint64Vector=b;var m=(e,t)=>!(e!==o.Int64&&e!==o.Uint64||t!==Int32Array&&t!==Uint32Array),v=(e,t)=>{switch(e){case Int8Array:return o.Int8;case Int16Array:return o.Int16;case Int32Array:return t?o.Int64:o.Int32;case s.BigInt64Array:return o.Int64;case Uint8Array:return o.Uint8;case Uint16Array:return o.Uint16;case Uint32Array:return t?o.Uint64:o.Uint32;case s.BigUint64Array:return o.Uint64;default:return null}},T=(e,t)=>{switch(e){case c:return o.Int8;case u:return o.Int16;case d:return t?o.Int64:o.Int32;case h:return o.Int64;case f:return o.Uint8;case p:return o.Uint16;case y:return t?o.Uint64:o.Uint32;case b:return o.Uint64;default:return null}}})),Pe=h((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ListVector=void 0;var t=Se(),r=class extends t.BaseVector{};e.ListVector=r})),Le=h((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.MapVector=void 0;var t=ue(),r=w(),i=Se(),n=E(),s=class extends i.BaseVector{asList(){let e=this.type.children[0];return r.Vector.new(this.data.clone(new n.List(e)))}bind(e){let r=this.getChildAt(0),{[e]:i,[e+1]:n}=this.valueOffsets;return new t.MapRow(r.slice(i,n))}};e.MapVector=s})),xe=h((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.NullVector=void 0;var t=Se(),r=class extends t.BaseVector{};e.NullVector=r})),ke=h((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.StructVector=void 0;var t=ue(),r=Se(),i=Symbol.for("rowIndex"),n=class extends r.BaseVector{bind(e){let r=this._row||(this._row=new t.StructRow(this)),n=Object.create(r);return n[i]=e,n}};e.StructVector=n})),je=h((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TimestampNanosecondVector=e.TimestampMicrosecondVector=e.TimestampMillisecondVector=e.TimestampSecondVector=e.TimestampVector=void 0;var t=Se(),r=class extends t.BaseVector{};e.TimestampVector=r,e.TimestampSecondVector=class extends r{},e.TimestampMillisecondVector=class extends r{},e.TimestampMicrosecondVector=class extends r{},e.TimestampNanosecondVector=class extends r{}})),Ce=h((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TimeNanosecondVector=e.TimeMicrosecondVector=e.TimeMillisecondVector=e.TimeSecondVector=e.TimeVector=void 0;var t=Se(),r=class extends t.BaseVector{};e.TimeVector=r,e.TimeSecondVector=class extends r{},e.TimeMillisecondVector=class extends r{},e.TimeMicrosecondVector=class extends r{},e.TimeNanosecondVector=class extends r{}})),ze=h((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.SparseUnionVector=e.DenseUnionVector=e.UnionVector=void 0;var t=Se(),r=class extends t.BaseVector{get typeIdToChildIndex(){return this.data.type.typeIdToChildIndex}};e.UnionVector=r,e.DenseUnionVector=class extends r{get valueOffsets(){return this.data.valueOffsets}},e.SparseUnionVector=class extends r{}})),We=h((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Utf8Vector=void 0;var t=w(),r=Se(),i=E(),n=Je(),s=class extends r.BaseVector{static from(e){return n.vectorFromValuesWithType((()=>new i.Utf8),e)}asBinary(){return t.Vector.new(this.data.clone(new i.Binary))}};e.Utf8Vector=s})),Ye=h((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.partial2=e.partial1=e.partial0=void 0,e.partial0=function(e){return function(){return e(this)}},e.partial1=function(e){return function(t){return e(this,t)}},e.partial2=function(e){return function(t,r){return e(this,t,r)}}})),Ge=h((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.instance=e.GetVisitor=void 0;var t=j(),r=ee(),i=b(),n=x(),s=B(),a=class extends r.Visitor{};e.GetVisitor=a;var o=(e,t)=>4294967296*e[t+1]+(e[t]>>>0),l=e=>new Date(e),c=(e,t,r)=>{let{[r]:i,[r+1]:n}=t;return null!=i&&null!=n?e.subarray(i,n):null},u=({values:e},t)=>((e,t)=>l(((e,t)=>864e5*e[t])(e,t)))(e,t),d=({values:e},t)=>((e,t)=>l(o(e,t)))(e,2*t),h=({stride:e,values:t},r)=>t[e*r],f=({stride:e,values:t},r)=>n.uint16ToFloat64(t[e*r]),p=({stride:e,values:r,type:i},n)=>t.BN.new(r.subarray(e*n,e*(n+1)),i.isSigned),y=({values:e},t)=>1e3*o(e,2*t),m=({values:e},t)=>o(e,2*t),_=({values:e},t)=>((e,t)=>e[t+1]/1e3*4294967296+(e[t]>>>0)/1e3)(e,2*t),g=({values:e},t)=>((e,t)=>e[t+1]/1e6*4294967296+(e[t]>>>0)/1e6)(e,2*t),v=({values:e,stride:t},r)=>e[t*r],w=({values:e,stride:t},r)=>e[t*r],T=({values:e},r)=>t.BN.signed(e.subarray(2*r,2*(r+1))),I=({values:e},r)=>t.BN.signed(e.subarray(2*r,2*(r+1))),S=(e,t)=>{let r=e.typeIdToChildIndex[e.typeIds[t]],i=e.getChildAt(r);return i?i.get(e.valueOffsets[t]):null},E=(e,t)=>{let r=e.typeIdToChildIndex[e.typeIds[t]],i=e.getChildAt(r);return i?i.get(t):null},A=({values:e},t)=>e.subarray(2*t,2*(t+1)),O=({values:e},t)=>{let r=e[t],i=new Int32Array(2);return i[0]=r/12|0,i[1]=r%12|0,i};a.prototype.visitNull=(e,t)=>null,a.prototype.visitBool=({offset:e,values:t},r)=>{let i=e+r;return 0!=(t[i>>3]&1<<i%8)},a.prototype.visitInt=(e,t)=>e.type.bitWidth<64?h(e,t):p(e,t),a.prototype.visitInt8=h,a.prototype.visitInt16=h,a.prototype.visitInt32=h,a.prototype.visitInt64=p,a.prototype.visitUint8=h,a.prototype.visitUint16=h,a.prototype.visitUint32=h,a.prototype.visitUint64=p,a.prototype.visitFloat=(e,t)=>e.type.precision!==s.Precision.HALF?h(e,t):f(e,t),a.prototype.visitFloat16=f,a.prototype.visitFloat32=h,a.prototype.visitFloat64=h,a.prototype.visitUtf8=({values:e,valueOffsets:t},r)=>{let n=c(e,t,r);return null!==n?i.decodeUtf8(n):null},a.prototype.visitBinary=({values:e,valueOffsets:t},r)=>c(e,t,r),a.prototype.visitFixedSizeBinary=({stride:e,values:t},r)=>t.subarray(e*r,e*(r+1)),a.prototype.visitDate=(e,t)=>e.type.unit===s.DateUnit.DAY?u(e,t):d(e,t),a.prototype.visitDateDay=u,a.prototype.visitDateMillisecond=d,a.prototype.visitTimestamp=(e,t)=>{switch(e.type.unit){case s.TimeUnit.SECOND:return y(e,t);case s.TimeUnit.MILLISECOND:return m(e,t);case s.TimeUnit.MICROSECOND:return _(e,t);case s.TimeUnit.NANOSECOND:return g(e,t)}},a.prototype.visitTimestampSecond=y,a.prototype.visitTimestampMillisecond=m,a.prototype.visitTimestampMicrosecond=_,a.prototype.visitTimestampNanosecond=g,a.prototype.visitTime=(e,t)=>{switch(e.type.unit){case s.TimeUnit.SECOND:return v(e,t);case s.TimeUnit.MILLISECOND:return w(e,t);case s.TimeUnit.MICROSECOND:return T(e,t);case s.TimeUnit.NANOSECOND:return I(e,t)}},a.prototype.visitTimeSecond=v,a.prototype.visitTimeMillisecond=w,a.prototype.visitTimeMicrosecond=T,a.prototype.visitTimeNanosecond=I,a.prototype.visitDecimal=({values:e},r)=>t.BN.decimal(e.subarray(4*r,4*(r+1))),a.prototype.visitList=(e,t)=>{let r=e.getChildAt(0),{valueOffsets:i,stride:n}=e;return r.slice(i[t*n],i[t*n+1])},a.prototype.visitStruct=(e,t)=>e.bind(t),a.prototype.visitUnion=(e,t)=>e.type.mode===s.UnionMode.Dense?S(e,t):E(e,t),a.prototype.visitDenseUnion=S,a.prototype.visitSparseUnion=E,a.prototype.visitDictionary=(e,t)=>e.getValue(e.getKey(t)),a.prototype.visitInterval=(e,t)=>e.type.unit===s.IntervalUnit.DAY_TIME?A(e,t):O(e,t),a.prototype.visitIntervalDayTime=A,a.prototype.visitIntervalYearMonth=O,a.prototype.visitFixedSizeList=(e,t)=>{let r=e.getChildAt(0),{stride:i}=e;return r.slice(t*i,(t+1)*i)},a.prototype.visitMap=(e,t)=>e.bind(t),e.instance=new a})),He=h((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.instance=e.IndexOfVisitor=void 0;var t=ee(),r=S(),i=de(),n=class extends t.Visitor{};function s(e,t,n){if(void 0===t)return-1;if(null===t)return function(e,t){let{nullBitmap:i}=e.data;if(!i||e.nullCount<=0)return-1;let n=0;for(let s of new r.BitIterator(i,e.data.offset+(t||0),e.length,i,r.getBool)){if(!s)return n;++n}return-1}(e,n);let s=i.createElementComparator(t);for(let t=(n||0)-1,r=e.length;++t<r;)if(s(e.get(t)))return t;return-1}function a(e,t,r){let n=i.createElementComparator(t);for(let t=(r||0)-1,i=e.length;++t<i;)if(n(e.get(t)))return t;return-1}e.IndexOfVisitor=n,n.prototype.visitNull=function(e,t){return null===t&&e.length>0?0:-1},n.prototype.visitBool=s,n.prototype.visitInt=s,n.prototype.visitInt8=s,n.prototype.visitInt16=s,n.prototype.visitInt32=s,n.prototype.visitInt64=s,n.prototype.visitUint8=s,n.prototype.visitUint16=s,n.prototype.visitUint32=s,n.prototype.visitUint64=s,n.prototype.visitFloat=s,n.prototype.visitFloat16=s,n.prototype.visitFloat32=s,n.prototype.visitFloat64=s,n.prototype.visitUtf8=s,n.prototype.visitBinary=s,n.prototype.visitFixedSizeBinary=s,n.prototype.visitDate=s,n.prototype.visitDateDay=s,n.prototype.visitDateMillisecond=s,n.prototype.visitTimestamp=s,n.prototype.visitTimestampSecond=s,n.prototype.visitTimestampMillisecond=s,n.prototype.visitTimestampMicrosecond=s,n.prototype.visitTimestampNanosecond=s,n.prototype.visitTime=s,n.prototype.visitTimeSecond=s,n.prototype.visitTimeMillisecond=s,n.prototype.visitTimeMicrosecond=s,n.prototype.visitTimeNanosecond=s,n.prototype.visitDecimal=s,n.prototype.visitList=s,n.prototype.visitStruct=s,n.prototype.visitUnion=s,n.prototype.visitDenseUnion=a,n.prototype.visitSparseUnion=a,n.prototype.visitDictionary=s,n.prototype.visitInterval=s,n.prototype.visitIntervalDayTime=s,n.prototype.visitIntervalYearMonth=s,n.prototype.visitFixedSizeList=s,n.prototype.visitMap=s,e.instance=new n})),Ke=h((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.instance=e.IteratorVisitor=void 0;var t=B(),r=ee(),i=S(),n=Ge(),s=class extends r.Visitor{};e.IteratorVisitor=s;var a=class{constructor(e,t){this.vector=e,this.getFn=t,this.index=0}next(){return this.index<this.vector.length?{value:this.getFn(this.vector,this.index++)}:{done:!0,value:null}}[Symbol.iterator](){return this}};function o(e){if(e.nullCount>0)return function(e){let t=n.instance.getVisitFn(e);return new i.BitIterator(e.data.nullBitmap,e.data.offset,e.length,e,((e,r,i,n)=>0!=(i&1<<n)?t(e,r):null))}(e);let{type:r,typeId:s,length:o}=e;return 1===e.stride&&(s===t.Type.Timestamp||s===t.Type.Int&&64!==r.bitWidth||s===t.Type.Time&&64!==r.bitWidth||s===t.Type.Float&&r.precision>0)?e.data.values.subarray(0,o)[Symbol.iterator]():new a(e,n.instance.getVisitFn(e))}s.prototype.visitNull=o,s.prototype.visitBool=o,s.prototype.visitInt=o,s.prototype.visitInt8=o,s.prototype.visitInt16=o,s.prototype.visitInt32=o,s.prototype.visitInt64=o,s.prototype.visitUint8=o,s.prototype.visitUint16=o,s.prototype.visitUint32=o,s.prototype.visitUint64=o,s.prototype.visitFloat=o,s.prototype.visitFloat16=o,s.prototype.visitFloat32=o,s.prototype.visitFloat64=o,s.prototype.visitUtf8=o,s.prototype.visitBinary=o,s.prototype.visitFixedSizeBinary=o,s.prototype.visitDate=o,s.prototype.visitDateDay=o,s.prototype.visitDateMillisecond=o,s.prototype.visitTimestamp=o,s.prototype.visitTimestampSecond=o,s.prototype.visitTimestampMillisecond=o,s.prototype.visitTimestampMicrosecond=o,s.prototype.visitTimestampNanosecond=o,s.prototype.visitTime=o,s.prototype.visitTimeSecond=o,s.prototype.visitTimeMillisecond=o,s.prototype.visitTimeMicrosecond=o,s.prototype.visitTimeNanosecond=o,s.prototype.visitDecimal=o,s.prototype.visitList=o,s.prototype.visitStruct=o,s.prototype.visitUnion=o,s.prototype.visitDenseUnion=o,s.prototype.visitSparseUnion=o,s.prototype.visitDictionary=o,s.prototype.visitInterval=o,s.prototype.visitIntervalDayTime=o,s.prototype.visitIntervalYearMonth=o,s.prototype.visitFixedSizeList=o,s.prototype.visitMap=o,e.instance=new s})),Qe=h((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.instance=e.ToArrayVisitor=void 0;var t=B(),r=ee(),i=Ke(),n=class extends r.Visitor{};function s(e){let{type:r,length:n,stride:s}=e;switch(r.typeId){case t.Type.Int:case t.Type.Float:case t.Type.Decimal:case t.Type.Time:case t.Type.Timestamp:return e.data.values.subarray(0,n*s)}return[...i.instance.visit(e)]}e.ToArrayVisitor=n,n.prototype.visitNull=s,n.prototype.visitBool=s,n.prototype.visitInt=s,n.prototype.visitInt8=s,n.prototype.visitInt16=s,n.prototype.visitInt32=s,n.prototype.visitInt64=s,n.prototype.visitUint8=s,n.prototype.visitUint16=s,n.prototype.visitUint32=s,n.prototype.visitUint64=s,n.prototype.visitFloat=s,n.prototype.visitFloat16=s,n.prototype.visitFloat32=s,n.prototype.visitFloat64=s,n.prototype.visitUtf8=s,n.prototype.visitBinary=s,n.prototype.visitFixedSizeBinary=s,n.prototype.visitDate=s,n.prototype.visitDateDay=s,n.prototype.visitDateMillisecond=s,n.prototype.visitTimestamp=s,n.prototype.visitTimestampSecond=s,n.prototype.visitTimestampMillisecond=s,n.prototype.visitTimestampMicrosecond=s,n.prototype.visitTimestampNanosecond=s,n.prototype.visitTime=s,n.prototype.visitTimeSecond=s,n.prototype.visitTimeMillisecond=s,n.prototype.visitTimeMicrosecond=s,n.prototype.visitTimeNanosecond=s,n.prototype.visitDecimal=s,n.prototype.visitList=s,n.prototype.visitStruct=s,n.prototype.visitUnion=s,n.prototype.visitDenseUnion=s,n.prototype.visitSparseUnion=s,n.prototype.visitDictionary=s,n.prototype.visitInterval=s,n.prototype.visitIntervalDayTime=s,n.prototype.visitIntervalYearMonth=s,n.prototype.visitFixedSizeList=s,n.prototype.visitMap=s,e.instance=new n})),qe=h((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.instance=e.ByteWidthVisitor=void 0;var t=ee(),r=B(),i=(e,t)=>e+t,n=e=>`Cannot compute the byte width of variable-width column ${e}`,s=class extends t.Visitor{visitNull(e){return 0}visitInt(e){return e.bitWidth/8}visitFloat(e){return e.ArrayType.BYTES_PER_ELEMENT}visitBinary(e){throw new Error(n(e))}visitUtf8(e){throw new Error(n(e))}visitBool(e){return 1/8}visitDecimal(e){return 16}visitDate(e){return 4*(e.unit+1)}visitTime(e){return e.bitWidth/8}visitTimestamp(e){return e.unit===r.TimeUnit.SECOND?4:8}visitInterval(e){return 4*(e.unit+1)}visitList(e){throw new Error(n(e))}visitStruct(e){return this.visitFields(e.children).reduce(i,0)}visitUnion(e){return this.visitFields(e.children).reduce(i,0)}visitFixedSizeBinary(e){return e.byteWidth}visitFixedSizeList(e){return e.listSize*this.visitFields(e.children).reduce(i,0)}visitMap(e){return this.visitFields(e.children).reduce(i,0)}visitDictionary(e){return this.visit(e.indices)}visitFields(e){return(e||[]).map((e=>this.visit(e.type)))}visitSchema(e){return this.visitFields(e.fields).reduce(i,0)}};e.ByteWidthVisitor=s,e.instance=new s})),$e=h((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.instance=e.GetVectorConstructor=void 0;var t=ee(),r=Ee(),i=Ae(),n=Oe(),s=Fe(),a=De(),o=Me(),l=Re(),c=Ue(),u=Ne(),d=Ve(),h=Pe(),f=Le(),p=xe(),y=ke(),b=je(),m=Ce(),_=ze(),g=We(),v=class extends t.Visitor{visitNull(){return p.NullVector}visitBool(){return i.BoolVector}visitInt(){return d.IntVector}visitInt8(){return d.Int8Vector}visitInt16(){return d.Int16Vector}visitInt32(){return d.Int32Vector}visitInt64(){return d.Int64Vector}visitUint8(){return d.Uint8Vector}visitUint16(){return d.Uint16Vector}visitUint32(){return d.Uint32Vector}visitUint64(){return d.Uint64Vector}visitFloat(){return c.FloatVector}visitFloat16(){return c.Float16Vector}visitFloat32(){return c.Float32Vector}visitFloat64(){return c.Float64Vector}visitUtf8(){return g.Utf8Vector}visitBinary(){return r.BinaryVector}visitFixedSizeBinary(){return o.FixedSizeBinaryVector}visitDate(){return n.DateVector}visitDateDay(){return n.DateDayVector}visitDateMillisecond(){return n.DateMillisecondVector}visitTimestamp(){return b.TimestampVector}visitTimestampSecond(){return b.TimestampSecondVector}visitTimestampMillisecond(){return b.TimestampMillisecondVector}visitTimestampMicrosecond(){return b.TimestampMicrosecondVector}visitTimestampNanosecond(){return b.TimestampNanosecondVector}visitTime(){return m.TimeVector}visitTimeSecond(){return m.TimeSecondVector}visitTimeMillisecond(){return m.TimeMillisecondVector}visitTimeMicrosecond(){return m.TimeMicrosecondVector}visitTimeNanosecond(){return m.TimeNanosecondVector}visitDecimal(){return s.DecimalVector}visitList(){return h.ListVector}visitStruct(){return y.StructVector}visitUnion(){return _.UnionVector}visitDenseUnion(){return _.DenseUnionVector}visitSparseUnion(){return _.SparseUnionVector}visitDictionary(){return a.DictionaryVector}visitInterval(){return u.IntervalVector}visitIntervalDayTime(){return u.IntervalDayTimeVector}visitIntervalYearMonth(){return u.IntervalYearMonthVector}visitFixedSizeList(){return l.FixedSizeListVector}visitMap(){return f.MapVector}};e.GetVectorConstructor=v,e.instance=new v})),Je=h((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.vectorFromValuesWithType=e.StructRow=e.MapRow=e.Utf8Vector=e.SparseUnionVector=e.DenseUnionVector=e.UnionVector=e.TimeNanosecondVector=e.TimeMicrosecondVector=e.TimeMillisecondVector=e.TimeSecondVector=e.TimeVector=e.TimestampNanosecondVector=e.TimestampMicrosecondVector=e.TimestampMillisecondVector=e.TimestampSecondVector=e.TimestampVector=e.StructVector=e.NullVector=e.MapVector=e.ListVector=e.Uint64Vector=e.Uint32Vector=e.Uint16Vector=e.Uint8Vector=e.Int64Vector=e.Int32Vector=e.Int16Vector=e.Int8Vector=e.IntVector=e.IntervalYearMonthVector=e.IntervalDayTimeVector=e.IntervalVector=e.Float64Vector=e.Float32Vector=e.Float16Vector=e.FloatVector=e.FixedSizeListVector=e.FixedSizeBinaryVector=e.DictionaryVector=e.DecimalVector=e.DateMillisecondVector=e.DateDayVector=e.DateVector=e.Chunked=e.BoolVector=e.BinaryVector=e.BaseVector=e.Vector=void 0;var t=p(),r=w();Object.defineProperty(e,"Vector",{enumerable:!0,get:function(){return r.Vector}});var i=Se();Object.defineProperty(e,"BaseVector",{enumerable:!0,get:function(){return i.BaseVector}});var n=Ee();Object.defineProperty(e,"BinaryVector",{enumerable:!0,get:function(){return n.BinaryVector}});var s=Ae();Object.defineProperty(e,"BoolVector",{enumerable:!0,get:function(){return s.BoolVector}});var a=fe();Object.defineProperty(e,"Chunked",{enumerable:!0,get:function(){return a.Chunked}});var o=Oe();Object.defineProperty(e,"DateVector",{enumerable:!0,get:function(){return o.DateVector}}),Object.defineProperty(e,"DateDayVector",{enumerable:!0,get:function(){return o.DateDayVector}}),Object.defineProperty(e,"DateMillisecondVector",{enumerable:!0,get:function(){return o.DateMillisecondVector}});var l=Fe();Object.defineProperty(e,"DecimalVector",{enumerable:!0,get:function(){return l.DecimalVector}});var c=De();Object.defineProperty(e,"DictionaryVector",{enumerable:!0,get:function(){return c.DictionaryVector}});var u=Me();Object.defineProperty(e,"FixedSizeBinaryVector",{enumerable:!0,get:function(){return u.FixedSizeBinaryVector}});var d=Re();Object.defineProperty(e,"FixedSizeListVector",{enumerable:!0,get:function(){return d.FixedSizeListVector}});var h=Ue();Object.defineProperty(e,"FloatVector",{enumerable:!0,get:function(){return h.FloatVector}}),Object.defineProperty(e,"Float16Vector",{enumerable:!0,get:function(){return h.Float16Vector}}),Object.defineProperty(e,"Float32Vector",{enumerable:!0,get:function(){return h.Float32Vector}}),Object.defineProperty(e,"Float64Vector",{enumerable:!0,get:function(){return h.Float64Vector}});var f=Ne();Object.defineProperty(e,"IntervalVector",{enumerable:!0,get:function(){return f.IntervalVector}}),Object.defineProperty(e,"IntervalDayTimeVector",{enumerable:!0,get:function(){return f.IntervalDayTimeVector}}),Object.defineProperty(e,"IntervalYearMonthVector",{enumerable:!0,get:function(){return f.IntervalYearMonthVector}});var y=Ve();Object.defineProperty(e,"IntVector",{enumerable:!0,get:function(){return y.IntVector}}),Object.defineProperty(e,"Int8Vector",{enumerable:!0,get:function(){return y.Int8Vector}}),Object.defineProperty(e,"Int16Vector",{enumerable:!0,get:function(){return y.Int16Vector}}),Object.defineProperty(e,"Int32Vector",{enumerable:!0,get:function(){return y.Int32Vector}}),Object.defineProperty(e,"Int64Vector",{enumerable:!0,get:function(){return y.Int64Vector}}),Object.defineProperty(e,"Uint8Vector",{enumerable:!0,get:function(){return y.Uint8Vector}}),Object.defineProperty(e,"Uint16Vector",{enumerable:!0,get:function(){return y.Uint16Vector}}),Object.defineProperty(e,"Uint32Vector",{enumerable:!0,get:function(){return y.Uint32Vector}}),Object.defineProperty(e,"Uint64Vector",{enumerable:!0,get:function(){return y.Uint64Vector}});var b=Pe();Object.defineProperty(e,"ListVector",{enumerable:!0,get:function(){return b.ListVector}});var m=Le();Object.defineProperty(e,"MapVector",{enumerable:!0,get:function(){return m.MapVector}});var g=xe();Object.defineProperty(e,"NullVector",{enumerable:!0,get:function(){return g.NullVector}});var v=ke();Object.defineProperty(e,"StructVector",{enumerable:!0,get:function(){return v.StructVector}});var T=je();Object.defineProperty(e,"TimestampVector",{enumerable:!0,get:function(){return T.TimestampVector}}),Object.defineProperty(e,"TimestampSecondVector",{enumerable:!0,get:function(){return T.TimestampSecondVector}}),Object.defineProperty(e,"TimestampMillisecondVector",{enumerable:!0,get:function(){return T.TimestampMillisecondVector}}),Object.defineProperty(e,"TimestampMicrosecondVector",{enumerable:!0,get:function(){return T.TimestampMicrosecondVector}}),Object.defineProperty(e,"TimestampNanosecondVector",{enumerable:!0,get:function(){return T.TimestampNanosecondVector}});var I=Ce();Object.defineProperty(e,"TimeVector",{enumerable:!0,get:function(){return I.TimeVector}}),Object.defineProperty(e,"TimeSecondVector",{enumerable:!0,get:function(){return I.TimeSecondVector}}),Object.defineProperty(e,"TimeMillisecondVector",{enumerable:!0,get:function(){return I.TimeMillisecondVector}}),Object.defineProperty(e,"TimeMicrosecondVector",{enumerable:!0,get:function(){return I.TimeMicrosecondVector}}),Object.defineProperty(e,"TimeNanosecondVector",{enumerable:!0,get:function(){return I.TimeNanosecondVector}});var E=ze();Object.defineProperty(e,"UnionVector",{enumerable:!0,get:function(){return E.UnionVector}}),Object.defineProperty(e,"DenseUnionVector",{enumerable:!0,get:function(){return E.DenseUnionVector}}),Object.defineProperty(e,"SparseUnionVector",{enumerable:!0,get:function(){return E.SparseUnionVector}});var A=We();Object.defineProperty(e,"Utf8Vector",{enumerable:!0,get:function(){return A.Utf8Vector}});var O=ue();Object.defineProperty(e,"MapRow",{enumerable:!0,get:function(){return O.MapRow}}),Object.defineProperty(e,"StructRow",{enumerable:!0,get:function(){return O.StructRow}});var F=Ye(),D=B(),R=w(),U=fe(),N=Se(),V=S(),P=_(),L=M(),x=Ge(),k=te(),j=He(),C=Qe(),z=Ke(),W=qe(),Y=$e();R.Vector.new=function(e,...t){return new(Y.instance.getVisitFn(e)())(e,...t)},R.Vector.from=function(e){let r=Object.assign({nullValues:[null,void 0]},e),{values:i=[]}=r,n=t.__rest(r,["values"]);if(P.isIterable(i)){let e=[...L.Builder.throughIterable(n)(i)];return 1===e.length?e[0]:U.Chunked.concat(e)}return(e=>t.__awaiter(this,void 0,void 0,(function*(){var r,s;let a=L.Builder.throughAsyncIterable(n);try{for(var o,l=t.__asyncValues(a(i));!(o=yield l.next()).done;){let t=o.value;e.push(t)}}catch(e){r={error:e}}finally{try{o&&!o.done&&(s=l.return)&&(yield s.call(l))}finally{if(r)throw r.error}}return 1===e.length?e[0]:U.Chunked.concat(e)})))([])},e.vectorFromValuesWithType=function(e,t){if(P.isIterable(t))return R.Vector.from({nullValues:[null,void 0],type:e(),values:t});if(P.isAsyncIterable(t))return R.Vector.from({nullValues:[null,void 0],type:e(),values:t});let{values:r=[],type:i=e(),nullValues:n=[null,void 0]}=Object.assign({},t);return P.isIterable(r),R.Vector.from(Object.assign(Object.assign({nullValues:n},t),{type:i}))},N.BaseVector.prototype.get=function(e){return x.instance.visit(this,e)},N.BaseVector.prototype.set=function(e,t){return k.instance.visit(this,e,t)},N.BaseVector.prototype.indexOf=function(e,t){return j.instance.visit(this,e,t)},N.BaseVector.prototype.toArray=function(){return C.instance.visit(this)},N.BaseVector.prototype.getByteWidth=function(){return W.instance.visit(this.type)},N.BaseVector.prototype[Symbol.iterator]=function(){return z.instance.visit(this)},N.BaseVector.prototype._bindDataAccessors=function(){let e=this.nullBitmap;e&&e.byteLength>0&&(this.get=function(e){return function(t){return this.isValid(t)?e.call(this,t):null}}(this.get),this.set=function(e){return function(t,r){V.setBool(this.nullBitmap,this.offset+t,null!=r)&&e.call(this,t,r)}}(this.set))},Object.keys(D.Type).map((e=>D.Type[e])).filter((e=>"number"==typeof e)).filter((e=>e!==D.Type.NONE)).forEach((e=>{let t=Y.instance.visit(e);t.prototype.get=F.partial1(x.instance.getVisitFn(e)),t.prototype.set=F.partial2(k.instance.getVisitFn(e)),t.prototype.indexOf=F.partial2(j.instance.getVisitFn(e)),t.prototype.toArray=F.partial0(C.instance.getVisitFn(e)),t.prototype.getByteWidth=function(e){return function(){return e(this.type)}}(W.instance.getVisitFn(e)),t.prototype[Symbol.iterator]=F.partial0(z.instance.getVisitFn(e))}))})),Ze=h((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Table=void 0;var t=p(),r=pe(),i=et(),n=Ie(),s=Xe(),a=Q(),o=E(),l=he(),c=_(),u=Be(),d=Je(),h=class extends d.Chunked{constructor(...e){var t;let r=null;e[0]instanceof a.Schema&&(r=e[0]);let i=e[0]instanceof h?e[0].chunks:l.selectArgs(s.RecordBatch,e);if(!r&&!(r=null===(t=i[0])||void 0===t?void 0:t.schema))throw new TypeError("Table must be initialized with a Schema or at least one RecordBatch");i[0]||(i[0]=new s._InternalEmptyPlaceholderRecordBatch(r)),super(new o.Struct(r.fields),i),this._schema=r,this._chunks=i}static empty(e=new a.Schema([])){return new h(e,[])}static from(e){if(!e)return h.empty();if("object"==typeof e){let t=c.isIterable(e.values)?function(e){let{type:t}=e;return t instanceof o.Struct?h.fromStruct(d.StructVector.from(e)):null}(e):c.isAsyncIterable(e.values)?function(e){let{type:t}=e;return t instanceof o.Struct?d.StructVector.from(e).then((e=>h.fromStruct(e))):null}(e):null;if(null!==t)return t}let r=i.RecordBatchReader.from(e);return c.isPromise(r)?(()=>t.__awaiter(this,void 0,void 0,(function*(){return yield h.from(yield r)})))():r.isSync()&&(r=r.open())?r.schema?new h(r.schema,[...r]):h.empty():(e=>t.__awaiter(this,void 0,void 0,(function*(){var r,i;let n=yield e,s=n.schema,a=[];if(s){try{for(var o,l=t.__asyncValues(n);!(o=yield l.next()).done;){let e=o.value;a.push(e)}}catch(e){r={error:e}}finally{try{o&&!o.done&&(i=l.return)&&(yield i.call(l))}finally{if(r)throw r.error}}return new h(s,a)}return h.empty()})))(r.open())}static fromAsync(e){return t.__awaiter(this,void 0,void 0,(function*(){return yield h.from(e)}))}static fromStruct(e){return h.new(e.data.childData,e.type.children)}static new(...e){return new h(...u.distributeColumnsIntoRecordBatches(l.selectColumnArgs(e)))}get schema(){return this._schema}get length(){return this._length}get chunks(){return this._chunks}get numCols(){return this._numChildren}clone(e=this._chunks){return new h(this._schema,e)}getColumn(e){return this.getColumnAt(this.getColumnIndex(e))}getColumnAt(e){return this.getChildAt(e)}getColumnIndex(e){return this._schema.fields.findIndex((t=>t.name===e))}getChildAt(e){if(e<0||e>=this.numChildren)return null;let t,i,n=this._schema.fields,s=this._children||(this._children=[]);if(i=s[e])return i;if(t=n[e]){let i=this._chunks.map((t=>t.getChildAt(e))).filter((e=>null!=e));if(i.length>0)return s[e]=new r.Column(t,i)}return null}serialize(e="binary",t=!0){return(t?n.RecordBatchStreamWriter:n.RecordBatchFileWriter).writeAll(this).toUint8Array(!0)}count(){return this._length}select(...e){let t=this._schema.fields.reduce(((e,t,r)=>e.set(t.name,r)),new Map);return this.selectAt(...e.map((e=>t.get(e))).filter((e=>e>-1)))}selectAt(...e){let t=this._schema.selectAt(...e);return new h(t,this._chunks.map((({length:r,data:{childData:i}})=>new s.RecordBatch(t,r,e.map((e=>i[e])).filter(Boolean)))))}assign(e){let t=this._schema.fields,[r,i]=e.schema.fields.reduce(((e,r,i)=>{let[n,s]=e,a=t.findIndex((e=>e.name===r.name));return~a?s[a]=i:n.push(i),e}),[[],[]]),n=this._schema.assign(e.schema),s=[...t.map(((t,r,n,s=i[r])=>void 0===s?this.getColumnAt(r):e.getColumnAt(s))),...r.map((t=>e.getColumnAt(t)))].filter(Boolean);return new h(...u.distributeVectorsIntoRecordBatches(n,s))}};e.Table=h})),Xe=h((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e._InternalEmptyPlaceholderRecordBatch=e.RecordBatch=void 0;var t=A(),r=Ze(),i=w(),n=ee(),s=Q(),a=_(),o=fe(),l=he(),c=E(),u=Be(),d=Je(),h=class extends d.StructVector{constructor(...e){let r,i,n=e[0];if(e[1]instanceof t.Data)[,r,i]=e;else{let i=n.fields,[,s,a]=e;r=t.Data.Struct(new c.Struct(i),0,s,0,null,a)}super(r,i),this._schema=n}static from(e){return a.isIterable(e.values),r.Table.from(e)}static new(...e){let[t,r]=l.selectFieldArgs(e),n=r.filter((e=>e instanceof i.Vector));return new h(...u.ensureSameLengthData(new s.Schema(t),n.map((e=>e.data))))}clone(e,t=this._children){return new h(this._schema,e,t)}concat(...e){let t=this._schema,i=o.Chunked.flatten(this,...e);return new r.Table(t,i.map((({data:e})=>new h(t,e))))}get schema(){return this._schema}get numCols(){return this._schema.fields.length}get dictionaries(){return this._dictionaries||(this._dictionaries=f.collect(this))}select(...e){let t=this._schema.fields.reduce(((e,t,r)=>e.set(t.name,r)),new Map);return this.selectAt(...e.map((e=>t.get(e))).filter((e=>e>-1)))}selectAt(...e){let t=this._schema.selectAt(...e),r=e.map((e=>this.data.childData[e])).filter(Boolean);return new h(t,this.length,r)}};e.RecordBatch=h,e._InternalEmptyPlaceholderRecordBatch=class extends h{constructor(e){super(e,0,e.fields.map((e=>t.Data.new(e.type,0,0,0))))}};var f=class extends n.Visitor{constructor(){super(...arguments),this.dictionaries=new Map}static collect(e){return(new f).visit(e.data,new c.Struct(e.schema.fields)).dictionaries}visit(e,t){return c.DataType.isDictionary(t)?this.visitDictionary(e,t):(e.childData.forEach(((e,r)=>this.visit(e,t.children[r].type))),this)}visitDictionary(e,t){let r=e.dictionary;return r&&r.length>0&&this.dictionaries.set(t.id,r),this}}})),et=h((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.AsyncRecordBatchFileReader=e.RecordBatchFileReader=e.AsyncRecordBatchStreamReader=e.RecordBatchStreamReader=e.RecordBatchReader=void 0;var t=p(),r=w(),i=B(),n=se(),s=v(),a=ae(),o=oe(),l=ce(),c=Xe(),u=m(),d=_e(),h=_(),f=class extends u.ReadableInterop{constructor(e){super(),this._impl=e}get closed(){return this._impl.closed}get schema(){return this._impl.schema}get autoDestroy(){return this._impl.autoDestroy}get dictionaries(){return this._impl.dictionaries}get numDictionaries(){return this._impl.numDictionaries}get numRecordBatches(){return this._impl.numRecordBatches}get footer(){return this._impl.isFile()?this._impl.footer:null}isSync(){return this._impl.isSync()}isAsync(){return this._impl.isAsync()}isFile(){return this._impl.isFile()}isStream(){return this._impl.isStream()}next(){return this._impl.next()}throw(e){return this._impl.throw(e)}return(e){return this._impl.return(e)}cancel(){return this._impl.cancel()}reset(e){return this._impl.reset(e),this._DOMStream=void 0,this._nodeStream=void 0,this}open(e){let t=this._impl.open(e);return h.isPromise(t)?t.then((()=>this)):this}readRecordBatch(e){return this._impl.isFile()?this._impl.readRecordBatch(e):null}[Symbol.iterator](){return this._impl[Symbol.iterator]()}[Symbol.asyncIterator](){return this._impl[Symbol.asyncIterator]()}toDOMStream(){return s.default.toDOMStream(this.isSync()?{[Symbol.iterator]:()=>this}:{[Symbol.asyncIterator]:()=>this})}toNodeStream(){return s.default.toNodeStream(this.isSync()?{[Symbol.iterator]:()=>this}:{[Symbol.asyncIterator]:()=>this},{objectMode:!0})}static throughNode(e){throw new Error('"throughNode" not available in this environment')}static throughDOM(e,t){throw new Error('"throughDOM" not available in this environment')}static from(e){return e instanceof f?e:h.isArrowJSON(e)?new y(new F(e)):h.isFileHandle(e)?function(e){return t.__awaiter(this,void 0,void 0,(function*(){let{size:t}=yield e.stat(),r=new o.AsyncRandomAccessFile(e,t);return t>=d.magicX2AndPadding&&d.checkForMagicArrowString(yield r.readAt(0,d.magicLength+7&-8))?new T(new O(r)):new b(new E(r))}))}(e):h.isPromise(e)?(()=>t.__awaiter(this,void 0,void 0,(function*(){return yield f.from(yield e)})))():h.isFetchResponse(e)||h.isReadableDOMStream(e)||h.isReadableNodeStream(e)||h.isAsyncIterable(e)?function(e){return t.__awaiter(this,void 0,void 0,(function*(){let r=yield e.peek(d.magicLength+7&-8);return r&&r.byteLength>=4?d.checkForMagicArrowString(r)?new g(new A(yield e.read())):new b(new E(e)):new b(new E(function(){return t.__asyncGenerator(this,arguments,(function*(){}))}()))}))}(new a.AsyncByteStream(e)):function(e){let t=e.peek(d.magicLength+7&-8);return t&&t.byteLength>=4?d.checkForMagicArrowString(t)?new g(new A(e.read())):new y(new S(e)):new y(new S(function*(){}()))}(new a.ByteStream(e))}static readAll(e){return e instanceof f?e.isSync()?M(e):R(e):h.isArrowJSON(e)||ArrayBuffer.isView(e)||h.isIterable(e)||h.isIteratorResult(e)?M(e):R(e)}};e.RecordBatchReader=f;var y=class extends f{constructor(e){super(e),this._impl=e}[Symbol.iterator](){return this._impl[Symbol.iterator]()}[Symbol.asyncIterator](){return t.__asyncGenerator(this,arguments,(function*(){yield t.__await(yield*t.__asyncDelegator(t.__asyncValues(this[Symbol.iterator]())))}))}};e.RecordBatchStreamReader=y;var b=class extends f{constructor(e){super(e),this._impl=e}[Symbol.iterator](){throw new Error("AsyncRecordBatchStreamReader is not Iterable")}[Symbol.asyncIterator](){return this._impl[Symbol.asyncIterator]()}};e.AsyncRecordBatchStreamReader=b;var g=class extends y{constructor(e){super(e),this._impl=e}};e.RecordBatchFileReader=g;var T=class extends b{constructor(e){super(e),this._impl=e}};e.AsyncRecordBatchFileReader=T;var I=class{constructor(e=new Map){this.closed=!1,this.autoDestroy=!0,this._dictionaryIndex=0,this._recordBatchIndex=0,this.dictionaries=e}get numDictionaries(){return this._dictionaryIndex}get numRecordBatches(){return this._recordBatchIndex}isSync(){return!1}isAsync(){return!1}isFile(){return!1}isStream(){return!1}reset(e){return this._dictionaryIndex=0,this._recordBatchIndex=0,this.schema=e,this.dictionaries=new Map,this}_loadRecordBatch(e,t){return new c.RecordBatch(this.schema,e.length,this._loadVectors(e,t,this.schema.fields))}_loadDictionaryBatch(e,t){let{id:i,isDelta:n,data:s}=e,{dictionaries:a,schema:o}=this,l=a.get(i);if(n||!l){let e=o.dictionaries.get(i);return l&&n?l.concat(r.Vector.new(this._loadVectors(s,t,[e])[0])):r.Vector.new(this._loadVectors(s,t,[e])[0])}return l}_loadVectors(e,t,r){return new l.VectorLoader(t,e.nodes,e.buffers,this.dictionaries).visitMany(r)}},S=class extends I{constructor(e,t){super(t),this._reader=h.isArrowJSON(e)?new d.JSONMessageReader(this._handle=e):new d.MessageReader(this._handle=e)}isSync(){return!0}isStream(){return!0}[Symbol.iterator](){return this}cancel(){!this.closed&&(this.closed=!0)&&(this.reset()._reader.return(),this._reader=null,this.dictionaries=null)}open(e){return this.closed||(this.autoDestroy=D(this,e),this.schema||(this.schema=this._reader.readSchema())||this.cancel()),this}throw(e){return!this.closed&&this.autoDestroy&&(this.closed=!0)?this.reset()._reader.throw(e):u.ITERATOR_DONE}return(e){return!this.closed&&this.autoDestroy&&(this.closed=!0)?this.reset()._reader.return(e):u.ITERATOR_DONE}next(){if(this.closed)return u.ITERATOR_DONE;let e,{_reader:t}=this;for(;e=this._readNextMessageAndValidate();)if(e.isSchema())this.reset(e.header());else{if(e.isRecordBatch()){this._recordBatchIndex++;let r=e.header(),i=t.readMessageBody(e.bodyLength);return{done:!1,value:this._loadRecordBatch(r,i)}}if(e.isDictionaryBatch()){this._dictionaryIndex++;let r=e.header(),i=t.readMessageBody(e.bodyLength),n=this._loadDictionaryBatch(r,i);this.dictionaries.set(r.id,n)}}return this.schema&&0===this._recordBatchIndex?(this._recordBatchIndex++,{done:!1,value:new c._InternalEmptyPlaceholderRecordBatch(this.schema)}):this.return()}_readNextMessageAndValidate(e){return this._reader.readMessage(e)}},E=class extends I{constructor(e,t){super(t),this._reader=new d.AsyncMessageReader(this._handle=e)}isAsync(){return!0}isStream(){return!0}[Symbol.asyncIterator](){return this}cancel(){return t.__awaiter(this,void 0,void 0,(function*(){!this.closed&&(this.closed=!0)&&(yield this.reset()._reader.return(),this._reader=null,this.dictionaries=null)}))}open(e){return t.__awaiter(this,void 0,void 0,(function*(){return this.closed||(this.autoDestroy=D(this,e),this.schema||(this.schema=yield this._reader.readSchema())||(yield this.cancel())),this}))}throw(e){return t.__awaiter(this,void 0,void 0,(function*(){return!this.closed&&this.autoDestroy&&(this.closed=!0)?yield this.reset()._reader.throw(e):u.ITERATOR_DONE}))}return(e){return t.__awaiter(this,void 0,void 0,(function*(){return!this.closed&&this.autoDestroy&&(this.closed=!0)?yield this.reset()._reader.return(e):u.ITERATOR_DONE}))}next(){return t.__awaiter(this,void 0,void 0,(function*(){if(this.closed)return u.ITERATOR_DONE;let e,{_reader:t}=this;for(;e=yield this._readNextMessageAndValidate();)if(e.isSchema())yield this.reset(e.header());else{if(e.isRecordBatch()){this._recordBatchIndex++;let r=e.header(),i=yield t.readMessageBody(e.bodyLength);return{done:!1,value:this._loadRecordBatch(r,i)}}if(e.isDictionaryBatch()){this._dictionaryIndex++;let r=e.header(),i=yield t.readMessageBody(e.bodyLength),n=this._loadDictionaryBatch(r,i);this.dictionaries.set(r.id,n)}}return this.schema&&0===this._recordBatchIndex?(this._recordBatchIndex++,{done:!1,value:new c._InternalEmptyPlaceholderRecordBatch(this.schema)}):yield this.return()}))}_readNextMessageAndValidate(e){return t.__awaiter(this,void 0,void 0,(function*(){return yield this._reader.readMessage(e)}))}},A=class extends S{constructor(e,t){super(e instanceof o.RandomAccessFile?e:new o.RandomAccessFile(e),t)}get footer(){return this._footer}get numDictionaries(){return this._footer?this._footer.numDictionaries:0}get numRecordBatches(){return this._footer?this._footer.numRecordBatches:0}isSync(){return!0}isFile(){return!0}open(e){if(!this.closed&&!this._footer){this.schema=(this._footer=this._readFooter()).schema;for(let e of this._footer.dictionaryBatches())e&&this._readDictionaryBatch(this._dictionaryIndex++)}return super.open(e)}readRecordBatch(e){if(this.closed)return null;this._footer||this.open();let t=this._footer&&this._footer.getRecordBatch(e);if(t&&this._handle.seek(t.offset)){let e=this._reader.readMessage(i.MessageHeader.RecordBatch);if(null==e?void 0:e.isRecordBatch()){let t=e.header(),r=this._reader.readMessageBody(e.bodyLength);return this._loadRecordBatch(t,r)}}return null}_readDictionaryBatch(e){let t=this._footer&&this._footer.getDictionaryBatch(e);if(t&&this._handle.seek(t.offset)){let e=this._reader.readMessage(i.MessageHeader.DictionaryBatch);if(null==e?void 0:e.isDictionaryBatch()){let t=e.header(),r=this._reader.readMessageBody(e.bodyLength),i=this._loadDictionaryBatch(t,r);this.dictionaries.set(t.id,i)}}}_readFooter(){let{_handle:e}=this,t=e.size-d.magicAndPadding,r=e.readInt32(t),i=e.readAt(t-r,r);return n.Footer.decode(i)}_readNextMessageAndValidate(e){if(this._footer||this.open(),this._footer&&this._recordBatchIndex<this.numRecordBatches){let t=this._footer&&this._footer.getRecordBatch(this._recordBatchIndex);if(t&&this._handle.seek(t.offset))return this._reader.readMessage(e)}return null}},O=class extends E{constructor(e,...t){let r="number"!=typeof t[0]?t.shift():void 0,i=t[0]instanceof Map?t.shift():void 0;super(e instanceof o.AsyncRandomAccessFile?e:new o.AsyncRandomAccessFile(e,r),i)}get footer(){return this._footer}get numDictionaries(){return this._footer?this._footer.numDictionaries:0}get numRecordBatches(){return this._footer?this._footer.numRecordBatches:0}isFile(){return!0}isAsync(){return!0}open(e){let r=Object.create(null,{open:{get:()=>super.open}});return t.__awaiter(this,void 0,void 0,(function*(){if(!this.closed&&!this._footer){this.schema=(this._footer=yield this._readFooter()).schema;for(let e of this._footer.dictionaryBatches())e&&(yield this._readDictionaryBatch(this._dictionaryIndex++))}return yield r.open.call(this,e)}))}readRecordBatch(e){return t.__awaiter(this,void 0,void 0,(function*(){if(this.closed)return null;this._footer||(yield this.open());let t=this._footer&&this._footer.getRecordBatch(e);if(t&&(yield this._handle.seek(t.offset))){let e=yield this._reader.readMessage(i.MessageHeader.RecordBatch);if(null==e?void 0:e.isRecordBatch()){let t=e.header(),r=yield this._reader.readMessageBody(e.bodyLength);return this._loadRecordBatch(t,r)}}return null}))}_readDictionaryBatch(e){return t.__awaiter(this,void 0,void 0,(function*(){let t=this._footer&&this._footer.getDictionaryBatch(e);if(t&&(yield this._handle.seek(t.offset))){let e=yield this._reader.readMessage(i.MessageHeader.DictionaryBatch);if(null==e?void 0:e.isDictionaryBatch()){let t=e.header(),r=yield this._reader.readMessageBody(e.bodyLength),i=this._loadDictionaryBatch(t,r);this.dictionaries.set(t.id,i)}}}))}_readFooter(){return t.__awaiter(this,void 0,void 0,(function*(){let{_handle:e}=this;e._pending&&(yield e._pending);let t=e.size-d.magicAndPadding,r=yield e.readInt32(t),i=yield e.readAt(t-r,r);return n.Footer.decode(i)}))}_readNextMessageAndValidate(e){return t.__awaiter(this,void 0,void 0,(function*(){if(this._footer||(yield this.open()),this._footer&&this._recordBatchIndex<this.numRecordBatches){let t=this._footer.getRecordBatch(this._recordBatchIndex);if(t&&(yield this._handle.seek(t.offset)))return yield this._reader.readMessage(e)}return null}))}},F=class extends S{constructor(e,t){super(e,t)}_loadVectors(e,t,r){return new l.JSONVectorLoader(t,e.nodes,e.buffers,this.dictionaries).visitMany(r)}};function D(e,t){return t&&"boolean"==typeof t.autoDestroy?t.autoDestroy:e.autoDestroy}function*M(e){let t=f.from(e);try{if(!t.open({autoDestroy:!1}).closed)do{yield t}while(!t.reset().open().closed)}finally{t.cancel()}}function R(e){return t.__asyncGenerator(this,arguments,(function*(){let r=yield t.__await(f.from(e));try{if(!(yield t.__await(r.open({autoDestroy:!1}))).closed)do{yield yield t.__await(r)}while(!(yield t.__await(r.reset().open())).closed)}finally{yield t.__await(r.cancel())}}))}})),tt=h((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.toDOMStream=void 0;var t=p(),r=g(),i=_();e.toDOMStream=function(e,n){if(i.isAsyncIterable(e))return function(e,i){let n=null,s="bytes"===(null==i?void 0:i.type)||!1,a=(null==i?void 0:i.highWaterMark)||Math.pow(2,24);return new ReadableStream(Object.assign(Object.assign({},i),{start(r){return t.__awaiter(this,void 0,void 0,(function*(){yield o(r,n||(n=e[Symbol.asyncIterator]()))}))},pull(e){return t.__awaiter(this,void 0,void 0,(function*(){n?yield o(e,n):e.close()}))},cancel(){return t.__awaiter(this,void 0,void 0,(function*(){(null==n?void 0:n.return)&&(yield n.return()),n=null}))}}),Object.assign({highWaterMark:s?a:void 0},i));function o(e,i){return t.__awaiter(this,void 0,void 0,(function*(){let t,n=null,a=e.desiredSize||null;for(;!(n=yield i.next(s?a:null)).done;)if(ArrayBuffer.isView(n.value)&&(t=r.toUint8Array(n.value))&&(null!=a&&s&&(a=a-t.byteLength+1),n.value=t),e.enqueue(n.value),null!=a&&--a<=0)return;e.close()}))}}(e,n);if(i.isIterable(e))return function(e,t){let i=null,n="bytes"===(null==t?void 0:t.type)||!1,s=(null==t?void 0:t.highWaterMark)||Math.pow(2,24);return new ReadableStream(Object.assign(Object.assign({},t),{start(t){a(t,i||(i=e[Symbol.iterator]()))},pull(e){i?a(e,i):e.close()},cancel(){(null==i?void 0:i.return)&&i.return(),i=null}}),Object.assign({highWaterMark:n?s:void 0},t));function a(e,t){let i,s=null,a=e.desiredSize||null;for(;!(s=t.next(n?a:null)).done;)if(ArrayBuffer.isView(s.value)&&(i=r.toUint8Array(s.value))&&(null!=a&&n&&(a=a-i.byteLength+1),s.value=i),e.enqueue(s.value),null!=a&&--a<=0)return;e.close()}}(e,n);throw new Error("toDOMStream() must be called with an Iterable or AsyncIterable")}})),rt=h((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.BuilderTransform=e.builderThroughDOMStream=void 0;var t=p(),r=ie();e.builderThroughDOMStream=function(e){return new i(e)};var i=class{constructor(e){this._numChunks=0,this._finished=!1,this._bufferedSize=0;let{readableStrategy:i,writableStrategy:a,queueingStrategy:o="count"}=e,l=t.__rest(e,["readableStrategy","writableStrategy","queueingStrategy"]);this._controller=null,this._builder=r.Builder.new(l),this._getSize="bytes"!==o?n:s;let{highWaterMark:c=("bytes"===o?Math.pow(2,14):1e3)}=Object.assign({},i),{highWaterMark:u=("bytes"===o?Math.pow(2,14):1e3)}=Object.assign({},a);this.readable=new ReadableStream({cancel:()=>{this._builder.clear()},pull:e=>{this._maybeFlush(this._builder,this._controller=e)},start:e=>{this._maybeFlush(this._builder,this._controller=e)}},{highWaterMark:c,size:"bytes"!==o?n:s}),this.writable=new WritableStream({abort:()=>{this._builder.clear()},write:()=>{this._maybeFlush(this._builder,this._controller)},close:()=>{this._maybeFlush(this._builder.finish(),this._controller)}},{highWaterMark:u,size:e=>this._writeValueAndReturnChunkSize(e)})}_writeValueAndReturnChunkSize(e){let t=this._bufferedSize;return this._bufferedSize=this._getSize(this._builder.append(e)),this._bufferedSize-t}_maybeFlush(e,t){null!==t&&(this._bufferedSize>=t.desiredSize&&++this._numChunks&&this._enqueue(t,e.toVector()),e.finished&&((e.length>0||0===this._numChunks)&&++this._numChunks&&this._enqueue(t,e.toVector()),!this._finished&&(this._finished=!0)&&this._enqueue(t,null)))}_enqueue(e,t){this._bufferedSize=0,this._controller=null,null===t?e.close():e.enqueue(t)}};e.BuilderTransform=i;var n=e=>e.length,s=e=>e.byteLength})),it=h((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.recordBatchReaderThroughDOMStream=void 0;var t=p(),r=ae(),i=et();e.recordBatchReaderThroughDOMStream=function(e,n){let s=new r.AsyncByteQueue,a=null,o=new ReadableStream({cancel(){return t.__awaiter(this,void 0,void 0,(function*(){yield s.close()}))},start(e){return t.__awaiter(this,void 0,void 0,(function*(){yield l(e,a||(a=yield function(){return t.__awaiter(this,void 0,void 0,(function*(){return yield(yield i.RecordBatchReader.from(s)).open(n)}))}()))}))},pull(e){return t.__awaiter(this,void 0,void 0,(function*(){a?yield l(e,a):e.close()}))}});return{writable:new WritableStream(s,Object.assign({highWaterMark:Math.pow(2,14)},e)),readable:o};function l(e,r){return t.__awaiter(this,void 0,void 0,(function*(){let t=e.desiredSize,i=null;for(;!(i=yield r.next()).done;)if(e.enqueue(i.value),null!=t&&--t<=0)return;e.close()}))}}})),nt=h((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.recordBatchWriterThroughDOMStream=void 0;var t=p(),r=ae();e.recordBatchWriterThroughDOMStream=function(e,i){let n=new this(e),s=new r.AsyncByteStream(n),a=new ReadableStream({type:"bytes",cancel(){return t.__awaiter(this,void 0,void 0,(function*(){yield s.cancel()}))},pull(e){return t.__awaiter(this,void 0,void 0,(function*(){yield o(e)}))},start(e){return t.__awaiter(this,void 0,void 0,(function*(){yield o(e)}))}},Object.assign({highWaterMark:Math.pow(2,14)},i));return{writable:new WritableStream(n,e),readable:a};function o(e){return t.__awaiter(this,void 0,void 0,(function*(){let t=null,r=e.desiredSize;for(;t=yield s.read(r||null);)if(e.enqueue(t),null!=r&&(r-=t.byteLength)<=0)return;e.close()}))}}})),st=h((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.custom=e.or=e.and=e.col=e.lit=e.CustomPredicate=e.Not=e.GTeq=e.LTeq=e.Equals=e.Or=e.And=e.CombinationPredicate=e.ComparisonPredicate=e.Predicate=e.Col=e.Literal=e.Value=void 0;var t=De(),r=class{eq(e){return e instanceof r||(e=new i(e)),new u(this,e)}le(e){return e instanceof r||(e=new i(e)),new d(this,e)}ge(e){return e instanceof r||(e=new i(e)),new h(this,e)}lt(e){return new f(this.ge(e))}gt(e){return new f(this.le(e))}ne(e){return new f(this.eq(e))}};e.Value=r;var i=class extends r{constructor(e){super(),this.v=e}};e.Literal=i;var n=class extends r{constructor(e){super(),this.name=e}bind(e){if(!this.colidx){this.colidx=-1;let t=e.schema.fields;for(let e=-1;++e<t.length;)if(t[e].name===this.name){this.colidx=e;break}if(this.colidx<0)throw new Error(`Failed to bind Col "${this.name}"`)}let t=this.vector=e.getChildAt(this.colidx);return e=>t.get(e)}};e.Col=n;var s=class{and(...e){return new l(this,...e)}or(...e){return new c(this,...e)}not(){return new f(this)}};e.Predicate=s;var a=class extends s{constructor(e,t){super(),this.left=e,this.right=t}bind(e){return this.left instanceof i?this.right instanceof i?this._bindLitLit(e,this.left,this.right):this._bindLitCol(e,this.left,this.right):this.right instanceof i?this._bindColLit(e,this.left,this.right):this._bindColCol(e,this.left,this.right)}};e.ComparisonPredicate=a;var o=class extends s{constructor(...e){super(),this.children=e}};e.CombinationPredicate=o,o.prototype.children=Object.freeze([]);var l=class extends o{constructor(...e){e=e.reduce(((e,t)=>e.concat(t instanceof l?t.children:t)),[]),super(...e)}bind(e){let t=this.children.map((t=>t.bind(e)));return(e,r)=>t.every((t=>t(e,r)))}};e.And=l;var c=class extends o{constructor(...e){e=e.reduce(((e,t)=>e.concat(t instanceof c?t.children:t)),[]),super(...e)}bind(e){let t=this.children.map((t=>t.bind(e)));return(e,r)=>t.some((t=>t(e,r)))}};e.Or=c;var u=class extends a{_bindLitLit(e,t,r){let i=t.v==r.v;return()=>i}_bindColCol(e,t,r){let i=t.bind(e),n=r.bind(e);return(e,t)=>i(e,t)==n(e,t)}_bindColLit(e,r,i){let n=r.bind(e);if(r.vector instanceof t.DictionaryVector){let e,t=r.vector;return t.dictionary!==this.lastDictionary?(e=t.reverseLookup(i.v),this.lastDictionary=t.dictionary,this.lastKey=e):e=this.lastKey,-1===e?()=>!1:r=>t.getKey(r)===e}return(e,t)=>n(e,t)==i.v}_bindLitCol(e,t,r){return this._bindColLit(e,r,t)}};e.Equals=u;var d=class extends a{_bindLitLit(e,t,r){let i=t.v<=r.v;return()=>i}_bindColCol(e,t,r){let i=t.bind(e),n=r.bind(e);return(e,t)=>i(e,t)<=n(e,t)}_bindColLit(e,t,r){let i=t.bind(e);return(e,t)=>i(e,t)<=r.v}_bindLitCol(e,t,r){let i=r.bind(e);return(e,r)=>t.v<=i(e,r)}};e.LTeq=d;var h=class extends a{_bindLitLit(e,t,r){let i=t.v>=r.v;return()=>i}_bindColCol(e,t,r){let i=t.bind(e),n=r.bind(e);return(e,t)=>i(e,t)>=n(e,t)}_bindColLit(e,t,r){let i=t.bind(e);return(e,t)=>i(e,t)>=r.v}_bindLitCol(e,t,r){let i=r.bind(e);return(e,r)=>t.v>=i(e,r)}};e.GTeq=h;var f=class extends s{constructor(e){super(),this.child=e}bind(e){let t=this.child.bind(e);return(e,r)=>!t(e,r)}};e.Not=f;var p=class extends s{constructor(e,t){super(),this.next=e,this.bind_=t}bind(e){return this.bind_(e),this.next}};e.CustomPredicate=p,e.lit=function(e){return new i(e)},e.col=function(e){return new n(e)},e.and=function(...e){return new l(...e)},e.or=function(...e){return new c(...e)},e.custom=function(e,t){return new p(e,t)}})),at=h((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.FilteredDataFrame=e.CountByResult=e.DataFrame=void 0;var t=Ze(),r=Ve(),i=Q(),n=st(),s=Xe(),a=E(),o=class extends t.Table{filter(e){return new u(this.chunks,e)}scan(e,t){let r=this.chunks,i=r.length;for(let n=-1;++n<i;){let i=r[n];t&&t(i);for(let t=-1,r=i.length;++t<r;)e(t,i)}}scanReverse(e,t){let r=this.chunks;for(let i=r.length;--i>=0;){let n=r[i];t&&t(n);for(let t=n.length;--t>=0;)e(t,n)}}countBy(e){let t=this.chunks,i=t.length,s="string"==typeof e?new n.Col(e):e;s.bind(t[i-1]);let o=s.vector;if(!a.DataType.isDictionary(o.type))throw new Error("countBy currently only supports dictionary-encoded columns");let c=Math.ceil(Math.log(o.length)/Math.log(256)),u=new(4==c?Uint32Array:c>=2?Uint16Array:Uint8Array)(o.dictionary.length);for(let e=-1;++e<i;){let r=t[e];s.bind(r);let i=s.vector.indices;for(let e=-1,t=r.length;++e<t;){let t=i.get(e);null!==t&&u[t]++}}return new l(o.dictionary,r.IntVector.from(u))}};e.DataFrame=o;var l=class extends t.Table{constructor(e,t){let r=new i.Schema([new i.Field("values",e.type),new i.Field("counts",t.type)]);super(new s.RecordBatch(r,t.length,[e,t]))}toJSON(){let e=this.getColumnAt(0),t=this.getColumnAt(1),r={};for(let i=-1;++i<this.length;)r[e.get(i)]=t.get(i);return r}};e.CountByResult=l;var c=class{constructor(e,t){this.batches=e,this.predicate=t,this.batchIndex=0,this.index=0,this.batch=this.batches[this.batchIndex],this.predicateFunc=this.predicate.bind(this.batch)}next(){for(;this.batchIndex<this.batches.length;){for(;this.index<this.batch.length;){if(this.predicateFunc(this.index,this.batch))return{value:this.batch.get(this.index++)};this.index++}++this.batchIndex<this.batches.length&&(this.index=0,this.batch=this.batches[this.batchIndex],this.predicateFunc=this.predicate.bind(this.batch))}return{done:!0,value:null}}[Symbol.iterator](){return this}},u=class extends o{constructor(e,t){super(e),this._predicate=t}scan(e,t){let r=this._chunks,i=r.length;for(let n=-1;++n<i;){let i=r[n],s=this._predicate.bind(i),a=!1;for(let r=-1,n=i.length;++r<n;)s(r,i)&&(t&&!a&&(t(i),a=!0),e(r,i))}}scanReverse(e,t){let r=this._chunks;for(let i=r.length;--i>=0;){let n=r[i],s=this._predicate.bind(n),a=!1;for(let r=n.length;--r>=0;)s(r,n)&&(t&&!a&&(t(n),a=!0),e(r,n))}}count(){let e=0,t=this._chunks,r=t.length;for(let i=-1;++i<r;){let r=t[i],n=this._predicate.bind(r);for(let t=-1,i=r.length;++t<i;)n(t,r)&&++e}return e}[Symbol.iterator](){return new c(this._chunks,this._predicate)}filter(e){return new u(this._chunks,this._predicate.and(e))}countBy(e){let t=this._chunks,i=t.length,s="string"==typeof e?new n.Col(e):e;s.bind(t[i-1]);let o=s.vector;if(!a.DataType.isDictionary(o.type))throw new Error("countBy currently only supports dictionary-encoded columns");let c=Math.ceil(Math.log(o.length)/Math.log(256)),u=new(4==c?Uint32Array:c>=2?Uint16Array:Uint8Array)(o.dictionary.length);for(let e=-1;++e<i;){let r=t[e],i=this._predicate.bind(r);s.bind(r);let n=s.vector.indices;for(let e=-1,t=r.length;++e<t;){let t=n.get(e);null!==t&&i(e,r)&&u[t]++}}return new l(o.dictionary,r.IntVector.from(u))}};e.FilteredDataFrame=u})),ot=h((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.isTypedArray=e.util=e.predicate=e.CountByResult=e.FilteredDataFrame=e.DataFrame=e.RecordBatch=e.Message=e.JSONMessageReader=e.AsyncMessageReader=e.MessageReader=e.RecordBatchJSONWriter=e.RecordBatchStreamWriter=e.RecordBatchFileWriter=e.RecordBatchWriter=e.AsyncRecordBatchStreamReader=e.AsyncRecordBatchFileReader=e.RecordBatchStreamReader=e.RecordBatchFileReader=e.RecordBatchReader=e.AsyncByteQueue=e.AsyncByteStream=e.ByteStream=e.Utf8Builder=e.SparseUnionBuilder=e.DenseUnionBuilder=e.UnionBuilder=e.TimeNanosecondBuilder=e.TimeMicrosecondBuilder=e.TimeMillisecondBuilder=e.TimeSecondBuilder=e.TimeBuilder=e.TimestampNanosecondBuilder=e.TimestampMicrosecondBuilder=e.TimestampMillisecondBuilder=e.TimestampSecondBuilder=e.TimestampBuilder=e.StructBuilder=e.NullBuilder=e.MapBuilder=e.ListBuilder=e.Uint64Builder=e.Uint32Builder=e.Uint16Builder=e.Uint8Builder=e.Int64Builder=e.Int32Builder=e.Int16Builder=e.Int8Builder=e.IntBuilder=e.IntervalYearMonthBuilder=e.IntervalDayTimeBuilder=e.IntervalBuilder=e.Float64Builder=e.Float32Builder=e.Float16Builder=e.FloatBuilder=e.FixedSizeListBuilder=e.FixedSizeBinaryBuilder=e.DictionaryBuilder=e.DecimalBuilder=e.DateMillisecondBuilder=e.DateDayBuilder=e.DateBuilder=e.BoolBuilder=e.BinaryBuilder=e.Builder=e.Utf8Vector=e.SparseUnionVector=e.DenseUnionVector=e.UnionVector=e.TimeNanosecondVector=e.TimeMicrosecondVector=e.TimeMillisecondVector=e.TimeSecondVector=e.TimeVector=e.TimestampNanosecondVector=e.TimestampMicrosecondVector=e.TimestampMillisecondVector=e.TimestampSecondVector=e.TimestampVector=e.StructVector=e.NullVector=e.MapVector=e.ListVector=e.Uint64Vector=e.Uint32Vector=e.Uint16Vector=e.Uint8Vector=e.Int64Vector=e.Int32Vector=e.Int16Vector=e.Int8Vector=e.IntVector=e.IntervalYearMonthVector=e.IntervalDayTimeVector=e.IntervalVector=e.Float64Vector=e.Float32Vector=e.Float16Vector=e.FloatVector=e.FixedSizeListVector=e.FixedSizeBinaryVector=e.DictionaryVector=e.DecimalVector=e.DateMillisecondVector=e.DateDayVector=e.DateVector=e.Chunked=e.BoolVector=e.BinaryVector=e.BaseVector=e.Vector=e.Field=e.Schema=e.Visitor=e.Column=e.Table=e.Map_=e.FixedSizeList=e.IntervalYearMonth=e.IntervalDayTime=e.Interval=e.Dictionary=e.SparseUnion=e.DenseUnion=e.Union=e.Struct=e.List=e.Decimal=e.TimeNanosecond=e.TimeMicrosecond=e.TimeMillisecond=e.TimeSecond=e.Time=e.TimestampNanosecond=e.TimestampMicrosecond=e.TimestampMillisecond=e.TimestampSecond=e.Timestamp=e.DateMillisecond=e.DateDay=e.Date_=e.FixedSizeBinary=e.Binary=e.Utf8=e.Float64=e.Float32=e.Float16=e.Float=e.Uint64=e.Uint32=e.Uint16=e.Uint8=e.Int64=e.Int32=e.Int16=e.Int8=e.Int=e.Bool=e.Null=e.DataType=e.Data=e.BufferType=e.Type=e.MessageHeader=e.MetadataVersion=e.IntervalUnit=e.UnionMode=e.Precision=e.TimeUnit=e.DateUnit=void 0;var t=T();Object.defineProperty(e,"DateUnit",{enumerable:!0,get:function(){return t.DateUnit}}),Object.defineProperty(e,"TimeUnit",{enumerable:!0,get:function(){return t.TimeUnit}}),Object.defineProperty(e,"Precision",{enumerable:!0,get:function(){return t.Precision}}),Object.defineProperty(e,"UnionMode",{enumerable:!0,get:function(){return t.UnionMode}}),Object.defineProperty(e,"IntervalUnit",{enumerable:!0,get:function(){return t.IntervalUnit}}),Object.defineProperty(e,"MetadataVersion",{enumerable:!0,get:function(){return t.MetadataVersion}});var r=I();Object.defineProperty(e,"MessageHeader",{enumerable:!0,get:function(){return r.MessageHeader}});var i=B();Object.defineProperty(e,"Type",{enumerable:!0,get:function(){return i.Type}}),Object.defineProperty(e,"BufferType",{enumerable:!0,get:function(){return i.BufferType}});var n=A();Object.defineProperty(e,"Data",{enumerable:!0,get:function(){return n.Data}});var s=E();Object.defineProperty(e,"DataType",{enumerable:!0,get:function(){return s.DataType}}),Object.defineProperty(e,"Null",{enumerable:!0,get:function(){return s.Null}}),Object.defineProperty(e,"Bool",{enumerable:!0,get:function(){return s.Bool}}),Object.defineProperty(e,"Int",{enumerable:!0,get:function(){return s.Int}}),Object.defineProperty(e,"Int8",{enumerable:!0,get:function(){return s.Int8}}),Object.defineProperty(e,"Int16",{enumerable:!0,get:function(){return s.Int16}}),Object.defineProperty(e,"Int32",{enumerable:!0,get:function(){return s.Int32}}),Object.defineProperty(e,"Int64",{enumerable:!0,get:function(){return s.Int64}}),Object.defineProperty(e,"Uint8",{enumerable:!0,get:function(){return s.Uint8}}),Object.defineProperty(e,"Uint16",{enumerable:!0,get:function(){return s.Uint16}}),Object.defineProperty(e,"Uint32",{enumerable:!0,get:function(){return s.Uint32}}),Object.defineProperty(e,"Uint64",{enumerable:!0,get:function(){return s.Uint64}}),Object.defineProperty(e,"Float",{enumerable:!0,get:function(){return s.Float}}),Object.defineProperty(e,"Float16",{enumerable:!0,get:function(){return s.Float16}}),Object.defineProperty(e,"Float32",{enumerable:!0,get:function(){return s.Float32}}),Object.defineProperty(e,"Float64",{enumerable:!0,get:function(){return s.Float64}}),Object.defineProperty(e,"Utf8",{enumerable:!0,get:function(){return s.Utf8}}),Object.defineProperty(e,"Binary",{enumerable:!0,get:function(){return s.Binary}}),Object.defineProperty(e,"FixedSizeBinary",{enumerable:!0,get:function(){return s.FixedSizeBinary}}),Object.defineProperty(e,"Date_",{enumerable:!0,get:function(){return s.Date_}}),Object.defineProperty(e,"DateDay",{enumerable:!0,get:function(){return s.DateDay}}),Object.defineProperty(e,"DateMillisecond",{enumerable:!0,get:function(){return s.DateMillisecond}}),Object.defineProperty(e,"Timestamp",{enumerable:!0,get:function(){return s.Timestamp}}),Object.defineProperty(e,"TimestampSecond",{enumerable:!0,get:function(){return s.TimestampSecond}}),Object.defineProperty(e,"TimestampMillisecond",{enumerable:!0,get:function(){return s.TimestampMillisecond}}),Object.defineProperty(e,"TimestampMicrosecond",{enumerable:!0,get:function(){return s.TimestampMicrosecond}}),Object.defineProperty(e,"TimestampNanosecond",{enumerable:!0,get:function(){return s.TimestampNanosecond}}),Object.defineProperty(e,"Time",{enumerable:!0,get:function(){return s.Time}}),Object.defineProperty(e,"TimeSecond",{enumerable:!0,get:function(){return s.TimeSecond}}),Object.defineProperty(e,"TimeMillisecond",{enumerable:!0,get:function(){return s.TimeMillisecond}}),Object.defineProperty(e,"TimeMicrosecond",{enumerable:!0,get:function(){return s.TimeMicrosecond}}),Object.defineProperty(e,"TimeNanosecond",{enumerable:!0,get:function(){return s.TimeNanosecond}}),Object.defineProperty(e,"Decimal",{enumerable:!0,get:function(){return s.Decimal}}),Object.defineProperty(e,"List",{enumerable:!0,get:function(){return s.List}}),Object.defineProperty(e,"Struct",{enumerable:!0,get:function(){return s.Struct}}),Object.defineProperty(e,"Union",{enumerable:!0,get:function(){return s.Union}}),Object.defineProperty(e,"DenseUnion",{enumerable:!0,get:function(){return s.DenseUnion}}),Object.defineProperty(e,"SparseUnion",{enumerable:!0,get:function(){return s.SparseUnion}}),Object.defineProperty(e,"Dictionary",{enumerable:!0,get:function(){return s.Dictionary}}),Object.defineProperty(e,"Interval",{enumerable:!0,get:function(){return s.Interval}}),Object.defineProperty(e,"IntervalDayTime",{enumerable:!0,get:function(){return s.IntervalDayTime}}),Object.defineProperty(e,"IntervalYearMonth",{enumerable:!0,get:function(){return s.IntervalYearMonth}}),Object.defineProperty(e,"FixedSizeList",{enumerable:!0,get:function(){return s.FixedSizeList}}),Object.defineProperty(e,"Map_",{enumerable:!0,get:function(){return s.Map_}});var a=Ze();Object.defineProperty(e,"Table",{enumerable:!0,get:function(){return a.Table}});var o=pe();Object.defineProperty(e,"Column",{enumerable:!0,get:function(){return o.Column}});var l=ee();Object.defineProperty(e,"Visitor",{enumerable:!0,get:function(){return l.Visitor}});var c=Q();Object.defineProperty(e,"Schema",{enumerable:!0,get:function(){return c.Schema}}),Object.defineProperty(e,"Field",{enumerable:!0,get:function(){return c.Field}});var u=Je();Object.defineProperty(e,"Vector",{enumerable:!0,get:function(){return u.Vector}}),Object.defineProperty(e,"BaseVector",{enumerable:!0,get:function(){return u.BaseVector}}),Object.defineProperty(e,"BinaryVector",{enumerable:!0,get:function(){return u.BinaryVector}}),Object.defineProperty(e,"BoolVector",{enumerable:!0,get:function(){return u.BoolVector}}),Object.defineProperty(e,"Chunked",{enumerable:!0,get:function(){return u.Chunked}}),Object.defineProperty(e,"DateVector",{enumerable:!0,get:function(){return u.DateVector}}),Object.defineProperty(e,"DateDayVector",{enumerable:!0,get:function(){return u.DateDayVector}}),Object.defineProperty(e,"DateMillisecondVector",{enumerable:!0,get:function(){return u.DateMillisecondVector}}),Object.defineProperty(e,"DecimalVector",{enumerable:!0,get:function(){return u.DecimalVector}}),Object.defineProperty(e,"DictionaryVector",{enumerable:!0,get:function(){return u.DictionaryVector}}),Object.defineProperty(e,"FixedSizeBinaryVector",{enumerable:!0,get:function(){return u.FixedSizeBinaryVector}}),Object.defineProperty(e,"FixedSizeListVector",{enumerable:!0,get:function(){return u.FixedSizeListVector}}),Object.defineProperty(e,"FloatVector",{enumerable:!0,get:function(){return u.FloatVector}}),Object.defineProperty(e,"Float16Vector",{enumerable:!0,get:function(){return u.Float16Vector}}),Object.defineProperty(e,"Float32Vector",{enumerable:!0,get:function(){return u.Float32Vector}}),Object.defineProperty(e,"Float64Vector",{enumerable:!0,get:function(){return u.Float64Vector}}),Object.defineProperty(e,"IntervalVector",{enumerable:!0,get:function(){return u.IntervalVector}}),Object.defineProperty(e,"IntervalDayTimeVector",{enumerable:!0,get:function(){return u.IntervalDayTimeVector}}),Object.defineProperty(e,"IntervalYearMonthVector",{enumerable:!0,get:function(){return u.IntervalYearMonthVector}}),Object.defineProperty(e,"IntVector",{enumerable:!0,get:function(){return u.IntVector}}),Object.defineProperty(e,"Int8Vector",{enumerable:!0,get:function(){return u.Int8Vector}}),Object.defineProperty(e,"Int16Vector",{enumerable:!0,get:function(){return u.Int16Vector}}),Object.defineProperty(e,"Int32Vector",{enumerable:!0,get:function(){return u.Int32Vector}}),Object.defineProperty(e,"Int64Vector",{enumerable:!0,get:function(){return u.Int64Vector}}),Object.defineProperty(e,"Uint8Vector",{enumerable:!0,get:function(){return u.Uint8Vector}}),Object.defineProperty(e,"Uint16Vector",{enumerable:!0,get:function(){return u.Uint16Vector}}),Object.defineProperty(e,"Uint32Vector",{enumerable:!0,get:function(){return u.Uint32Vector}}),Object.defineProperty(e,"Uint64Vector",{enumerable:!0,get:function(){return u.Uint64Vector}}),Object.defineProperty(e,"ListVector",{enumerable:!0,get:function(){return u.ListVector}}),Object.defineProperty(e,"MapVector",{enumerable:!0,get:function(){return u.MapVector}}),Object.defineProperty(e,"NullVector",{enumerable:!0,get:function(){return u.NullVector}}),Object.defineProperty(e,"StructVector",{enumerable:!0,get:function(){return u.StructVector}}),Object.defineProperty(e,"TimestampVector",{enumerable:!0,get:function(){return u.TimestampVector}}),Object.defineProperty(e,"TimestampSecondVector",{enumerable:!0,get:function(){return u.TimestampSecondVector}}),Object.defineProperty(e,"TimestampMillisecondVector",{enumerable:!0,get:function(){return u.TimestampMillisecondVector}}),Object.defineProperty(e,"TimestampMicrosecondVector",{enumerable:!0,get:function(){return u.TimestampMicrosecondVector}}),Object.defineProperty(e,"TimestampNanosecondVector",{enumerable:!0,get:function(){return u.TimestampNanosecondVector}}),Object.defineProperty(e,"TimeVector",{enumerable:!0,get:function(){return u.TimeVector}}),Object.defineProperty(e,"TimeSecondVector",{enumerable:!0,get:function(){return u.TimeSecondVector}}),Object.defineProperty(e,"TimeMillisecondVector",{enumerable:!0,get:function(){return u.TimeMillisecondVector}}),Object.defineProperty(e,"TimeMicrosecondVector",{enumerable:!0,get:function(){return u.TimeMicrosecondVector}}),Object.defineProperty(e,"TimeNanosecondVector",{enumerable:!0,get:function(){return u.TimeNanosecondVector}}),Object.defineProperty(e,"UnionVector",{enumerable:!0,get:function(){return u.UnionVector}}),Object.defineProperty(e,"DenseUnionVector",{enumerable:!0,get:function(){return u.DenseUnionVector}}),Object.defineProperty(e,"SparseUnionVector",{enumerable:!0,get:function(){return u.SparseUnionVector}}),Object.defineProperty(e,"Utf8Vector",{enumerable:!0,get:function(){return u.Utf8Vector}});var d=ie();Object.defineProperty(e,"Builder",{enumerable:!0,get:function(){return d.Builder}}),Object.defineProperty(e,"BinaryBuilder",{enumerable:!0,get:function(){return d.BinaryBuilder}}),Object.defineProperty(e,"BoolBuilder",{enumerable:!0,get:function(){return d.BoolBuilder}}),Object.defineProperty(e,"DateBuilder",{enumerable:!0,get:function(){return d.DateBuilder}}),Object.defineProperty(e,"DateDayBuilder",{enumerable:!0,get:function(){return d.DateDayBuilder}}),Object.defineProperty(e,"DateMillisecondBuilder",{enumerable:!0,get:function(){return d.DateMillisecondBuilder}}),Object.defineProperty(e,"DecimalBuilder",{enumerable:!0,get:function(){return d.DecimalBuilder}}),Object.defineProperty(e,"DictionaryBuilder",{enumerable:!0,get:function(){return d.DictionaryBuilder}}),Object.defineProperty(e,"FixedSizeBinaryBuilder",{enumerable:!0,get:function(){return d.FixedSizeBinaryBuilder}}),Object.defineProperty(e,"FixedSizeListBuilder",{enumerable:!0,get:function(){return d.FixedSizeListBuilder}}),Object.defineProperty(e,"FloatBuilder",{enumerable:!0,get:function(){return d.FloatBuilder}}),Object.defineProperty(e,"Float16Builder",{enumerable:!0,get:function(){return d.Float16Builder}}),Object.defineProperty(e,"Float32Builder",{enumerable:!0,get:function(){return d.Float32Builder}}),Object.defineProperty(e,"Float64Builder",{enumerable:!0,get:function(){return d.Float64Builder}}),Object.defineProperty(e,"IntervalBuilder",{enumerable:!0,get:function(){return d.IntervalBuilder}}),Object.defineProperty(e,"IntervalDayTimeBuilder",{enumerable:!0,get:function(){return d.IntervalDayTimeBuilder}}),Object.defineProperty(e,"IntervalYearMonthBuilder",{enumerable:!0,get:function(){return d.IntervalYearMonthBuilder}}),Object.defineProperty(e,"IntBuilder",{enumerable:!0,get:function(){return d.IntBuilder}}),Object.defineProperty(e,"Int8Builder",{enumerable:!0,get:function(){return d.Int8Builder}}),Object.defineProperty(e,"Int16Builder",{enumerable:!0,get:function(){return d.Int16Builder}}),Object.defineProperty(e,"Int32Builder",{enumerable:!0,get:function(){return d.Int32Builder}}),Object.defineProperty(e,"Int64Builder",{enumerable:!0,get:function(){return d.Int64Builder}}),Object.defineProperty(e,"Uint8Builder",{enumerable:!0,get:function(){return d.Uint8Builder}}),Object.defineProperty(e,"Uint16Builder",{enumerable:!0,get:function(){return d.Uint16Builder}}),Object.defineProperty(e,"Uint32Builder",{enumerable:!0,get:function(){return d.Uint32Builder}}),Object.defineProperty(e,"Uint64Builder",{enumerable:!0,get:function(){return d.Uint64Builder}}),Object.defineProperty(e,"ListBuilder",{enumerable:!0,get:function(){return d.ListBuilder}}),Object.defineProperty(e,"MapBuilder",{enumerable:!0,get:function(){return d.MapBuilder}}),Object.defineProperty(e,"NullBuilder",{enumerable:!0,get:function(){return d.NullBuilder}}),Object.defineProperty(e,"StructBuilder",{enumerable:!0,get:function(){return d.StructBuilder}}),Object.defineProperty(e,"TimestampBuilder",{enumerable:!0,get:function(){return d.TimestampBuilder}}),Object.defineProperty(e,"TimestampSecondBuilder",{enumerable:!0,get:function(){return d.TimestampSecondBuilder}}),Object.defineProperty(e,"TimestampMillisecondBuilder",{enumerable:!0,get:function(){return d.TimestampMillisecondBuilder}}),Object.defineProperty(e,"TimestampMicrosecondBuilder",{enumerable:!0,get:function(){return d.TimestampMicrosecondBuilder}}),Object.defineProperty(e,"TimestampNanosecondBuilder",{enumerable:!0,get:function(){return d.TimestampNanosecondBuilder}}),Object.defineProperty(e,"TimeBuilder",{enumerable:!0,get:function(){return d.TimeBuilder}}),Object.defineProperty(e,"TimeSecondBuilder",{enumerable:!0,get:function(){return d.TimeSecondBuilder}}),Object.defineProperty(e,"TimeMillisecondBuilder",{enumerable:!0,get:function(){return d.TimeMillisecondBuilder}}),Object.defineProperty(e,"TimeMicrosecondBuilder",{enumerable:!0,get:function(){return d.TimeMicrosecondBuilder}}),Object.defineProperty(e,"TimeNanosecondBuilder",{enumerable:!0,get:function(){return d.TimeNanosecondBuilder}}),Object.defineProperty(e,"UnionBuilder",{enumerable:!0,get:function(){return d.UnionBuilder}}),Object.defineProperty(e,"DenseUnionBuilder",{enumerable:!0,get:function(){return d.DenseUnionBuilder}}),Object.defineProperty(e,"SparseUnionBuilder",{enumerable:!0,get:function(){return d.SparseUnionBuilder}}),Object.defineProperty(e,"Utf8Builder",{enumerable:!0,get:function(){return d.Utf8Builder}});var h=ae();Object.defineProperty(e,"ByteStream",{enumerable:!0,get:function(){return h.ByteStream}}),Object.defineProperty(e,"AsyncByteStream",{enumerable:!0,get:function(){return h.AsyncByteStream}}),Object.defineProperty(e,"AsyncByteQueue",{enumerable:!0,get:function(){return h.AsyncByteQueue}});var f=et();Object.defineProperty(e,"RecordBatchReader",{enumerable:!0,get:function(){return f.RecordBatchReader}}),Object.defineProperty(e,"RecordBatchFileReader",{enumerable:!0,get:function(){return f.RecordBatchFileReader}}),Object.defineProperty(e,"RecordBatchStreamReader",{enumerable:!0,get:function(){return f.RecordBatchStreamReader}}),Object.defineProperty(e,"AsyncRecordBatchFileReader",{enumerable:!0,get:function(){return f.AsyncRecordBatchFileReader}}),Object.defineProperty(e,"AsyncRecordBatchStreamReader",{enumerable:!0,get:function(){return f.AsyncRecordBatchStreamReader}});var p=Ie();Object.defineProperty(e,"RecordBatchWriter",{enumerable:!0,get:function(){return p.RecordBatchWriter}}),Object.defineProperty(e,"RecordBatchFileWriter",{enumerable:!0,get:function(){return p.RecordBatchFileWriter}}),Object.defineProperty(e,"RecordBatchStreamWriter",{enumerable:!0,get:function(){return p.RecordBatchStreamWriter}}),Object.defineProperty(e,"RecordBatchJSONWriter",{enumerable:!0,get:function(){return p.RecordBatchJSONWriter}});var y=_e();Object.defineProperty(e,"MessageReader",{enumerable:!0,get:function(){return y.MessageReader}}),Object.defineProperty(e,"AsyncMessageReader",{enumerable:!0,get:function(){return y.AsyncMessageReader}}),Object.defineProperty(e,"JSONMessageReader",{enumerable:!0,get:function(){return y.JSONMessageReader}});var b=me();Object.defineProperty(e,"Message",{enumerable:!0,get:function(){return b.Message}});var m=Xe();Object.defineProperty(e,"RecordBatch",{enumerable:!0,get:function(){return m.RecordBatch}});var _=at();Object.defineProperty(e,"DataFrame",{enumerable:!0,get:function(){return _.DataFrame}}),Object.defineProperty(e,"FilteredDataFrame",{enumerable:!0,get:function(){return _.FilteredDataFrame}}),Object.defineProperty(e,"CountByResult",{enumerable:!0,get:function(){return _.CountByResult}});var v=j(),w=le(),O=S(),F=x(),D=g(),M=de(),R=st();e.predicate=R;var U=ge();e.util=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},v),w),O),F),D),M),{compareSchemas:U.compareSchemas,compareFields:U.compareFields,compareTypes:U.compareTypes});var N=he();Object.defineProperty(e,"isTypedArray",{enumerable:!0,get:function(){return N.isTypedArray}})})),lt=h(((e,t)=>{t.exports=Worker})),ct=((n=ct||{})[n.NONE=0]="NONE",n[n.DEBUG=1]="DEBUG",n[n.INFO=2]="INFO",n[n.WARNING=3]="WARNING",n[n.ERROR=4]="ERROR",n),ut=(e=>(e[e.NONE=0]="NONE",e[e.CONNECT=1]="CONNECT",e[e.DISCONNECT=2]="DISCONNECT",e[e.OPEN=3]="OPEN",e[e.QUERY=4]="QUERY",e))(ut||{}),dt=((i=dt||{})[i.NONE=0]="NONE",i[i.OK=1]="OK",i[i.ERROR=2]="ERROR",i[i.START=3]="START",i[i.RUN=4]="RUN",i[i.CAPTURE=5]="CAPTURE",i),ht=(e=>(e[e.NONE=0]="NONE",e[e.WEB_WORKER=1]="WEB_WORKER",e[e.NODE_WORKER=2]="NODE_WORKER",e[e.BINDINGS=3]="BINDINGS",e[e.ASYNC_DUCKDB=4]="ASYNC_DUCKDB",e))(ht||{}),ft=class{log(e){console.log(e)}},pt=((s=pt||{})[s.SUCCESS=0]="SUCCESS",s),yt=f(v(),1),bt=f(ie(),1),mt=f(et(),1),_t=f(Ie(),1),gt=f(tt(),1),vt=f(rt(),1),wt=f(it(),1),Tt=f(nt(),1),It=f(ot(),1);yt.default.toDOMStream=gt.toDOMStream,bt.Builder.throughDOM=vt.builderThroughDOMStream,mt.RecordBatchReader.throughDOM=wt.recordBatchReaderThroughDOMStream,mt.RecordBatchFileReader.throughDOM=wt.recordBatchReaderThroughDOMStream,mt.RecordBatchStreamReader.throughDOM=wt.recordBatchReaderThroughDOMStream,_t.RecordBatchWriter.throughDOM=Tt.recordBatchWriterThroughDOMStream,_t.RecordBatchFileWriter.throughDOM=Tt.recordBatchWriterThroughDOMStream,_t.RecordBatchStreamWriter.throughDOM=Tt.recordBatchWriterThroughDOMStream;var Bt,St,Et=class{constructor(e,t,r){this.db=e,this.conn=t,this.header=r,this._first=!0,this._depleted=!1,this._inFlight=null}async next(){if(this._first)return this._first=!1,{done:!1,value:this.header};if(this._depleted)return{done:!0,value:null};let e;return null!=this._inFlight?(e=await this._inFlight,this._inFlight=null):e=await this.db.fetchQueryResults(this.conn),this._depleted=0==e.length,this._depleted||(this._inFlight=this.db.fetchQueryResults(this.conn)),{done:this._depleted,value:e}}[Symbol.asyncIterator](){return this}},At=((St=At||{}).CLOSE_PREPARED="CLOSE_PREPARED",St.COLLECT_FILE_STATISTICS="COLLECT_FILE_STATISTICS",St.CONNECT="CONNECT",St.COPY_FILE_TO_BUFFER="COPY_FILE_TO_BUFFER",St.COPY_FILE_TO_PATH="COPY_FILE_TO_PATH",St.CREATE_PREPARED="CREATE_PREPARED",St.DISCONNECT="DISCONNECT",St.DROP_FILE="DROP_FILE",St.DROP_FILES="DROP_FILES",St.EXPORT_FILE_STATISTICS="EXPORT_FILE_STATISTICS",St.FETCH_QUERY_RESULTS="FETCH_QUERY_RESULTS",St.FLUSH_FILES="FLUSH_FILES",St.GET_FEATURE_FLAGS="GET_FEATURE_FLAGS",St.GET_TABLE_NAMES="GET_TABLE_NAMES",St.GET_VERSION="GET_VERSION",St.GLOB_FILE_INFOS="GLOB_FILE_INFOS",St.INSERT_ARROW_FROM_IPC_STREAM="INSERT_ARROW_FROM_IPC_STREAM",St.INSERT_CSV_FROM_PATH="IMPORT_CSV_FROM_PATH",St.INSERT_JSON_FROM_PATH="IMPORT_JSON_FROM_PATH",St.INSTANTIATE="INSTANTIATE",St.OPEN="OPEN",St.PING="PING",St.REGISTER_FILE_BUFFER="REGISTER_FILE_BUFFER",St.REGISTER_FILE_HANDLE="REGISTER_FILE_HANDLE",St.REGISTER_FILE_URL="REGISTER_FILE_URL",St.RESET="RESET",St.RUN_PREPARED="RUN_PREPARED",St.RUN_QUERY="RUN_QUERY",St.SEND_PREPARED="SEND_PREPARED",St.SEND_QUERY="SEND_QUERY",St.TOKENIZE="TOKENIZE",St),Ot=((Bt=Ot||{}).CONNECTION_INFO="CONNECTION_INFO",Bt.ERROR="ERROR",Bt.FEATURE_FLAGS="FEATURE_FLAGS",Bt.FILE_BUFFER="FILE_BUFFER",Bt.FILE_INFOS="FILE_INFOS",Bt.FILE_SIZE="FILE_SIZE",Bt.FILE_STATISTICS="FILE_STATISTICS",Bt.LOG="LOG",Bt.OK="OK",Bt.PREPARED_STATEMENT_ID="PREPARED_STATEMENT_ID",Bt.QUERY_PLAN="QUERY_PLAN",Bt.QUERY_RESULT="QUERY_RESULT",Bt.QUERY_RESULT_CHUNK="QUERY_RESULT_CHUNK",Bt.QUERY_START="QUERY_START",Bt.REGISTERED_FILE="REGISTERED_FILE",Bt.SCRIPT_TOKENS="SCRIPT_TOKENS",Bt.SUCCESS="SUCCESS",Bt.TABLE_NAMES="TABLE_NAMES",Bt.VERSION_STRING="VERSION_STRING",Bt),Ft=class{constructor(e,t){this.promiseResolver=()=>{},this.promiseRejecter=()=>{},this.type=e,this.data=t,this.promise=new Promise(((e,t)=>{this.promiseResolver=e,this.promiseRejecter=t}))}};function Dt(e,t){switch(t.typeId){case It.Type.Binary:return{name:e,type:"binary"};case It.Type.Bool:return{name:e,type:"bool"};case It.Type.Date:return{name:e,type:"date"};case It.Type.DateDay:return{name:e,type:"date32[d]"};case It.Type.DateMillisecond:return{name:e,type:"date64[ms]"};case It.Type.Decimal:{let r=t;return{name:e,type:"decimal",precision:r.precision,scale:r.scale}}case It.Type.Float:return{name:e,type:"float"};case It.Type.Float16:return{name:e,type:"float16"};case It.Type.Float32:return{name:e,type:"float32"};case It.Type.Float64:return{name:e,type:"float64"};case It.Type.Int:return{name:e,type:"int32"};case It.Type.Int16:return{name:e,type:"int16"};case It.Type.Int32:return{name:e,type:"int32"};case It.Type.Int64:return{name:e,type:"int64"};case It.Type.Uint16:return{name:e,type:"uint16"};case It.Type.Uint32:return{name:e,type:"uint32"};case It.Type.Uint64:return{name:e,type:"uint64"};case It.Type.Uint8:return{name:e,type:"uint8"};case It.Type.IntervalDayTime:return{name:e,type:"interval[dt]"};case It.Type.IntervalYearMonth:return{name:e,type:"interval[m]"};case It.Type.List:{let r=t;return{name:e,type:"list",children:[Dt(r.valueField.name,r.valueField.type)]}}case It.Type.FixedSizeBinary:return{name:e,type:"fixedsizebinary",byteWidth:t.byteWidth};case It.Type.Null:return{name:e,type:"null"};case It.Type.Utf8:return{name:e,type:"utf8"};case It.Type.Struct:return{name:e,type:"struct",children:t.children.map((e=>Dt(e.name,e.type)))};case It.Type.Time:return{name:e,type:"time[s]"};case It.Type.TimeMicrosecond:return{name:e,type:"time[us]"};case It.Type.TimeMillisecond:return{name:e,type:"time[ms]"};case It.Type.TimeNanosecond:return{name:e,type:"time[ns]"};case It.Type.TimeSecond:return{name:e,type:"time[s]"};case It.Type.Timestamp:return{name:e,type:"timestamp",timezone:t.timezone||void 0};case It.Type.TimestampSecond:return{name:e,type:"timestamp[s]",timezone:t.timezone||void 0};case It.Type.TimestampMicrosecond:return{name:e,type:"timestamp[us]",timezone:t.timezone||void 0};case It.Type.TimestampNanosecond:return{name:e,type:"timestamp[ns]",timezone:t.timezone||void 0};case It.Type.TimestampMillisecond:return{name:e,type:"timestamp[ms]",timezone:t.timezone||void 0}}throw new Error(`unsupported arrow type: ${t.toString()}`)}var Mt=new TextEncoder,Rt=class{constructor(e,t=null){this._worker=null,this._workerShutdownPromise=null,this._workerShutdownResolver=()=>{},this._nextMessageId=0,this._pendingRequests=new Map,this._logger=e,this._onMessageHandler=this.onMessage.bind(this),this._onErrorHandler=this.onError.bind(this),this._onCloseHandler=this.onClose.bind(this),null!=t&&this.attach(t)}get logger(){return this._logger}attach(e){this._worker=e,this._worker.addEventListener("message",this._onMessageHandler),this._worker.addEventListener("error",this._onErrorHandler),this._worker.addEventListener("close",this._onCloseHandler),this._workerShutdownPromise=new Promise(((e,t)=>{this._workerShutdownResolver=e}))}detach(){!this._worker||(this._worker.removeEventListener("message",this._onMessageHandler),this._worker.removeEventListener("error",this._onErrorHandler),this._worker.removeEventListener("close",this._onCloseHandler),this._worker=null,this._workerShutdownResolver(null),this._workerShutdownPromise=null,this._workerShutdownResolver=()=>{})}async terminate(){!this._worker||(this._worker.terminate(),this._worker=null,this._workerShutdownPromise=null,this._workerShutdownResolver=()=>{})}async postTask(e,t=[]){if(!this._worker)return void console.error("cannot send a message since the worker is not set!");let r=this._nextMessageId++;return this._pendingRequests.set(r,e),this._worker.postMessage({messageId:r,type:e.type,data:e.data}),await e.promise}onMessage(e){let t=e.data;"LOG"==t.type&&this._logger.log(t.data);let r=this._pendingRequests.get(t.requestId);if(r){if(this._pendingRequests.delete(t.requestId),"ERROR"==t.type){let e=new Error(t.data.message);return e.name=t.data.name,e.stack=t.data.stack,void r.promiseRejecter(e)}switch(r.type){case"CLOSE_PREPARED":case"COLLECT_FILE_STATISTICS":case"COPY_FILE_TO_PATH":case"DISCONNECT":case"DROP_FILES":case"FLUSH_FILES":case"INSERT_ARROW_FROM_IPC_STREAM":case"IMPORT_CSV_FROM_PATH":case"IMPORT_JSON_FROM_PATH":case"INSTANTIATE":case"OPEN":case"PING":case"REGISTER_FILE_BUFFER":case"REGISTER_FILE_HANDLE":case"REGISTER_FILE_URL":case"RESET":if("OK"==t.type)return void r.promiseResolver(t.data);break;case"GLOB_FILE_INFOS":if("FILE_INFOS"==t.type)return void r.promiseResolver(t.data);break;case"GET_VERSION":if("VERSION_STRING"==t.type)return void r.promiseResolver(t.data);break;case"GET_FEATURE_FLAGS":if("FEATURE_FLAGS"==t.type)return void r.promiseResolver(t.data);break;case"GET_TABLE_NAMES":if("TABLE_NAMES"==t.type)return void r.promiseResolver(t.data);break;case"TOKENIZE":if("SCRIPT_TOKENS"==t.type)return void r.promiseResolver(t.data);break;case"DROP_FILE":if("SUCCESS"==t.type)return void r.promiseResolver(t.data);break;case"COPY_FILE_TO_BUFFER":if("FILE_BUFFER"==t.type)return void r.promiseResolver(t.data);break;case"EXPORT_FILE_STATISTICS":if("FILE_STATISTICS"==t.type)return void r.promiseResolver(t.data);break;case"CONNECT":if("CONNECTION_INFO"==t.type)return void r.promiseResolver(t.data);break;case"RUN_PREPARED":case"RUN_QUERY":if("QUERY_RESULT"==t.type)return void r.promiseResolver(t.data);break;case"SEND_PREPARED":case"SEND_QUERY":if("QUERY_START"==t.type)return void r.promiseResolver(t.data);break;case"FETCH_QUERY_RESULTS":if("QUERY_RESULT_CHUNK"==t.type)return void r.promiseResolver(t.data);break;case"CREATE_PREPARED":if("PREPARED_STATEMENT_ID"==t.type)return void r.promiseResolver(t.data)}r.promiseRejecter(new Error(`unexpected response type: ${t.type.toString()}`))}else console.warn(`unassociated response: [${t.requestId}, ${t.type.toString()}]`)}onError(e){console.error(e),console.error(`error in duckdb worker: ${e.message}`),this._pendingRequests.clear()}onClose(){this._workerShutdownResolver(null),0==this._pendingRequests.size?this._pendingRequests.clear():console.warn(`worker terminated with ${this._pendingRequests.size} pending requests`)}async reset(){let e=new Ft("RESET",null);return await this.postTask(e)}async ping(){let e=new Ft("PING",null);await this.postTask(e)}async dropFile(e){let t=new Ft("DROP_FILE",e);return await this.postTask(t)}async dropFiles(){let e=new Ft("DROP_FILES",null);return await this.postTask(e)}async flushFiles(){let e=new Ft("FLUSH_FILES",null);return await this.postTask(e)}async instantiate(e,t=null){let r=new Ft("INSTANTIATE",[e,t]);return await this.postTask(r)}async getVersion(){let e=new Ft("GET_VERSION",null);return await this.postTask(e)}async getFeatureFlags(){let e=new Ft("GET_FEATURE_FLAGS",null);return await this.postTask(e)}async open(e){let t=new Ft("OPEN",e);await this.postTask(t)}async tokenize(e){let t=new Ft("TOKENIZE",e);return await this.postTask(t)}async connectInternal(){let e=new Ft("CONNECT",null);return await this.postTask(e)}async connect(){let e=await this.connectInternal();return new class{constructor(e,t){this._bindings=e,this._conn=t}get bindings(){return this._bindings}async close(){return this._bindings.disconnect(this._conn)}useUnsafe(e){return e(this._bindings,this._conn)}async query(e){this._bindings.logger.log({timestamp:new Date,level:2,origin:4,topic:4,event:4,value:e});let t=await this._bindings.runQuery(this._conn,e),r=It.RecordBatchReader.from(t);return console.assert(r.isSync()),console.assert(r.isFile()),It.Table.from(r)}async send(e){this._bindings.logger.log({timestamp:new Date,level:2,origin:4,topic:4,event:4,value:e});let t=await this._bindings.sendQuery(this._conn,e),r=new Et(this._bindings,this._conn,t),i=await It.RecordBatchReader.from(r);return console.assert(i.isAsync()),console.assert(i.isStream()),i}async getTableNames(e){return await this._bindings.getTableNames(this._conn,e)}async prepare(e){let t=await this._bindings.createPrepared(this._conn,e);return new class{constructor(e,t,r){this.bindings=e,this.connectionId=t,this.statementId=r}async close(){await this.bindings.closePrepared(this.connectionId,this.statementId)}async query(...e){let t=await this.bindings.runPrepared(this.connectionId,this.statementId,e),r=It.RecordBatchReader.from(t);return console.assert(r.isSync()),console.assert(r.isFile()),It.Table.from(r)}async send(...e){let t=await this.bindings.sendPrepared(this.connectionId,this.statementId,e),r=new Et(this.bindings,this.connectionId,t),i=await It.RecordBatchReader.from(r);return console.assert(i.isAsync()),console.assert(i.isStream()),i}}(this._bindings,this._conn,t)}async insertArrowTable(e,t){let r=e.serialize("binary",!0);await this.insertArrowFromIPCStream(r,t)}async insertArrowFromIPCStream(e,t){await this._bindings.insertArrowFromIPCStream(this._conn,e,t)}async insertCSVFromPath(e,t){await this._bindings.insertCSVFromPath(this._conn,e,t)}async insertJSONFromPath(e,t){await this._bindings.insertJSONFromPath(this._conn,e,t)}}(this,e)}async disconnect(e){let t=new Ft("DISCONNECT",e);await this.postTask(t)}async runQuery(e,t){let r=new Ft("RUN_QUERY",[e,t]);return await this.postTask(r)}async sendQuery(e,t){let r=new Ft("SEND_QUERY",[e,t]);return await this.postTask(r)}async fetchQueryResults(e){let t=new Ft("FETCH_QUERY_RESULTS",e);return await this.postTask(t)}async getTableNames(e,t){let r=new Ft("GET_TABLE_NAMES",[e,t]);return await this.postTask(r)}async createPrepared(e,t){let r=new Ft("CREATE_PREPARED",[e,t]);return await this.postTask(r)}async closePrepared(e,t){let r=new Ft("CLOSE_PREPARED",[e,t]);await this.postTask(r)}async runPrepared(e,t,r){let i=new Ft("RUN_PREPARED",[e,t,r]);return await this.postTask(i)}async sendPrepared(e,t,r){let i=new Ft("SEND_PREPARED",[e,t,r]);return await this.postTask(i)}async globFiles(e){let t=new Ft("GLOB_FILE_INFOS",e);return await this.postTask(t)}async registerFileText(e,t){let r=Mt.encode(t);await this.registerFileBuffer(e,r)}async registerFileURL(e,t){void 0===t&&(t=e);let r=new Ft("REGISTER_FILE_URL",[e,t]);await this.postTask(r)}async registerEmptyFileBuffer(e){let t=new Ft("REGISTER_FILE_BUFFER",[e,new Uint8Array]);await this.postTask(t)}async registerFileBuffer(e,t){let r=new Ft("REGISTER_FILE_BUFFER",[e,t]);await this.postTask(r,[t.buffer])}async registerFileHandle(e,t){let r=new Ft("REGISTER_FILE_HANDLE",[e,t]);await this.postTask(r,[])}async collectFileStatistics(e,t){let r=new Ft("COLLECT_FILE_STATISTICS",[e,t]);await this.postTask(r,[])}async exportFileStatistics(e){let t=new Ft("EXPORT_FILE_STATISTICS",e);return await this.postTask(t,[])}async copyFileToBuffer(e){let t=new Ft("COPY_FILE_TO_BUFFER",e);return await this.postTask(t)}async copyFileToPath(e,t){let r=new Ft("COPY_FILE_TO_PATH",[e,t]);await this.postTask(r)}async insertArrowFromIPCStream(e,t,r){if(0==t.length)return;let i=new Ft("INSERT_ARROW_FROM_IPC_STREAM",[e,t,r]);await this.postTask(i,[t.buffer])}async insertCSVFromPath(e,t,r){if(void 0!==r.columns){let e=[];for(let t in r.columns){let i=r.columns[t];e.push(Dt(t,i))}r.columnsFlat=e,delete r.columns}let i=new Ft("IMPORT_CSV_FROM_PATH",[e,t,r]);await this.postTask(i)}async insertJSONFromPath(e,t,r){if(void 0!==r.columns){let e=[];for(let t in r.columns){let i=r.columns[t];e.push(Dt(t,i))}r.columnsFlat=e,delete r.columns}let i=new Ft("IMPORT_JSON_FROM_PATH",[e,t,r]);await this.postTask(i)}},Ut={name:"@duckdb/duckdb-wasm",version:"1.12.1-dev80.0",description:"DuckDB powered by WebAssembly",license:"MPL-2.0",repository:{type:"git",url:"https://github.com/duckdb/duckdb-wasm.git"},keywords:["sql","duckdb","relational","database","data","query","wasm","analytics","olap","arrow","parquet","json","csv"],dependencies:{"apache-arrow":"^6.0.1","wasm-feature-detect":"^1.2.11","fast-glob":"^3.2.10","web-worker":"^1.2.0","@types/emscripten":"^1.39.6"},devDependencies:{"@types/jasmine":"^3.10.3","@typescript-eslint/eslint-plugin":"^5.9.0","@typescript-eslint/parser":"^5.9.0",esbuild:"^0.14.11",eslint:"^8.6.0","eslint-plugin-jasmine":"^4.1.3","eslint-plugin-react":"^7.28.0",jasmine:"^4.0.1","jasmine-core":"^4.0.0","jasmine-spec-reporter":"^7.0.0",karma:"^6.3.10","karma-chrome-launcher":"^3.1.0","karma-coverage":"^2.1.0","karma-firefox-launcher":"^2.1.2","karma-jasmine":"^4.0.1","karma-jasmine-html-reporter":"^1.7.0","karma-sourcemap-loader":"^0.3.8","karma-spec-reporter":"^0.0.32","make-dir":"^3.1.0",nyc:"^15.1.0",prettier:"^2.5.1",puppeteer:"^13.0.1",rimraf:"^3.0.2",typedoc:"^0.22.10",typescript:"^4.5.4"},optionalDependencies:{fsevents:"*"},scripts:{"build:debug":"node bundle.mjs debug && tsc --emitDeclarationOnly","build:release":"node bundle.mjs release && tsc --emitDeclarationOnly",docs:"typedoc",report:"node ./coverage.mjs","test:node":"node --enable-source-maps --experimental-wasm-eh ../../node_modules/jasmine/bin/jasmine ./dist/tests-node.cjs","test:node:debug":"node --inspect-brk --enable-source-maps --experimental-wasm-eh ../../node_modules/jasmine/bin/jasmine ./dist/tests-node.cjs","test:node:coverage":"nyc -r json --report-dir ./coverage/node node --experimental-wasm-eh ../../node_modules/jasmine/bin/jasmine ./dist/tests-node.cjs","test:firefox":"karma start ./karma/tests-firefox.cjs","test:chrome":"karma start ./karma/tests-chrome.cjs","test:chrome:eh":"karma start ./karma/tests-chrome-eh.cjs","test:chrome:coverage":"karma start ./karma/tests-chrome-coverage.cjs","test:browser":"karma start ./karma/tests-all.cjs","test:browser:debug":"karma start ./karma/tests-debug.cjs",test:"npm run test:chrome && npm run test:node","test:coverage":"npm run test:chrome:coverage && npm run test:node:coverage && npm run report",lint:"eslint src test"},files:["dist","!dist/types/test"],"main:":"dist/duckdb-browser.cjs","module:":"dist/duckdb-browser.mjs",types:"dist/duckdb-browser.d.ts",jsdelivr:"dist/duckdb-browser.cjs",unpkg:"dist/duckdb-browser.mjs",sideEffects:!1,browser:{fs:!1,path:!1,perf_hooks:!1,os:!1,worker_threads:!1},exports:{"./dist/duckdb.wasm":"./dist/duckdb.wasm","./dist/duckdb-next.wasm":"./dist/duckdb-next.wasm","./dist/duckdb-next-coi.wasm":"./dist/duckdb-next-coi.wasm","./dist/duckdb-browser":"./dist/duckdb-browser.mjs","./dist/duckdb-browser.cjs":"./dist/duckdb-browser.cjs","./dist/duckdb-browser.mjs":"./dist/duckdb-browser.mjs","./dist/duckdb-browser-blocking":"./dist/duckdb-browser-blocking.mjs","./dist/duckdb-browser-blocking.mjs":"./dist/duckdb-browser-blocking.mjs","./dist/duckdb-browser-blocking.cjs":"./dist/duckdb-browser-blocking.cjs","./dist/duckdb-browser-next-coi.pthread.worker.js":"./dist/duckdb-browser-next-coi.pthread.worker.js","./dist/duckdb-browser-next-coi.worker.js":"./dist/duckdb-browser-next-coi.worker.js","./dist/duckdb-browser-next.worker.js":"./dist/duckdb-browser-next.worker.js","./dist/duckdb-browser.worker.js":"./dist/duckdb-browser.worker.js","./dist/duckdb-node":"./dist/duckdb-node.cjs","./dist/duckdb-node.cjs":"./dist/duckdb-node.cjs","./dist/duckdb-node-blocking":"./dist/duckdb-node-blocking.cjs","./dist/duckdb-node-blocking.cjs":"./dist/duckdb-node-blocking.cjs","./dist/duckdb-node-next.worker.cjs":"./dist/duckdb-node-next.worker.cjs","./dist/duckdb-node.worker.cjs":"./dist/duckdb-node.worker.cjs","./blocking":{browser:{types:"./dist/duckdb-browser-blocking.d.ts",import:"./dist/duckdb-browser-blocking.mjs",require:"./dist/duckdb-browser-blocking.cjs"},node:{types:"./dist/duckdb-node-blocking.d.ts",require:"./dist/duckdb-node-blocking.cjs",import:"./dist/duckdb-node-blocking.cjs"},types:"./dist/duckdb-browser-blocking.d.ts",import:"./dist/duckdb-browser-blocking.mjs",require:"./dist/duckdb-browser-blocking.cjs"},".":{browser:{types:"./dist/duckdb-browser.d.ts",import:"./dist/duckdb-browser.mjs",require:"./dist/duckdb-browser.cjs"},node:{types:"./dist/duckdb-node.d.ts",import:"./dist/duckdb-node.cjs",require:"./dist/duckdb-node.cjs"},types:"./dist/duckdb-browser.d.ts",import:"./dist/duckdb-browser.mjs",require:"./dist/duckdb-browser.cjs"}}},Nt=Ut.name,Vt=Ut.version,Pt=Ut.version.split(".");Pt[0],Pt[1],Pt[2];var Lt=null,xt=null,kt=null,jt=null,Ct=null;async function zt(){return null==Lt&&(Lt="undefined"!=typeof BigInt64Array),null==xt&&(xt=await(async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,8,1,6,0,6,64,25,11,11])))()),null==kt&&(kt=await(async e=>{try{return"undefined"!=typeof MessageChannel&&(new MessageChannel).port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(e)}catch(e){return!1}})(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11]))),null==jt&&(jt=await(async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11])))()),null==Ct&&(Ct=await(async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,3,1,0,1,10,14,1,12,0,65,0,65,0,65,0,252,10,0,0,11])))()),{bigInt64Array:Lt,crossOriginIsolated:globalThis.crossOriginIsolated||!1,wasmExceptions:xt,wasmSIMD:jt,wasmThreads:kt,wasmBulkMemory:Ct}}async function Wt(e){let t=await zt();if(t.wasmExceptions&&t.wasmSIMD){if(t.wasmThreads&&t.crossOriginIsolated&&e.nextCOI)return{mainModule:e.nextCOI.mainModule,mainWorker:e.nextCOI.mainWorker,pthreadWorker:e.nextCOI.pthreadWorker};if(e.next)return{mainModule:e.next.mainModule,mainWorker:e.next.mainWorker,pthreadWorker:null}}return{mainModule:e.mvp.mainModule,mainWorker:e.mvp.mainWorker,pthreadWorker:null}}f(lt())},8968:(e,t,r)=>{var i=([i])=>r.v(t,e.id,"f272ce859168ca188950",{"./shell_bg.js":{__wbg_setcursorBlink_a86479d2e1c79045:i.y1,__wbg_setcursorWidth_33b9ca879009416e:i.fc,__wbg_setdrawBoldTextInBrightColors_fd29f92ff197d87d:i.Z_,__wbg_setfontSize_2390052bdfa0951f:i.ie,__wbg_setrightClickSelectsWord_b360a1259d32073b:i.NP,__wbg_setrows_869f76d0b575783a:i.h3,__wbg_settheme_8e79c01462f90cdf:i.DW,__wbg_setforeground_edd982f95949c129:i.bK,__wbg_setbackground_24012fa04dc675fc:i.GR,__wbg_setbrightYellow_862f40b15257431a:i.po,__wbg_construct_9d9938ba79ea4475:i.R0,__wbg_cols_f4f2fd6e0933a109:i.X3,__wbg_focus_5fff41e8198ad0b4:i.vq,__wbg_open_c7703947d6302f6c:i.JO,__wbg_attachCustomKeyEventHandler_9c38a062a62eddd5:i.Pv,__wbg_write_167ebfb900d36862:i.Ub,__wbg_setOption_ca4753aa51a9406f:i.aU,__wbg_loadAddon_0d8374e2ad409924:i.FN,__wbindgen_object_drop_ref:i.ug,__wbg_instanceof_WebglAddon_c39f68697a31af73:i.aH,__wbg_backgroundColor_13124d7a2f6922da:i.oM,__wbg_withWebGL_23ecf5d40e6afbed:i.gk,__wbg_new_58c6288db0a82870:i.VL,__wbindgen_object_clone_ref:i.m_,__wbg_new_6bf4fb65423e34f9:i.Yr,__wbg_new_670d6f7b0bfae3ee:i.Mb,__wbg_instanceof_WebLinksAddon_fbcf4efb54881c53:i.jo,__wbg_fit_fea2302f520fa7cc:i.KI,__wbg_getPlatformFeatures_c95d7aa09758c47e:i.ly,__wbg_bigInt64Array_c5434225e36e999d:i.fF,__wbg_crossOriginIsolated_8ef3a49137dfb764:i.c7,__wbg_wasmThreads_ee9dc3f62d002e58:i.Ou,__wbg_wasmSIMD_65312a153e3a0ea1:i.Wk,__wbg_wasmBulkMemory_42658b625c12cf27:i.u4,__wbg_wasmExceptions_fd3690b4fcea2b6c:i.zd,__wbg_open_1c24085b4339ac18:i.wI,__wbg_exportFileStatistics_047e5ff39e3cd97e:i.PT,__wbg_collectFileStatistics_d5bb7163392f63a7:i.z5,__wbg_getFeatureFlags_3fbe38b898027f8e:i.W4,__wbg_tokenize_17d3fb98b81f8e3b:i.WY,__wbg_readClipboardText_cdb76d02b35ab9d4:i.if,__wbg_getVersion_498e84d9ed3a6710:i.MH,__wbg_pushInputToHistory_be6169df38305347:i.$M,__wbg_connectInternal_2a301658fb915262:i.y2,__wbg_disconnect_503fc005d621c8c7:i.bL,__wbg_log_39e5c6dfbf35ce2a:i.Bu,__wbg_error_e42d6a50bd4cd544:i.Am,__wbg_warn_8c6115cb2bc8bed9:i.PF,__wbg_runQuery_73797dc478f1bce2:i.wE,__wbindgen_cb_drop:i.G6,__wbg_openFileExplorer_b737860b77d8e260:i.Re,__wbg_updateFileInfo_cf74e873b21c6b77:i.b1,__wbg_offsets_b3b1bdd37d9a4f30:i.f4,__wbg_types_cc4d77772fac0646:i.O2,__wbg_blockStats_b4d97ec10e70983d:i.xF,__wbg_totalFileWrites_bbaee851a41a14ff:i.u3,__wbg_totalFileReadsAhead_ddd1fa3f99bbb6b5:i.wi,__wbg_totalFileReadsCold_1db94cbad8a68e51:i.dJ,__wbg_totalFileReadsCached_47f56ad6f5eea3e2:i.SO,__wbg_totalPageAccesses_872b05c6d29a292d:i.Dp,__wbg_totalPageLoads_f735ffd254650c2a:i.ZH,__wbg_blockSize_672ac525e53ba36d:i.Pb,__wbg_static_accessor_PACKAGE_NAME_da91149963a32187:i.yj,__wbg_static_accessor_PACKAGE_VERSION_8aa2f518d9081bf5:i.bM,__wbg_instanceof_Window_11e25482011fc506:i.s8,__wbg_performance_9d1ecf711183e1d5:i.pV,__wbg_now_44a034aa2e1d73dd:i.OK,__wbg_type_55a19f61b3198ce6:i.WD,__wbg_ctrlKey_8fa508d0b540bc8f:i.Q_,__wbg_metaKey_d60075e40f8f06d7:i.Gx,__wbg_key_6827d862c9cc3928:i.mR,__wbg_get_b7bbf50adcc94294:i.Zo,__wbg_length_555f836564bf148d:i.Fp,__wbg_call_ba36642bd901572b:i.qw,__wbg_new_3e1ee746fe308c9f:i.V8,__wbg_message_e440fbd911a845a2:i.MY,__wbg_newnoargs_9fdd8f3961dd1bee:i.UL,__wbg_call_3fc07b7d5fc9022d:i.tw,__wbg_new_edbe38a4e21329dd:i.xX,__wbg_new_c143a4f563f78c4e:i.Y4,__wbg_resolve_cae3d8f752f5db88:i.Xb,__wbg_then_c2361a9d5c9a4fcb:i.g1,__wbg_then_6c9a4bf55755f9b8:i.KA,__wbg_self_bb69a836a72ec6e9:i.tS,__wbg_window_3304fc4b414c9693:i.R$,__wbg_globalThis_e0d21cabc6630763:i.md,__wbg_global_8463719227271676:i.IF,__wbindgen_is_undefined:i.XP,__wbg_buffer_9e184d6f785de5ed:i.zP,__wbg_length_2d56cb37075fcfb1:i.uQ,__wbg_new_e8101319e4cf95fc:i.td,__wbg_set_e8ae7b27314e8b98:i.Ct,__wbindgen_number_get:i.M1,__wbindgen_string_get:i.qt,__wbindgen_debug_string:i.fY,__wbindgen_throw:i.Or,__wbindgen_rethrow:i.nD,__wbindgen_memory:i.oH,__wbindgen_closure_wrapper397:i.jC,__wbindgen_closure_wrapper816:i.n7}});r.a(e,(e=>{var t=e([r(1978)]);return t.then?t.then(i):i(t)}),1)}}]);